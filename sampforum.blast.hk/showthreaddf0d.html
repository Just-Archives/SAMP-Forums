<!DOCTYPE html><!-- start: showthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>[Tutorial] GeoIP and handling rangebans with MySQL</title>
<!-- start: headerinclude -->
<link rel="alternate" type="application/rss+xml" title="Latest Threads (RSS 2.0)" href="syndication.php" />
<link rel="alternate" type="application/atom+xml" title="Latest Threads (Atom 1.0)" href="syndication9896.php?type=atom1.0" />
<link rel="shortcut icon" href="favicon.ico" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<script type="text/javascript" src="jscripts/jquery7e70.js?ver=1823"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="jscripts/jquery.plugins.minc4a7.js?ver=1821"></script>
<script type="text/javascript" src="jscripts/generalad07.js?ver=1827"></script>
<script type="text/javascript" src="images/bootbb/js/tooltip.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link href='https://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css' />
<!-- link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" / -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">

<link type="text/css" rel="stylesheet" href="cache/themes/theme3/global982f.css?t=1628341445" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/css378d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/responsive78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/star_ratings78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/showthread78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/greyfa7b.css?t=1628447859" />




<script type="text/javascript">
jQuery(document).on('click', '.panel-heading span.clickable', function(e){
    var jQuerythis = jQuery(this);
	if(!jQuerythis.hasClass('panel-collapsed')) {
		jQuerythis.parents('.panel').find('.panel-body').slideUp();
		jQuerythis.addClass('panel-collapsed');
		jQuerythis.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
	} else {
		jQuerythis.parents('.panel').find('.panel-body').slideDown();
		jQuerythis.removeClass('panel-collapsed');
		jQuerythis.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
	}
})
</script>




<script type="text/javascript">
	lang.unknown_error = "An unknown error has occurred.";
	lang.confirm_title = "Please Confirm";
	lang.expcol_collapse = "[-]";
	lang.expcol_expand = "[+]";
	lang.select2_match = "One result is available, press enter to select it.";
	lang.select2_matches = "{1} results are available, use up and down arrow keys to navigate.";
	lang.select2_nomatches = "No matches found";
	lang.select2_inputtooshort_single = "Please enter one or more character";
	lang.select2_inputtooshort_plural = "Please enter {1} or more characters";
	lang.select2_inputtoolong_single = "Please delete one character";
	lang.select2_inputtoolong_plural = "Please delete {1} characters";
	lang.select2_selectiontoobig_single = "You can only select one item";
	lang.select2_selectiontoobig_plural = "You can only select {1} items";
	lang.select2_loadmore = "Loading more results&hellip;";
	lang.select2_searching = "Searching&hellip;";
	
	var templates = {
		modal: '<div class=\"modal\">\
	<div style=\"overflow-y: auto; max-height: 400px;\">\
		<table border=\"0\" cellspacing=\"0\" cellpadding=\"5\" class=\"tborder\">\
			<tr>\
				<td class=\"thead\"><strong>__title__</strong></td>\
			</tr>\
			<tr>\
				<td class=\"trow1\">__message__</td>\
			</tr>\
			<tr>\
				<td class=\"tfoot\">\
					<div style=\"text-align: center\" class=\"modal_buttons\">__buttons__</div>\
				</td>\
			</tr>\
		</table>\
	</div>\
</div>',
		modal_button: '<input type=\"submit\" class=\"button\" value=\"__title__\"/>&nbsp;'
	};
	
	var cookieSecureFlag = "0";
	var cookieDomain = ".sampforum.blast.hk";
	var cookiePath = "index.html";
	var cookiePrefix = "";
	var deleteevent_confirm = "Are you sure you want to delete this event?";
	var removeattach_confirm = "Are you sure you want to remove the selected attachment from this post?";
	var loading_text = 'Loading. <br />Please Wait&hellip;';
	var saving_changes = 'Saving changes&hellip;';
	var use_xmlhttprequest = "1";
	var my_post_key = "f392eb8921bb5cc239ee0d26cd51170d";
	var rootpath = "index.html";
	var imagepath = "images/bootbb/index.html";
  	var yes_confirm = "Yes";
	var no_confirm = "No";
	var MyBBEditor = null;
	var spinner_image = "images/bootbb/spinner.gif";
	var spinner = "<img src='" + spinner_image +"' alt='' />";
	var modal_zindex = 9999;
</script>

<!-- Make videos responsive - https://github.com/davatron5000/FitVids.js (additional video sites added for MyBB) -->
<script type="text/javascript" src="images/bootbb/js/jquery.fitvids.js"></script>
<script>
	$(document).ready(function(){
		// Target the iframe parent div
		var bvc = $(".bootbb-video-container");
		//bvc.css("max-width", "800px");
		bvc.fitVids();
	});
</script>
<!-- end: headerinclude -->
<script>
<!--
	var quickdelete_confirm = "Are you sure you want to delete this post?";
	var quickrestore_confirm = "Are you sure you want to restore this post?";
	var allowEditReason = "1";
	lang.save_changes = "Save Changes";
	lang.cancel_edit = "Cancel Edit";
	lang.quick_edit_update_error = "There was an error editing your reply:";
	lang.quick_reply_post_error = "There was an error posting your reply:";
	lang.quick_delete_error = "There was an error deleting your reply:";
	lang.quick_delete_success = "The post was deleted successfully.";
	lang.quick_delete_thread_success = "The thread was deleted successfully.";
	lang.quick_restore_error = "There was an error restoring your reply:";
	lang.quick_restore_success = "The post was restored successfully.";
	lang.editreason = "Edit Reason";
// -->
</script>
<!-- jeditable (jquery) -->
<script src="jscripts/reportdf88.js?ver=1820"></script>
<script src="jscripts/jeditable/jeditable.min.js"></script>
<script src="jscripts/threadad07.js?ver=1827"></script>
<meta name="description" content="This tutorial will explain how you can set up a GeoIP system without relying on external services that usually involve HTTP(). The only drawback to this method is that you will periodically (every few" />
<link rel="canonical" href="showthreaddf0d.html?tid=585996" />
</head>
<body>
	<!-- start: header -->
<header>
<div class="navbar navbar-default">
     <div class="container">
          <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="Toggle navigation">
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span> 
               </button>
			  
			  <div class="navbar-header scaleimages">
				  <!--<a class="navbar-brand" href="https://sampforum.blast.hk">BootBB</a>-->
				  <a class="" href="index.html"><img src="images/bootbb/logo_forum.gif" /></a>
			  
			  </div>
          </div>
          <div class="collapse navbar-collapse navbar-ex1-collapse">
			  <ul class="nav navbar-nav navbar-right">
				  <!--<li id="nav-portal"><a href="https://sampforum.blast.hk/portal.php"><i class="fa fa-bell"></i> Portal</a></li>-->
               <li id="nav-forums"><a href="index-2.html"><i class="fa fa-group"></i> Forum</a></li>
				<!--<li><a href="https://sampforum.blast.hk/search.php?action=getnew"><i class="fa fa-comment"></i> New Posts</a></li>
            	<li><a href="https://sampforum.blast.hk/search.php?action=getdaily"><i class="fa fa-comments"></i> Today's Posts</a></li>-->
               <li id="nav-search"><a href="search.html"><i class="fa fa-search"></i> Search</a></li>
               <li id="nav-member"><a href="memberlist.html"><i class="fa fa-users"></i> Members</a></li>
               <li id="nav-help"><a href="misc0615.html?action=help"><i class="fa fa-life-bouy"></i> Help</a></li>
				  
<!--<li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cubes"></i> Misc <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
			  <li id="nav-help"><a href="https://sampforum.blast.hk/misc.php?action=help"><i class="fa fa-life-bouy"></i> Help</a></li>
			  <li class="divider"></li>
			  <li id="nav-calendar"><a href="https://sampforum.blast.hk/calendar.php"><i class="fa fa-calendar"></i> Calendar</a></li>
          </ul>
</li> -->
</ul>
  
          </div>
     </div>
</div>
</header>


<div id="container">
	<a name="top" id="top"></a>
		<div id="header">
			<div id="panel">
				<div class="upper">
					<div class="container">

						<!-- start: header_welcomeblock_guest -->
<!--<span><a href="https://sampforum.blast.hk/member.php?action=login" onclick="$('#quick_login').modal({ fadeDuration: 250, keepelement: true }); return false;" class="login btn btn-danger" style="color: #fff;"><i class="fa fa-sign-in"></i> Login</a> <a href="https://sampforum.blast.hk/member.php?action=register" class="register btn btn-success" style="color: #fff;"><i class="fa fa-user-plus"></i> Register</a></span>-->

<span class="float_right hidden-xs">Hello There, Guest!</span>

<br class="clearfix" />
	

				<div class="modal" id="quick_login" style="display: none;">
					<form method="post" action="https://sampforum.blast.hk/member.php">
						<input name="my_post_key" type="hidden" value="f392eb8921bb5cc239ee0d26cd51170d" />
						<input name="action" type="hidden" value="do_login" />
						<input name="url" type="hidden" value="" />
						<input name="quick_login" type="hidden" value="1" />
						<table width="100%" cellspacing="0" cellpadding="0" border="0" class="tborder">
							<tr>
								<td class="thead" colspan="2"><strong>Login</strong></td>
							</tr>
							<tr>
								<td class="trow1" width="25%"><strong>Username:</strong></td>
								<td class="trow1"><input name="quick_username" id="quick_login_username" type="text" value="" class="textbox initial_focus" /></td>
							</tr>
							<tr>
								<td class="trow2"><strong>Password:</strong></td>
								<td class="trow2">
									<input name="quick_password" id="quick_login_password" type="password" value="" class="textbox" /> <a href="member9a16.html?action=lostpw" class="lost_password">Lost Password?</a>
								</td>
							</tr>
							<tr>
								<td class="trow1">&nbsp;</td>
								<td class="trow1 remember_me">
									<input name="quick_remember" id="quick_login_remember" type="checkbox" value="yes" class="checkbox" checked="checked" />
									<label for="quick_login_remember">Remember me</label>
								</td>
							</tr>
							<tr>
								<td class="trow2" colspan="2">
									<div align="center"><input name="submit" type="submit" class="button" value="Login" /></div>
								</td>
							</tr>
						</table>
					</form>
				</div>
				<script type="text/javascript">
					$("#quick_login input[name='url']").val($(location).attr('href'));
				</script>
<!-- end: header_welcomeblock_guest -->
					
					</div>
			</div>
			</div>
	</div>
			</div>
               
				   
                <main class="container">
				<br />
                 <!-- start: nav -->
<ol class="breadcrumb container"><!-- start: nav_bit -->
<li><a href="index-2.html">SA-MP Forums Archive</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplayb1dd.html?fid=8">SA-MP Scripting and Plugins</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplay696f.html?fid=12">Scripting Help</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplay79ca.html?fid=70&amp;page=6">Tutorials</a></li>
<!-- end: nav_bit --><!-- start: nav_sep_active -->

<!-- end: nav_sep_active --></ol>
<!-- end: nav -->
				
				
				
				
				
				
<!-- end: header -->
	
	
	<div class="float_left">
		<!-- start: multipage -->
<div class="pagination">
<span class="pages">Pages (2):</span>
<!-- start: multipage_page_current -->
 <span class="pagination_current">1</span>
<!-- end: multipage_page_current --><!-- start: multipage_page -->
<a href="showthreade8cd-3.html?tid=585996&amp;page=2" class="pagination_page">2</a>
<!-- end: multipage_page --><!-- start: multipage_nextpage -->
<a href="showthreade8cd-3.html?tid=585996&amp;page=2" class="pagination_next">Next &raquo;</a>
<!-- end: multipage_nextpage -->
</div>
<!-- end: multipage -->
	</div>
	<div class="float_right">
		
	</div>
	<br class="clear" />
	<div class="tborder tfixed clear">
		<div class="thead">
				<div class="float_right">
					<span class="smalltext"><a href="showthread45df-3.html?mode=threaded&amp;tid=585996&amp;pid=3553859#pid3553859">Threaded Mode</a></span>
				</div>
				
					[Tutorial] GeoIP and handling rangebans with MySQL
			</div>
	</div>
<div id="posts_container">
	<div id="posts">
		<!-- start: postbit_classic -->

<a id="pid3553859"></a>
<div class="post classic " style="" id="post_3553859">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8928.html?action=profile&amp;uid=13347"><img src="uploads/avatars/13347.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8928.html?action=profile&amp;uid=13347">Vince</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Spam Machine<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 10,066<br />
	Threads: 38<br />
	Joined: Sep 2007
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation5f8c.html?uid=13347"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread0994-2.html?tid=585996&amp;pid=3553859#pid3553859" title="GeoIP and handling rangebans with MySQL">#1</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 1 by Vince" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">18.08.2015, 13:29 <span class="post_edit" id="edited_by_3553859"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3553859">
		This tutorial will explain how you can set up a GeoIP system without relying on external services that usually involve HTTP(). The only drawback to this method is that you will periodically (every few months or so) need to update the IP data to be, well, up-to-date. <br />
<br />
<b>Warning:</b> Advanced. I don't recommend you attempting this if you're just starting with Pawn and/or MySQL. It gets really technical at some points.<br />
<br />
This system can also be used, however, to easily instate range bans that use CIDR ranges. Most systems that I have seen so far store the IP address in its human readable string representation (e.g. 127.0.0.1) which kind of limits the ways you can instate bans. You can ban 127.0.0.* which will ban 127.0.0.0 through 127.0.0.255 or you can ban 127.0.*.* which will ban 127.0.0.0 through 127.0.255.255. But what if a particular ISP has been assigned (for example) 127.0.248.0 through 127.0.255.255? Oops. How are we going to bans this range? 127.0.248.* is not enough and 127.0.*.* is way too much. This is even more prevalent with ranges that extend past the x.x.*.* boundary. For example, a range in Australia ranges from 1.40.0.0 through 1.44.255.255. You can't possibly ban 1.*.*.* because that would also include ranges from many different countries in Asia.<br />
<br />
<b><u>Preparing the data</u></b><br />
For this system we will use the <a href="http://dev.maxmind.com/geoip/legacy/geolite/" target="_blank">MaxMind Legacy GeoLite database</a>. Download the CSV/zip for GeoLite country and unpack it somewhere. We are going to prepare this file for insertion into MySQL. Use a text editor that has proper support for regular expressions such as Notepad++ or Sublime. You really don't want to prepare this file by hand, trust me. <img alt="" border="0" class="inlineimg" src="images/smilies/wink.png" title="Wink"/> Note for Notepad++ users: close any other open documents and then restart Notepad++ before you start the next part, I have experienced glitchy behavior and even an access violation crash.<br />
<br />
Now open the CSV file in the text editor. You will notice that it is more than 106 <i>thousand</i> lines long. This is the reason you don't want to do this by hand. Open the search and replace window, which is usually the most easily accessed by pressing CTRL-H. Make sure that the option to use a regular expression is enabled. In the Find box type (or copy):<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">"[\.\d]+","[\.\d]+","(\d+)","(\d+)","(.+)",".+"</pre>
</div>and in the replace box type (or copy):<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">\(&#36;1, &#36;2, '&#36;3'\),</pre>
</div>Once you have done that, click Replace All. <b>Warning</b>: because of the size of the file this may take <b>several minutes</b> and it may <b>look like the application hangs or crashes</b>. <b>This is normal</b>. Don't do anything in the application while it's busy replacing or you might risk actually crashing the application. <br />
<br />
Once the replacing is done you should end up with something like this:<br />
<br />
<img alt="" border="0" src="http://i.imgur.com/PMiMy6L.png"/><br />
<br />
We have now extracted the numerical IP addresses (more on that further down) and the ISO country codes and parsed them into an SQL query (or rather, soon to be query). You can find more information on regular expression on the Internet. Now the only thing we need to do is complete our query. First replace the trailing comma at the end of the file with a semicolon. Then scroll to the top (or press CTRL-Home) and write at the top of the file:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">INSERT INTO list_ipv4 </span><span style="color: #007700">(</span><span style="color: #0000BB">range_start</span><span style="color: #007700">, </span><span style="color: #0000BB">range_end</span><span style="color: #007700">, </span><span style="color: #0000BB">country_code</span><span style="color: #007700">) </span><span style="color: #0000BB">VALUES 
<br/></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Save the file with a .sql extension anywhere you can find it. We will use this later. <br />
<br />
<b><u>Preparing the tables</u></b><br />
We will first need to prepare two new tables. The first one we will call list_countries and it will evidently store a list of all the <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank">ISO two letter country codes</a> and their names. In the interest of saving time, I have already prepared this. The SQL script can be found here: <a href="http://pastebin.com/YFCZ7Tzq" target="_blank">http://pastebin.com/YFCZ7Tzq</a>. Run it against your database.<br />
<br />
The second one we will call list_ipv4 and it will of course store the list of IP ranges we prepared. Create the table:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 210px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">CREATE TABLE list_ipv4 </span><span style="color: #007700">(
<br/>  </span><span style="color: #0000BB">range_start INT UNSIGNED NOT NULL</span><span style="color: #007700">,
<br/>  </span><span style="color: #0000BB">range_end INT UNSIGNED NOT NULL</span><span style="color: #007700">,
<br/>  </span><span style="color: #0000BB">country_code CHAR</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">) </span><span style="color: #0000BB">NOT NULL</span><span style="color: #007700">,
<br/>  </span><span style="color: #0000BB">banned INT UNSIGNED NOT NULL </span><span style="color: #007700">DEFAULT </span><span style="color: #0000BB">0</span><span style="color: #007700">,
<br/>  </span><span style="color: #0000BB">PRIMARY KEY </span><span style="color: #007700">(</span><span style="color: #0000BB">range_start</span><span style="color: #007700">, </span><span style="color: #0000BB">range_end</span><span style="color: #007700">, </span><span style="color: #0000BB">country_code</span><span style="color: #007700">),
<br/>  </span><span style="color: #0000BB">CONSTRAINT fk_ipv4_countrycode
<br/>    FOREIGN KEY </span><span style="color: #007700">(</span><span style="color: #0000BB">country_code</span><span style="color: #007700">)
<br/>    </span><span style="color: #0000BB">REFERENCES list_countries </span><span style="color: #007700">(</span><span style="color: #0000BB">country_code</span><span style="color: #007700">)
<br/>    </span><span style="color: #0000BB">ON DELETE RESTRICT
<br/>    ON UPDATE RESTRICT
<br/></span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><b><u>Importing the data</u></b><br />
Now for importing the main bulk of our data, use the file we prepared earlier. Importing it may be tricky, given its size. You may not be able to use phpMyAdmin due to the size restriction on file uploads. Importing with the command line is probably the fastest, but this can be quite daunting and if you don't feel comfortable doing that then you may use another client such as MySQL Workbench (and the latter one may be your only choice if you're on shared host, because you don't have CLI access). For importing with the command line you can follow this video tutorial of mine (with my awesome voice <img alt="" border="0" class="inlineimg" src="images/smilies/wink.png" title="Wink"/>): <a href="https://*********/wCydBvnP5as?t=1m11s" target="_blank">https://*********/wCydBvnP5as?t=1m11s</a> (skip the create database part)<br />
<br />
<b><u>Usage</u></b><br />
Once you have done all this, we can finally start actually using it. One thing I have mentioned, and which is also visible in the screenshot, is numerical IP addresses. Why numerical? First: because it is faster. Any RDBMS is much faster with numbers than it is with strings. Secondly, it allows allows you to use the BETWEEN keyword (example below). You can convert from string representation (as returned by GetPlayerIp) to numerical representation by using the inbuilt INET_ATON() function, and you can convert from the numerical representation to the string representation by using the also inbuilt INET_NTOA() function. (<a href="https://dev.mysql.com/doc/refman/5.0/en/miscellaneous-functions.html#function_inet-aton" target="_blank">https://dev.mysql.com/doc/refman/5.0...tion_inet-aton</a>)<br />
<br />
This is a simple snippet from my own code that shows a connecting player's IP address and country to all online admins:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 178px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public </span><span style="color: #0000BB">OnPlayerConnect</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)
<br/>{
<br/>    </span><span style="color: #0000BB">GetPlayerName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">gPlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pName</span><span style="color: #007700">], </span><span style="color: #0000BB">MAX_PLAYER_NAME</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">GetPlayerIp     </span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">gPlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pIP</span><span style="color: #007700">]    , </span><span style="color: #0000BB">16</span><span style="color: #007700">);
<br/>    
<br/>    new </span><span style="color: #0000BB">mysqlquery</span><span style="color: #007700">[</span><span style="color: #0000BB">160</span><span style="color: #007700">];
<br/>    </span><span style="color: #0000BB">mysql_format</span><span style="color: #007700">(</span><span style="color: #0000BB">db</span><span style="color: #007700">, </span><span style="color: #0000BB">mysqlquery</span><span style="color: #007700">, </span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">mysqlquery</span><span style="color: #007700">), </span><span style="color: #DD0000">"SELECT c.country_name FROM list_ipv4 i JOIN list_countries c ON i.country_code = c.country_code WHERE INET_ATON('%e') BETWEEN range_start AND range_end;"</span><span style="color: #007700">, </span><span style="color: #0000BB">gPlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pIP</span><span style="color: #007700">]);
<br/>    </span><span style="color: #0000BB">mysql_tquery</span><span style="color: #007700">(</span><span style="color: #0000BB">db</span><span style="color: #007700">, </span><span style="color: #0000BB">mysqlquery</span><span style="color: #007700">, </span><span style="color: #DD0000">"GetCountryName"</span><span style="color: #007700">, </span><span style="color: #DD0000">"d"</span><span style="color: #007700">, </span><span style="color: #0000BB">playerid</span><span style="color: #007700">);

<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 226px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public </span><span style="color: #0000BB">GetCountryName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)
<br/>{
<br/>    new </span><span style="color: #0000BB">country</span><span style="color: #007700">[</span><span style="color: #0000BB">44</span><span style="color: #007700">] = </span><span style="color: #DD0000">"Unknown"</span><span style="color: #007700">;
<br/>    
<br/>    if(</span><span style="color: #0000BB">cache_get_row_count</span><span style="color: #007700">(</span><span style="color: #0000BB">db</span><span style="color: #007700">))
<br/>    {
<br/>        </span><span style="color: #0000BB">cache_get_row</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">country</span><span style="color: #007700">, </span><span style="color: #0000BB">db</span><span style="color: #007700">);
<br/>    }
<br/>    
<br/>    new </span><span style="color: #0000BB">msg</span><span style="color: #007700">[</span><span style="color: #0000BB">144</span><span style="color: #007700">];
<br/>    </span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">msg</span><span style="color: #007700">, </span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">msg</span><span style="color: #007700">), </span><span style="color: #DD0000">"Join: %s (%d) [%s / %s] [%d / %d]"</span><span style="color: #007700">, </span><span style="color: #0000BB">gPlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pName</span><span style="color: #007700">], </span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">gPlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pIP</span><span style="color: #007700">], </span><span style="color: #0000BB">country</span><span style="color: #007700">, </span><span style="color: #0000BB">Iter_Count</span><span style="color: #007700">(</span><span style="color: #0000BB">Player</span><span style="color: #007700">), </span><span style="color: #0000BB">MAX_PLAYERS</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">SendAdminMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">COLOR_GRAY</span><span style="color: #007700">, </span><span style="color: #0000BB">msg</span><span style="color: #007700">);
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>That will show something similar to: <i>Join: Vince0789 (3) [127.0.0.1 / Belgium] [5 / 100]</i><br />
<br />
<b><u>Banning</u></b><br />
You may have noticed that I have purposefully added a "banned" column to the list_ipv4 table. Initially all values in that column are 0, which means no range is banned. If you set that value to 1 (or a Unix timestamp if you're interested in the time the ban was set) you can mark that range as being banned. You can then fetch the 'banned' value when a player connects (using a similar system as outlined above), and boot him out if the value is anything other than 0. It may be a good idea to mark all A1 (anonymous proxy) ranges as banned to begin with.
	</div>
	
	
	<div class="post_meta" id="post_meta_3553859">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchb624.html?action=finduser&amp;uid=13347" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplya99f.html?tid=585996&amp;replyto=3553859" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3553913"></a>
<div class="post classic " style="" id="post_3553913">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member407a.html?action=profile&amp;uid=222108"><img src="uploads/avatars/222108.png" alt="" width="52" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member407a.html?action=profile&amp;uid=222108">Abagail</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 3,133<br />
	Threads: 71<br />
	Joined: Dec 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationcc21.html?uid=222108"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread8303-5.html?tid=585996&amp;pid=3553913#pid3553913" title="Re: GeoIP and handling rangebans with MySQL">#2</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 2 by Abagail" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">18.08.2015, 14:52 <span class="post_edit" id="edited_by_3553913"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3553913">
		Neat tutorial - you never fail to properly write a tutorial.
	</div>
	
	
	<div class="post_meta" id="post_meta_3553913">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search144a.html?action=finduser&amp;uid=222108" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply8bfd.html?tid=585996&amp;replyto=3553913" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3553934"></a>
<div class="post classic " style="" id="post_3553934">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member61fc.html?action=profile&amp;uid=212473"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member61fc.html?action=profile&amp;uid=212473"><s>Crystallize</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,498<br />
	Threads: 110<br />
	Joined: Aug 2013
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread8e9d-4.html?tid=585996&amp;pid=3553934#pid3553934" title="Re: GeoIP and handling rangebans with MySQL">#3</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 3 by Crystallize" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">18.08.2015, 15:17 <span class="post_edit" id="edited_by_3553934"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3553934">
		A.W.E.S.O.M.E thanks for this awesome tutorial and greatly detailed
	</div>
	
	
	<div class="post_meta" id="post_meta_3553934">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search2716.html?action=finduser&amp;uid=212473" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply33ba.html?tid=585996&amp;replyto=3553934" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3554435"></a>
<div class="post classic " style="" id="post_3554435">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member1c68.html?action=profile&amp;uid=164082"><img src="uploads/avatars/164082.png" alt="" width="55" height="35" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member1c68.html?action=profile&amp;uid=164082">ThePhenix</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 801<br />
	Threads: 29<br />
	Joined: May 2012
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationcdb8.html?uid=164082"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread6082.html?tid=585996&amp;pid=3554435#pid3554435" title="Re: GeoIP and handling rangebans with MySQL">#4</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 4 by ThePhenix" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">19.08.2015, 04:31 <span class="post_edit" id="edited_by_3554435"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3554435">
		Wow, that's amazing, I've always wanted to find a proper way to make a system like this.
	</div>
	
	
	<div class="post_meta" id="post_meta_3554435">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searche411.html?action=finduser&amp;uid=164082" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplyb8a6.html?tid=585996&amp;replyto=3554435" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3554525"></a>
<div class="post classic " style="" id="post_3554525">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member6f0c.html?action=profile&amp;uid=211253"><img src="uploads/avatars/211253.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member6f0c.html?action=profile&amp;uid=211253">JeaSon</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 562<br />
	Threads: 41<br />
	Joined: Aug 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationa235.html?uid=211253"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreade327-2.html?tid=585996&amp;pid=3554525#pid3554525" title="Re: GeoIP and handling rangebans with MySQL">#5</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 5 by JeaSon" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">19.08.2015, 09:59 <span class="post_edit" id="edited_by_3554525"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3554525">
		Awesome Vince
	</div>
	
	
	<div class="post_meta" id="post_meta_3554525">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search527c.html?action=finduser&amp;uid=211253" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply98a5.html?tid=585996&amp;replyto=3554525" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3554528"></a>
<div class="post classic " style="" id="post_3554528">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member4a30.html?action=profile&amp;uid=244733"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member4a30.html?action=profile&amp;uid=244733">Glossy42O</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,733<br />
	Threads: 187<br />
	Joined: Oct 2014
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation5395.html?uid=244733"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread74d6.html?tid=585996&amp;pid=3554528#pid3554528" title="Re: GeoIP and handling rangebans with MySQL">#6</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 6 by Glossy42O" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">19.08.2015, 10:04 <span class="post_edit" id="edited_by_3554528"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3554528">
		Awesome ! <br />
<br />
hehe, i thought ur voice would be deeper xD.<br />
<br />
i subscribed c:
	</div>
	
	
	<div class="post_meta" id="post_meta_3554528">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search8d1b.html?action=finduser&amp;uid=244733" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply23d3.html?tid=585996&amp;replyto=3554528" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3555313"></a>
<div class="post classic " style="" id="post_3555313">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member6f0c.html?action=profile&amp;uid=211253"><img src="uploads/avatars/211253.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member6f0c.html?action=profile&amp;uid=211253">JeaSon</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 562<br />
	Threads: 41<br />
	Joined: Aug 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationa235.html?uid=211253"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreada91b-3.html?tid=585996&amp;pid=3555313#pid3555313" title="Re: GeoIP and handling rangebans with MySQL">#7</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 7 by JeaSon" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">20.08.2015, 11:29 <span class="post_edit" id="edited_by_3555313"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3555313">
		Is there any way to upload that size of data in Database vince ? in localhost or on host ?? i always get mysql server connection gone away
	</div>
	
	
	<div class="post_meta" id="post_meta_3555313">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search527c.html?action=finduser&amp;uid=211253" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplyc5db.html?tid=585996&amp;replyto=3555313" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3555868"></a>
<div class="post classic " style="" id="post_3555868">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="membere9e3.html?action=profile&amp;uid=90884"><img src="uploads/avatars/90884.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="membere9e3.html?action=profile&amp;uid=90884"><s>Kar</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 2,938<br />
	Threads: 162<br />
	Joined: May 2010
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread5aea.html?tid=585996&amp;pid=3555868#pid3555868" title="Re: GeoIP and handling rangebans with MySQL">#8</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 8 by Kar" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">21.08.2015, 00:14 <span class="post_edit" id="edited_by_3555868"><!-- start: postbit_editedby -->
<div class="edited_post postbit_edited postbit_editedby postbit_editedpost">(<!-- start: postbit_editedby_editreason -->
 <em>Last edited by Kar; 21/08/2015 at 10:53 AM.</em>
<!-- end: postbit_editedby_editreason -->)</div>
<!-- end: postbit_editedby --></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3555868">
		Oh. It keeps tricking me into thinking that the data is inserted when it's not.<br />
<br />
<a href="http://prntscr.com/876gzo" target="_blank">http://prntscr.com/876gzo</a><br />
<br />
<a href="http://prntscr.com/876h6s" target="_blank">http://prntscr.com/876h6s</a><br />
<br />
Heh. I'll deal with that.
	</div>
	
	
	<div class="post_meta" id="post_meta_3555868">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search88b9.html?action=finduser&amp;uid=90884" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply65c7-2.html?tid=585996&amp;replyto=3555868" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3556002"></a>
<div class="post classic " style="" id="post_3556002">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8928.html?action=profile&amp;uid=13347"><img src="uploads/avatars/13347.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8928.html?action=profile&amp;uid=13347">Vince</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Spam Machine<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 10,066<br />
	Threads: 38<br />
	Joined: Sep 2007
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation5f8c.html?uid=13347"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread837b-4.html?tid=585996&amp;pid=3556002#pid3556002" title="Re: GeoIP and handling rangebans with MySQL">#9</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 9 by Vince" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">21.08.2015, 07:04 <span class="post_edit" id="edited_by_3556002"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3556002">
		Works fine for me:<br />
<img alt="" border="0" src="http://puu.sh/jJ39q/32e7861497.png"/><br />
Perhaps you did something wrong importing?
	</div>
	
	
	<div class="post_meta" id="post_meta_3556002">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchb624.html?action=finduser&amp;uid=13347" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplydc03.html?tid=585996&amp;replyto=3556002" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3556662"></a>
<div class="post classic " style="" id="post_3556662">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberede6.html?action=profile&amp;uid=47313"><img src="uploads/avatars/47313.png" alt="" width="41" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberede6.html?action=profile&amp;uid=47313">Kyle</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 2,262<br />
	Threads: 260<br />
	Joined: Mar 2009
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationf51a.html?uid=47313"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread6af8.html?tid=585996&amp;pid=3556662#pid3556662" title="Re: GeoIP and handling rangebans with MySQL">#10</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 10 by Kyle" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">21.08.2015, 19:56 <span class="post_edit" id="edited_by_3556662"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3556662">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Vince</strong><br />
<a href="showthread837b-4.html?pid=3556002#pid3556002" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Works fine for me:<br />
<img alt="" border="0" src="http://puu.sh/jJ39q/32e7861497.png"/><br />
Perhaps you did something wrong importing?</div>
</td>
</tr>
</table>
</div>Works fine for me too, the only issue I came across I had to increase the max packet size when executing the queries. Also, maybe you should suggest how often we update the database.
	</div>
	
	
	<div class="post_meta" id="post_meta_3556662">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search8f44.html?action=finduser&amp;uid=47313" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplyebcb.html?tid=585996&amp;replyto=3556662" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3556959"></a>
<div class="post classic " style="" id="post_3556959">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member04b2.html?action=profile&amp;uid=129303"><img src="uploads/avatars/129303.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member04b2.html?action=profile&amp;uid=129303">PaulDinam</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 887<br />
	Threads: 251<br />
	Joined: Jun 2011
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation8d0f-2.html?uid=129303"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadaaa2.html?tid=585996&amp;pid=3556959#pid3556959" title="Re: GeoIP and handling rangebans with MySQL">#11</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 11 by PaulDinam" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">22.08.2015, 02:40 <span class="post_edit" id="edited_by_3556959"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3556959">
		I'm having this issue:<br />
<img alt="" border="0" src="http://i.imgur.com/vKWEFaa.png"/><br />
<br />
Could it be something wrong with the table charset?<br />
<br />
Tried executing less rows and it worked, more than 10k lines won't execute and there is no limit for lines either.
	</div>
	
	
	<div class="post_meta" id="post_meta_3556959">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search386e.html?action=finduser&amp;uid=129303" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply5304.html?tid=585996&amp;replyto=3556959" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3556972"></a>
<div class="post classic " style="" id="post_3556972">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member6bef.html?action=profile&amp;uid=169807"><img src="uploads/avatars/169807.png" alt="" width="55" height="53" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member6bef.html?action=profile&amp;uid=169807">Pottus</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 4,885<br />
	Threads: 57<br />
	Joined: Jun 2012
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation9a51.html?uid=169807"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread58a1-3.html?tid=585996&amp;pid=3556972#pid3556972" title="Re: GeoIP and handling rangebans with MySQL">#12</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 12 by Pottus" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">22.08.2015, 02:59 <span class="post_edit" id="edited_by_3556972"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3556972">
		I have done something similar to this for our GeoIP system except it uses a python script to create a SQLite database instead.
	</div>
	
	
	<div class="post_meta" id="post_meta_3556972">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search69f2.html?action=finduser&amp;uid=169807" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply3ee9.html?tid=585996&amp;replyto=3556972" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3557384"></a>
<div class="post classic " style="" id="post_3557384">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberede6.html?action=profile&amp;uid=47313"><img src="uploads/avatars/47313.png" alt="" width="41" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberede6.html?action=profile&amp;uid=47313">Kyle</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 2,262<br />
	Threads: 260<br />
	Joined: Mar 2009
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationf51a.html?uid=47313"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread60cf.html?tid=585996&amp;pid=3557384#pid3557384" title="Re: GeoIP and handling rangebans with MySQL">#13</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 13 by Kyle" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">22.08.2015, 15:06 <span class="post_edit" id="edited_by_3557384"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3557384">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>PaulDinam</strong><br />
<a href="showthreadaaa2.html?pid=3556959#pid3556959" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">I'm having this issue:<br />
<img alt="" border="0" src="http://i.imgur.com/vKWEFaa.png"/><br />
<br />
Could it be something wrong with the table charset?<br />
<br />
Tried executing less rows and it worked, more than 10k lines won't execute and there is no limit for lines either.</div>
</td>
</tr>
</table>
</div>You need to alter your mysql max_packet_size.<br />
<br />
Also is there any way to get the city from this or alter it to produce city too?
	</div>
	
	
	<div class="post_meta" id="post_meta_3557384">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search8f44.html?action=finduser&amp;uid=47313" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplyf6ac-2.html?tid=585996&amp;replyto=3557384" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3558067"></a>
<div class="post classic " style="" id="post_3558067">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member407a.html?action=profile&amp;uid=222108"><img src="uploads/avatars/222108.png" alt="" width="52" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member407a.html?action=profile&amp;uid=222108">Abagail</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 3,133<br />
	Threads: 71<br />
	Joined: Dec 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationcc21.html?uid=222108"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread8f97-6.html?tid=585996&amp;pid=3558067#pid3558067" title="Re: GeoIP and handling rangebans with MySQL">#14</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 14 by Abagail" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">23.08.2015, 02:50 <span class="post_edit" id="edited_by_3558067"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3558067">
		If the original GeoIP data from MaxMind includes it you can alter the regEx function as needed so it includes the city information, you'd also need to alter the table aswell as the SQL query.
	</div>
	
	
	<div class="post_meta" id="post_meta_3558067">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search144a.html?action=finduser&amp;uid=222108" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplye4cd-2.html?tid=585996&amp;replyto=3558067" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3558120"></a>
<div class="post classic " style="" id="post_3558120">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member6f0c.html?action=profile&amp;uid=211253"><img src="uploads/avatars/211253.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member6f0c.html?action=profile&amp;uid=211253">JeaSon</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 562<br />
	Threads: 41<br />
	Joined: Aug 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationa235.html?uid=211253"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread6483-2.html?tid=585996&amp;pid=3558120#pid3558120" title="Re: GeoIP and handling rangebans with MySQL">#15</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 15 by JeaSon" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">23.08.2015, 07:08 <span class="post_edit" id="edited_by_3558120"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3558120">
		Whenever player connect  to my server it shows unknown country<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP код:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">Join</span><span style="color: #007700">:  </span><span style="color: #0000BB">JeaSon</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">) [ / </span><span style="color: #0000BB">Unknown</span><span style="color: #007700">] [</span><span style="color: #0000BB">0 </span><span style="color: #007700">/ </span><span style="color: #0000BB">30</span><span style="color: #007700">] 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>
	</div>
	
	
	<div class="post_meta" id="post_meta_3558120">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search527c.html?action=finduser&amp;uid=211253" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply7c04.html?tid=585996&amp;replyto=3558120" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3558165"></a>
<div class="post classic " style="" id="post_3558165">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8928.html?action=profile&amp;uid=13347"><img src="uploads/avatars/13347.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8928.html?action=profile&amp;uid=13347">Vince</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Spam Machine<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 10,066<br />
	Threads: 38<br />
	Joined: Sep 2007
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation5f8c.html?uid=13347"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreada130-2.html?tid=585996&amp;pid=3558165#pid3558165" title="Re: GeoIP and handling rangebans with MySQL">#16</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 16 by Vince" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">23.08.2015, 09:49 <span class="post_edit" id="edited_by_3558165"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3558165">
		It won't work if you are connecting locally to your own server, because your IP will be a private IP (127.0.0.1 or 192.168.x.x most likely), which is not included in the database. If you so wish, you can add those manually, using any of the <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Decoding_table" target="_blank"><u>user-assigned country codes</u></a>.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP код:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">INSERT INTO list_countries </span><span style="color: #007700">(</span><span style="color: #0000BB">country_code</span><span style="color: #007700">, </span><span style="color: #0000BB">country_name</span><span style="color: #007700">) </span><span style="color: #0000BB">VALUES </span><span style="color: #007700">(</span><span style="color: #DD0000">'XP'</span><span style="color: #007700">, </span><span style="color: #DD0000">'Private Network'</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP код:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">INSERT INTO list_ipv4 </span><span style="color: #007700">(</span><span style="color: #0000BB">range_start</span><span style="color: #007700">, </span><span style="color: #0000BB">range_end</span><span style="color: #007700">, </span><span style="color: #0000BB">country_code</span><span style="color: #007700">) </span><span style="color: #0000BB">VALUES
<br/></span><span style="color: #007700">(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.255.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'10.0.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'10.255.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'172.16.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'172.31.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'192.168.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'192.168.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>
	</div>
	
	
	<div class="post_meta" id="post_meta_3558165">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchb624.html?action=finduser&amp;uid=13347" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply491a-2.html?tid=585996&amp;replyto=3558165" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3558171"></a>
<div class="post classic " style="" id="post_3558171">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberede6.html?action=profile&amp;uid=47313"><img src="uploads/avatars/47313.png" alt="" width="41" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberede6.html?action=profile&amp;uid=47313">Kyle</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 2,262<br />
	Threads: 260<br />
	Joined: Mar 2009
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationf51a.html?uid=47313"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread6225-4.html?tid=585996&amp;pid=3558171#pid3558171" title="Re: GeoIP and handling rangebans with MySQL">#17</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 17 by Kyle" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">23.08.2015, 10:05 <span class="post_edit" id="edited_by_3558171"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3558171">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Vince</strong><br />
<a href="showthreada130-2.html?pid=3558165#pid3558165" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">It won't work if you are connecting locally to your own server, because your IP will be a private IP (127.0.0.1 or 192.168.x.x most likely), which is not included in the database. If you so wish, you can add those manually, using any of the <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Decoding_table" target="_blank"><u>user-assigned country codes</u></a>.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP код:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">INSERT INTO list_countries </span><span style="color: #007700">(</span><span style="color: #0000BB">country_code</span><span style="color: #007700">, </span><span style="color: #0000BB">country_name</span><span style="color: #007700">) </span><span style="color: #0000BB">VALUES </span><span style="color: #007700">(</span><span style="color: #DD0000">'XP'</span><span style="color: #007700">, </span><span style="color: #DD0000">'Private Network'</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP код:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">INSERT INTO list_ipv4 </span><span style="color: #007700">(</span><span style="color: #0000BB">range_start</span><span style="color: #007700">, </span><span style="color: #0000BB">range_end</span><span style="color: #007700">, </span><span style="color: #0000BB">country_code</span><span style="color: #007700">) </span><span style="color: #0000BB">VALUES
<br/></span><span style="color: #007700">(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.255.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'10.0.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'10.255.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'172.16.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'172.31.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">),
<br/>(</span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'192.168.0.0'</span><span style="color: #007700">), </span><span style="color: #0000BB">INET_ATON</span><span style="color: #007700">(</span><span style="color: #DD0000">'192.168.255.255'</span><span style="color: #007700">), </span><span style="color: #DD0000">'XP'</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div></div>
</td>
</tr>
</table>
</div>I've added the banned field and set A1 banned to 1, can you alter the query to check for this? I know regular queries, but this is weird as they're joined or some how.
	</div>
	
	
	<div class="post_meta" id="post_meta_3558171">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search8f44.html?action=finduser&amp;uid=47313" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply636a-2.html?tid=585996&amp;replyto=3558171" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3558195"></a>
<div class="post classic " style="" id="post_3558195">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member6f0c.html?action=profile&amp;uid=211253"><img src="uploads/avatars/211253.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member6f0c.html?action=profile&amp;uid=211253">JeaSon</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 562<br />
	Threads: 41<br />
	Joined: Aug 2013
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationa235.html?uid=211253"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread4078-2.html?tid=585996&amp;pid=3558195#pid3558195" title="Re: GeoIP and handling rangebans with MySQL">#18</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 18 by JeaSon" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">23.08.2015, 11:10 <span class="post_edit" id="edited_by_3558195"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3558195">
		vince i connectd on my hosted server my ip was <br />
<br />
182.182.*.*
	</div>
	
	
	<div class="post_meta" id="post_meta_3558195">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search527c.html?action=finduser&amp;uid=211253" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply2003-2.html?tid=585996&amp;replyto=3558195" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3642267"></a>
<div class="post classic " style="" id="post_3642267">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member3271.html?action=profile&amp;uid=202569"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member3271.html?action=profile&amp;uid=202569"><s>Yousha</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 118<br />
	Threads: 10<br />
	Joined: May 2013
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread7d5d-4.html?tid=585996&amp;pid=3642267#pid3642267" title="Re: GeoIP and handling rangebans with MySQL">#19</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 19 by Yousha" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">15.01.2016, 22:17 <span class="post_edit" id="edited_by_3642267"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3642267">
		@Vince<br />
Do you think using <b>SQL_CACHE</b> in queries makes sense?<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Код:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">SELECT SQL_CACHE * FROM `accounts`;</pre>
</div>?
	</div>
	
	
	<div class="post_meta" id="post_meta_3642267">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search4952.html?action=finduser&amp;uid=202569" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply49fd.html?tid=585996&amp;replyto=3642267" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid3642283"></a>
<div class="post classic " style="" id="post_3642283">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8928.html?action=profile&amp;uid=13347"><img src="uploads/avatars/13347.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8928.html?action=profile&amp;uid=13347">Vince</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Spam Machine<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 10,066<br />
	Threads: 38<br />
	Joined: Sep 2007
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation5f8c.html?uid=13347"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread4adf-2.html?tid=585996&amp;pid=3642283#pid3642283" title="Re: GeoIP and handling rangebans with MySQL">#20</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 20 by Vince" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">15.01.2016, 22:47 <span class="post_edit" id="edited_by_3642283"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_3642283">
		I've never used this before. Yet my research shows that query caching is enabled by default so this shouldn't be necessary.
	</div>
	
	
	<div class="post_meta" id="post_meta_3642283">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchb624.html?action=finduser&amp;uid=13347" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply3ffc.html?tid=585996&amp;replyto=3642283" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic -->
	</div>
</div>
	
			<div class="tfoot row">
				<div class="col-sm-6">
					<strong>&laquo; <a href="showthread1d7d.html?tid=585996&amp;action=nextoldest">Next Oldest</a> | <a href="showthread9fec.html?tid=585996&amp;action=nextnewest">Next Newest</a> &raquo;</strong>
				</div>
				<div class="col-sm-6"><!-- start: showthread_search -->
	<div class="float_right">
		<form action="https://sampforum.blast.hk/search.php" method="post">
			<input type="hidden" name="action" value="thread" />
			<input type="hidden" name="tid" value="585996" />
			<input type="text" name="keywords" value="Enter Keywords" onfocus="if(this.value == 'Enter Keywords') { this.value = ''; }" onblur="if(this.value=='') { this.value='Enter Keywords'; }" class="textbox" size="25" />
			<input type="submit" class="button" value="Search Thread" />
		</form>
	</div>
<!-- end: showthread_search --></div>
			</div>
	<div class="float_left">
		<!-- start: multipage -->
<div class="pagination">
<span class="pages">Pages (2):</span>
<!-- start: multipage_page_current -->
 <span class="pagination_current">1</span>
<!-- end: multipage_page_current --><!-- start: multipage_page -->
<a href="showthreade8cd-3.html?tid=585996&amp;page=2" class="pagination_page">2</a>
<!-- end: multipage_page --><!-- start: multipage_nextpage -->
<a href="showthreade8cd-3.html?tid=585996&amp;page=2" class="pagination_next">Next &raquo;</a>
<!-- end: multipage_nextpage -->
</div>
<!-- end: multipage -->
	</div>
	<div class="float_right">
		
	</div>
	<br class="clear" />
	
	
	
	<br />
	<div class="float_left">
		<ul class="thread_tools">
			<!-- start: showthread_printthread -->
<li class="printable"><a href="printthreaddf0d.html?tid=585996">View a Printable Version</a></li>
<!-- end: showthread_printthread -->
			
			
			
		</ul>
	</div>

	<div class="float_right" style="text-align: right;">
		
		<!-- start: forumjump_advanced -->
<form action="https://sampforum.blast.hk/forumdisplay.php" method="get">
<span class="smalltext">Forum Jump:</span>
<select name="fid" class="forumjump">
<option value="-4">Private Messages</option>
<option value="-3">User Control Panel</option>
<option value="-5">Who's Online</option>
<option value="-2">Search</option>
<option value="-1">Forum Home</option>
<!-- start: forumjump_bit -->
<option value="3" > SA-MP</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="74" >-- News and Updates</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="13" >-- General</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="16" >-- Client Support</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="20" >-- Bug Reports</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="21" >-- Screenshots and Videos</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="6" > SA-MP Server</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="19" >-- Server Support</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="22" >-- Server Advertisements</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="8" > SA-MP Scripting and Plugins</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="12" >-- Scripting Help</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="70" selected="selected">---- Tutorials</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="84" >---- Discussion</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="89" >---- Help Archive</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="71" >-- Gamemode Scripts</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="17" >-- Filterscripts</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="83" >---- Includes</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="82" >---- Tools and Files </option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="64" >---- Maps</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="18" >-- Plugin Development</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="92" > SA-MP DL Edition</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="90" >-- SA-MP 0.3.DL</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="94" >---- Model Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="7" > Other</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="23" >-- Everything and Nothing</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="9" > Non-English</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="33" >-- Languages</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="31" >---- Nederlands/Dutch</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="76" >------ Scripting Showroom en Discussie</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="87" >------ Off topic</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="29" >---- Español/Spanish</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="59" >------ Lanzamientos/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="30" >---- Français/French</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="81" >------ Showroom</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="32" >---- Русский/Russian</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="66" >------ Релизы/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="34" >---- Português/Portuguese</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="56" >------ Lançamentos/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="40" >---- Română/Romanian</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="77" >------ Salonul Scripturilor</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="88" >---- Archive</option>
<!-- end: forumjump_bit -->
</select>
<!-- start: gobutton -->
<input type="submit" class="button" value="Go" />
<!-- end: gobutton -->
</form>
<script type="text/javascript">
$(".forumjump").on('change', function() {
	var option = $(this).val();

	if(option < 0)
	{
		window.location = 'forumdisplay0eb7.html?fid='+option;
	}
	else
	{
		window.location = 'forumdisplay0eb7.html?fid='+option;
	}
});
</script>
<!-- end: forumjump_advanced -->
	</div>
	<br class="clear" />
	<!-- start: showthread_usersbrowsing -->
<br />
<span class="smalltext">Users browsing this thread: 1 Guest(s)</span>
<br />
<!-- end: showthread_usersbrowsing -->
	<!-- start: footer -->
<div style="clear:both"><div style="padding-top: 10px"><!-- start: nav -->
<ol class="breadcrumb container"><!-- start: nav_bit -->
<li><a href="index-2.html">SA-MP Forums Archive</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplayb1dd.html?fid=8">SA-MP Scripting and Plugins</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplay696f.html?fid=12">Scripting Help</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplay79ca.html?fid=70&amp;page=6">Tutorials</a></li>
<!-- end: nav_bit --><!-- start: nav_sep_active -->

<!-- end: nav_sep_active --></ol>
<!-- end: nav --></div></div>
</main>

<div class="blankspace"></div>

<footer id="footer">
	<div class="container">
    <div class="row">
		
        <!--<div class="col-sm-4 foot">
			<h3>About Our Community</h3>
			<p>Discuss about various topics in our community and have fun while doing so. Welcome to SA-MP Forums Archive</p>
			
		</div>		
		

		<div class="col-sm-4 foot">
			<h3>Quick Links</h3>
			<p>

 				<a href="https://sampforum.blast.hk" class="btn btn-success" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Forum Home"><i class="fa fa-home"></i></a>
				
				<a href="https://sampforum.blast.hk/archive/index.php?thread-585996.html" class="btn btn-danger" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Lite (Archive) Mode"><i class="fa fa-archive"></i></a>
				
				<a href="#" target="_blank"  rel="noopener" class="btn btn-primary" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Become a Fan"><i class="fa fa-facebook-square"></i></a>
				
				<a href="#" target="_blank"  rel="noopener" class="btn btn-info" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Follow Us"><i class="fa fa-twitter"></i></a>
				
				<a href="https://sampforum.blast.hk/misc.php?action=syndication" class="btn btn-warning" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="RSS Syndication"><i class="fa fa-rss"></i></a>
				<br/>
				<a href="misc.php?action=markread&amp;my_post_key=f392eb8921bb5cc239ee0d26cd51170d" class="btn btn-danger" style="color: #fff; margin-top:10px" data-toggle="tooltip" data-placement="bottom" data-original-title="Mark all forums read"><i class="fa fa-book"></i> Mark all forums read</a><br /><br />
				
				
				</p>

		</div>
		
		<div class="col-sm-4 foot">
			
			 <h3>Reach Us</h3>
			 
<p><a href="contact.php" class="btn btn-primary" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Contact Us"><i class="fa fa-envelope"></i> Contact Us</a>&nbsp;
			
			<a href="showteam.php" class="btn btn-danger" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Meet Our Team"><i class="fa fa-users"></i> Forum Team</a></p>
		</div>-->
		
		
		
		<!-- The following piece of code allows MyBB to run scheduled tasks. DO NOT REMOVE --><!-- start: task_image -->
<img src="task.gif" height="1" alt="" />
<!-- end: task_image --><!-- End task image code -->
		</div>
	
	</div>

	
<div id="copyright">
	<div class="container">
			<div class="pull-right"><!-- start: footer_languageselect -->
<div class="language">
<form method="POST" action="https://sampforum.blast.hk/showthread.php" id="lang_select">
	<input type="hidden" name="tid" value="585996" />

	<input type="hidden" name="my_post_key" value="f392eb8921bb5cc239ee0d26cd51170d" />
	<select name="language" onchange="MyBB.changeLanguage();">
		<optgroup label="Quick Language Select">
			<!-- start: footer_languageselect_option -->
<option value="english" selected="selected">&nbsp;&nbsp;&nbsp;English (American)</option>
<!-- end: footer_languageselect_option --><!-- start: footer_languageselect_option -->
<option value="russian">&nbsp;&nbsp;&nbsp;Russian</option>
<!-- end: footer_languageselect_option -->
		</optgroup>
	</select>
	<!-- start: gobutton -->
<input type="submit" class="button" value="Go" />
<!-- end: gobutton -->
</form>
</div>
<!-- end: footer_languageselect --></div>
			<div class="pull-left">
				<!-- MyBB is free software developed and maintained by a volunteer community.
					It would be much appreciated by the MyBB Group if you left the full copyright and "powered by" notice intact,
					to show your support for MyBB.  If you choose to remove or modify the copyright below,
					you may be refused support on the MyBB Community Forums.

					This is free software, support us and we'll support you. -->
				Powered By <a href="http://www.mybb.com/" target="_blank"  rel="noopener" style="color: #fff;" >MyBB</a>. <a href="https://eree.in/" title="EREE" target="_blank" rel="noopener" style="color: #fff;">Crafted by EREE</a> and <a href="https://forum.androidbg.com/" title="AndroidBG" target="_blank" rel="noopener" style="color: #fff;">Android BG</a>. Also powered by <a href="https://www.blast.hk/"><b>blast.hk</b></a><!-- End powered by -->
				
			</div>
	</div>

</div>

</footer>

<!-- Fix for MentionMe popup window position -->
<script type="text/javascript">
	var MentionMe = (function(m) {
	m.customSCEditorContainerOffset = {
		left: 0,
		top: 2,
	};

	return m;
})(MentionMe || {});
</script>
<!-- End Fix for MentionMe popup window position -->
<!-- end: footer -->
	<script type="text/javascript">
		var thread_deleted = "0";
		if(thread_deleted == "1")
		{
			$("#quick_reply_form, .new_reply_button, .thread_tools, .inline_rating").hide();
			$("#moderator_options_selector option.option_mirage").attr("disabled","disabled");
		}
	</script>
</body>
</html>
<!-- end: showthread -->