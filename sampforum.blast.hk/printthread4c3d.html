<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> Today I learned - Share your newly found knowledge! - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="hmm k Vince.Let me explain,today i was doing something like that pawn Код: if(sscanf(params, &quot;d&quot;, tmp) || sscanf(params, &quot;d&quot;,tmp2) || !IsNumeric(tmp2)) return SendClientMessage(playerid, red, &quot;USAG" />
<link rel="canonical" href="showthread4c3d.html?tid=359953&amp;page=4" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthread964f.html?tid=359953">Today I learned - Share your newly found knowledge!</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Scripting Help (<i>https://sampforum.blast.hk/forumdisplay.php?fid=12</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Today I learned - Share your newly found knowledge! (<em>/showthread.php?tid=359953</em>)<br />
<br />
<!-- start: printthread_multipage -->
<div class="multipage">Pages:  <!-- start: printthread_multipage_page -->
<a href="printthread19ba.html?tid=359953&amp;page=1">1</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadf80e.html?tid=359953&amp;page=2">2</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread2102.html?tid=359953&amp;page=3">3</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page_current -->
4
<!-- end: printthread_multipage_page_current --><!-- start: printthread_multipage_page -->
<a href="printthread8b69.html?tid=359953&amp;page=5">5</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread0f1f.html?tid=359953&amp;page=6">6</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadc388.html?tid=359953&amp;page=7">7</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreada82c.html?tid=359953&amp;page=8">8</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread7428.html?tid=359953&amp;page=9">9</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread4cd5.html?tid=359953&amp;page=10">10</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadc3e0.html?tid=359953&amp;page=11">11</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread9e7f.html?tid=359953&amp;page=12">12</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadeeb4.html?tid=359953&amp;page=13">13</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread1904.html?tid=359953&amp;page=14">14</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread3cda.html?tid=359953&amp;page=15">15</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadf7a6.html?tid=359953&amp;page=16">16</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread745f.html?tid=359953&amp;page=17">17</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread39fa.html?tid=359953&amp;page=18">18</a>
<!-- end: printthread_multipage_page --></div>
<!-- end: printthread_multipage --></div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membere7b8.html?action=profile&amp;uid=147638">Gamer_007</a> -  27.03.2013
<br />
<br />
hmm k Vince.Let me explain,today i was doing something like that<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>sscanf<span style="color: #000000;">(</span>params, <span style="color: #000066;">"d"</span>, tmp<span style="color: #000000;">)</span> || sscanf<span style="color: #000000;">(</span>params, <span style="color: #000066;">"d"</span>,tmp2<span style="color: #000000;">)</span> || <span style="color: #000000;">!</span>IsNumeric<span style="color: #000000;">(</span>tmp2<span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #2222BB;">return</span> SendClientMessage<span style="color: #000000;">(</span>playerid, red, <span style="color: #000066;">"USAGE: /settime [playerid] [hour]"</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>
But it was wrong.then YSI told me to Read the whole topic again.I read it and then i got and changed to this<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>sscanf<span style="color: #000000;">(</span>params, <span style="color: #000066;">"dd"</span>,tmp,tmp2<span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #2222BB;">return</span> SendClientMessage<span style="color: #000000;">(</span>playerid, red, <span style="color: #000066;">"USAGE: /settime [playerid] [hour]"</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>
S,fianlly today i learned how to use sscanf <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/> and calm down.I am not telling lie <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  27.03.2013
<br />
<br />
Today I learned a "new" bug in the compiler - not sure if or how it could be exploited yet...<br />
<br />
<a href="showthread72b5.html?tid=425970" target="_blank">https://sampforum.blast.hk/showthread.php?tid=425970</a>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membercec9.html?action=profile&amp;uid=23640">Slice</a> -  05.04.2013
<br />
<br />
<b>Today I learned</b> the only place you'll find a RET (not RETN) opcode in the AMX is in the entry function, which seems to be unsupported by SA-MP (correct me if I'm wrong).
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member76b9.html?action=profile&amp;uid=39206">Maxips2</a> -  08.04.2013
<br />
<br />
Today I learned that SetPlayerHealth actually rounds down the amount of health which is being set.<br />
<br />
It is still treated as a float value although it only takes the number before the decimal point.<br />
<br />
I believe this information could be useful if one is working on health hack / godmode anti-cheat.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member00c7.html?action=profile&amp;uid=64968">admantis</a> -  09.04.2013
<br />
<br />
I don't know how useful this can be but I realized that you can scroll down or up faster by holding shift in the pawno IDE.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member241e.html?action=profile&amp;uid=115788">MP2</a> -  09.04.2013
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>admantis</strong><br />
<a href="showthread8b40.html?pid=2471552#pid2471552" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">I don't know how useful this can be but I realized that you can scroll down or up faster by holding shift in the pawno IDE.</div>
</td>
</tr>
</table>
</div>Ctrl*
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  13.04.2013
<br />
<br />
Today I learned the compiler explicitly recognises "::" as a valid token:<br />
<br />
sc.h:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define tDBLCOLON   280 /* :: */</span></div></div></pre>
</div>
sc2.c:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:247px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">char</span> <span style="color: #000000;">*</span>sc_tokens<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span><br/>         <span style="color: #000066;">"*="</span>, <span style="color: #000066;">"/="</span>, <span style="color: #000066;">"%="</span>, <span style="color: #000066;">"+="</span>, <span style="color: #000066;">"-="</span>, <span style="color: #000066;">"&lt;&lt;="</span>, <span style="color: #000066;">"&gt;&gt;&gt;="</span>, <span style="color: #000066;">"&gt;&gt;="</span>, <span style="color: #000066;">"&amp;="</span>, <span style="color: #000066;">"^="</span>, <span style="color: #000066;">"|="</span>,<br/>         <span style="color: #000066;">"||"</span>, <span style="color: #000066;">"&amp;&amp;"</span>, <span style="color: #000066;">"=="</span>, <span style="color: #000066;">"!="</span>, <span style="color: #000066;">"&lt;="</span>, <span style="color: #000066;">"&gt;="</span>, <span style="color: #000066;">"&lt;&lt;"</span>, <span style="color: #000066;">"&gt;&gt;&gt;"</span>, <span style="color: #000066;">"&gt;&gt;"</span>, <span style="color: #000066;">"++"</span>, <span style="color: #000066;">"--"</span>,<br/>         <span style="color: #000066;">"..."</span>, <span style="color: #000066;">".."</span>, <span style="color: #000066;">"::"</span>,<br/>         <span style="color: #000066;">"assert"</span>, <span style="color: #000066;">"break"</span>, <span style="color: #000066;">"case"</span>, <span style="color: #000066;">"const"</span>, <span style="color: #000066;">"continue"</span>, <span style="color: #000066;">"default"</span>, <span style="color: #000066;">"defined"</span>,<br/>         <span style="color: #000066;">"do"</span>, <span style="color: #000066;">"else"</span>, <span style="color: #000066;">"exit"</span>, <span style="color: #000066;">"for"</span>, <span style="color: #000066;">"forward"</span>, <span style="color: #000066;">"goto"</span>, <span style="color: #000066;">"if"</span>, <span style="color: #000066;">"native"</span>, <span style="color: #000066;">"new"</span>,<br/>         <span style="color: #000066;">"operator"</span>, <span style="color: #000066;">"public"</span>, <span style="color: #000066;">"return"</span>, <span style="color: #000066;">"sizeof"</span>, <span style="color: #000066;">"sleep"</span>, <span style="color: #000066;">"state"</span>, <span style="color: #000066;">"static"</span>,<br/>         <span style="color: #000066;">"stock"</span>, <span style="color: #000066;">"switch"</span>, <span style="color: #000066;">"tagof"</span>, <span style="color: #000066;">"while"</span>,<br/>         <span style="color: #000066;">"#assert"</span>, <span style="color: #000066;">"#define"</span>, <span style="color: #000066;">"#else"</span>, <span style="color: #000066;">"#elseif"</span>, <span style="color: #000066;">"#endif"</span>, <span style="color: #000066;">"#endinput"</span>,<br/>         <span style="color: #000066;">"#error"</span>, <span style="color: #000066;">"#file"</span>, <span style="color: #000066;">"#if"</span>, <span style="color: #000066;">"#include"</span>, <span style="color: #000066;">"#line"</span>, <span style="color: #000066;">"#pragma"</span>,<br/>         <span style="color: #000066;">"#tryinclude"</span>, <span style="color: #000066;">"#undef"</span>,<br/>         <span style="color: #000066;">";"</span>, <span style="color: #000066;">","</span>, <span style="color: #000066;">";"</span>, <span style="color: #000066;">"[integer value]"</span>, <span style="color: #000066;">"[rational value]"</span>, <span style="color: #000066;">"[identifier]"</span>,<br/>         <span style="color: #000066;">"[label]"</span>, <span style="color: #000066;">"[field/parameter reference]"</span>, <span style="color: #000066;">"[string]"</span>, <span style="color: #000066;">"[string]"</span><br/>       <span style="color: #000000;">}</span>;</div></div></pre>
</div>
However, the "tDBLCOLON" identifier is never used anywhere so it is not valid code syntax anywhere.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  13.04.2013
<br />
<br />
Today I (FINALLY) learned how to detect spaces in macro patterns!  Because spaces are used to separate the pattern from the replacement, it was documented in pawn-lang.pdf that should you ever need to detect a space you could use "\32;" instead but I could never get it to work!  Doing this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define TEST1\32;(%1) TEST1(%1)</span></div></div></pre>
</div>
Will NOT detect spaces before the brackets and remove them.  Similarly this will not work:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define TEST2(\32;%1) %1</span></div></div></pre>
</div>
That will NOT detect a call like "TEST2( 42)" - I'm still not sure why or what the exact rules governing how the macros work are, but this will work:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define TEST3(%0\32;%1) %1</span></div></div></pre>
</div>
In that case, even just a leading space like in "TEST3( 42)" can be detected and removed.  This lack of space detection has been the bane of my code for literally YEARS (if you don't believe me, that's what the point of <a href="showthread039e.html?tid=243651" target="_blank"><u>this</u></a> topic was).  It is why this works:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">foreach <span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> <span style="color: #000000;">i</span> <span style="color: #000000;">:</span> Player<span style="color: #000000;">)</span></div></div></pre>
</div>
But this gives multiple cryptic errors:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">foreach <span style="color: #000000;">(</span> <span style="color: #2222BB;">new</span> <span style="color: #000000;">i</span> <span style="color: #000000;">:</span> Player <span style="color: #000000;">)</span></div></div></pre>
</div>
I knew the documentation claimed it could be done, but my repeated failed attempts led me to believe that maybe the SA:MP compiler version couldn't until I started really digging about in its code.  Anyway, i am very happy about this and will be retrofitting certain bits of code to find any errors caused by bad spacing that I can now fix!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membercbae.html?action=profile&amp;uid=158907">JoBullet</a> -  14.04.2013
<br />
<br />
Today I learned:<br />
You can do stuff like<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#tryinclude test"</span><br/><span style="color: #2222AA;">#tryinclude test&gt;</span></div></div></pre>
</div>Also if you try:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#tryinclude a_samp"</span><br/><span style="color: #2222AA;">#assert defined a_samp"</span></div></div></pre>
</div>As expected you get compile-time assertion, but when you try something like:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#tryinclude a_samp&gt;</span><br/><span style="color: #2222AA;">#assert defined a_samp&gt;</span></div></div></pre>
</div>You will find a code from few lines below as assertion text, you can in that strange way send message to the person that is compiling, example:<br />
input:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:71px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#assert defined _inc_a____________________samp&gt;</span><br/><span style="color: #228822;">//      Buffer ov..fuckover?AAAAAAAAAAAAAAAAA\\</span><br/><span style="color: #228822;">//      n\/</span></div></div></pre>
</div>dialog error output:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:119px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">.\pawno\Untitled.pwn<span style="color: #000000;">(</span><span style="color: #000000;">23</span><span style="color: #000000;">)</span> <span style="color: #000000;">:</span> fatal error <span style="color: #000000;">110</span><span style="color: #000000;">:</span> assertion <span style="color: #000000;">failed</span><span style="color: #000000;">:</span> Buffer ov..fuckover<span style="color: #000000;">?</span>AAAAAAAAAAAAAAAAA\<span style="color: #000000;">/</span><br/><br/>Compilation aborted.Pawn compiler 3.2.3664          Copyright <span style="color: #000000;">(</span>c<span style="color: #000000;">)</span> <span style="color: #000000;">1997</span><span style="color: #000000;">-</span><span style="color: #000000;">2006</span>, ITB CompuPhase<br/><br/><br/><span style="color: #000000;">1</span> Error.</div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberf786.html?action=profile&amp;uid=61301">[XST]O_x</a> -  14.04.2013
<br />
<br />
Today I learned that you can easily declare big array values while defining them easily, instead of using loops.<br />
For example:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:215px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">new</span> myArray<span style="color: #000000;">[</span><span style="color: #000000;">1024</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span><span style="color: #000000;">12</span>, ...<span style="color: #000000;">}</span>;<br/><br/><span style="color: #228822;">//Instead</span><br/><span style="color: #2222BB;">new</span> myArray<span style="color: #000000;">[</span><span style="color: #000000;">1024</span><span style="color: #000000;">]</span>;<br/><br/>main<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>; i <span style="color: #000000;">!=</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>myArray<span style="color: #000000;">)</span>; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        myArray<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">12</span>;<br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member9190.html?action=profile&amp;uid=46589">iggy1</a> -  14.04.2013
<br />
<br />
Today i learned that even though you can do this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span><span style="color: #000000;">(</span> var1 <span style="color: #000000;">&lt;</span> var2 <span style="color: #000000;">&lt;</span> <span style="color: #000000;">0</span> <span style="color: #000000;">)</span><br/><span style="color: #228822;">//equivalent to: if( var1 &lt; var2 &amp;&amp; var2 &lt; 0)</span></div></div></pre>
</div>
You can't do this:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span><span style="color: #000000;">(</span> var1 <span style="color: #000000;">!=</span> var2 <span style="color: #000000;">!=</span> <span style="color: #000000;">0</span> <span style="color: #000000;">)</span> <span style="color: #228822;">//tag mismatch</span><br/><span style="color: #228822;">//I thought it would be equivalent to:  if( var1 != var2 &amp;&amp; var2 != 0)</span></div></div></pre>
</div>Nothing special but yeah.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  16.04.2013
<br />
<br />
Only a tiny bit of information, so I'll stick it here.  TIL there is a website called "compileonline" which (unsurprisingly) allows you to compile code online, and (IMHO quite surprisingly) includes a PAWN compiler.  Unfortunately, it is for version 4.x of PAWN not 3.x:<br />
<br />
<a href="http://www.compileonline.com/index.php" target="_blank">http://www.compileonline.com/index.php</a>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberd460.html?action=profile&amp;uid=197360">Isolated</a> -  16.04.2013
<br />
<br />
I've worked out, for myself, before I read what's listed below that you can use hex numbers for anything. <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:359px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#include &lt;Pawn/Default&gt;</span><br/><br/>main<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">new</span> a, b, c, abc, health;<br/>    health <span style="color: #000000;">=</span> 0xFFFF; <span style="color: #228822;">// Would be a unlimited health value.</span><br/>    a <span style="color: #000000;">=</span> 0xA;<br/>    b <span style="color: #000000;">=</span> 0xB;<br/>    c <span style="color: #000000;">=</span> 0xC;<br/>    abc <span style="color: #000000;">=</span> 0xABC;<br/>    <br/>    <span style="color: #228822;">/*<br/>        A = 10<br/>        B = 11<br/>        C = 12<br/>        ABC = 2748<br/>        Health = 65538<br/>    */</span><br/>    <br/>    <span style="color: #222222;">printf</span><span style="color: #000000;">(</span><span style="color: #000066;">"a = %d b = %d c = %d abc = %d health = %d"</span>, a, b, c, abc, health<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
Although there is no real reason for using HEX numbers, other than colors, it could be useful to a few people, however they cannot be used as floats, strings or anything other than integers <b>that I've found.</b><br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Basssiiie</strong><br />
</div>
<div style="font-style:italic">Maybe you might want to read this. It explains why 0xF works and why 0xG doesn't work. <br />
<br />
 But indeed, 0xA is the same as 10, which is also the same as 0b1010, which is also the same as 75 - 65, which is also the same as 'K' - 'A' (Ascii character codes). For more information about this similarity stuff, you might be interested at this, look under Minor Optimisations -&gt; Small Snippets -&gt; Equivalence.</div>
</td>
</tr>
</table>
</div>Useful things from Basssiiie:<br />
<br />
<a href="http://en.wikipedia.org/wiki/File:ASCII_Code_Chart-Quick_ref_card.jpg" target="_blank">ASCII</a><br />
<a href="http://en.wikipedia.org/wiki/Hexadecimal" target="_blank">Hexadecimal</a><br />
<a href="showthreadac6f.html?tid=57018" target="_blank">Code optimisations</a>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  16.04.2013
<br />
<br />
UBER cull of posts.  I've removed or moved a load of posts that were either "TIL" with no explanation or just discussion about points.  I will say that if there are any posts that you think should stay, or that you want the information from, they all still exist but are hidden.  Note that this post won't last very long either.<br />
<br />
I also re-discovered some things I had forgotten about reading through the topic!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member60ea.html?action=profile&amp;uid=122057">Basssiiie</a> -  16.04.2013
<br />
<br />
I see you copied my post into Isolated's as a quote. Maybe an idea to copy the links with it? That would be great. Now nobody knows what webpages I'm talking about. <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/> You can remove this post after you've read it.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberd460.html?action=profile&amp;uid=197360">Isolated</a> -  16.04.2013
<br />
<br />
Links should be there buddy.<br />
<br />
EDIT: Sorry; links added now.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4f47.html?action=profile&amp;uid=112301">Edvin</a> -  18.04.2013
<br />
<br />
<b>Today I Learned</b> how to use: * <b>numargs</b>, * <b>getarg</b>, * <b>setarg</b> . I must thanks to <a href="showthreadbf7d.html?pid=2445785#pid2445785" target="_blank"><b>this</b></a> post and also to <a href="http://forum.sa-mp.com/member.php?u=194879" target="_blank"><b>greentarch</b></a>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  18.04.2013
<br />
<br />
Today I learned how to confuse the PAWN VM and "steal" parts of the heap for my own uses.  For the new version of y_malloc I switched to using the heap instead of an array because it makes compiling and file sizes better.  I wrote code something like this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:87px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#emit LCTRL  5</span><br/><span style="color: #2222AA;">#emit STOR.S &lt;malloc pointer&gt;</span><br/><span style="color: #2222AA;">#emit ADD.C  &lt;malloc size&gt;</span><br/><span style="color: #2222AA;">#emit SCTRL  5</span></div></div></pre>
</div>
And everything was fine - it didn't take me long at all to convince y_malloc to allocate memory from this freshly reserved portion of the heap and seemed to be going well untill I called "malloc" from a different callback (i.e. not OnGameModeInit).<br />
<br />
The problem was that the PAWN virtual machine (i.e. the thing that runs PAWN scripts) resets the heap after every callback (which is normally the right thing to do).  The function amx_Exec contains something like:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:167px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">reset_heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>reset_stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/>heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/><br/><span style="color: #228822;">// Run the PAWN callback.</span><br/><br/>amx<span style="color: #000000;">-&gt;</span>heap <span style="color: #000000;">=</span> reset_heap;<br/>amx<span style="color: #000000;">-&gt;</span>stack <span style="color: #000000;">=</span> reset_stack;</div></div></pre>
</div>
So any modifications or assignments we make in the heap are lost as soon as the callback ends, which is no good if we are using it as global memory.  Fortunately, I found a solution by confusing the virtual machine!  When you call "sleep" this code is run:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">amx<span style="color: #000000;">-&gt;</span>reset_heap <span style="color: #000000;">=</span> reset_heap;<br/>amx<span style="color: #000000;">-&gt;</span>reset_stack <span style="color: #000000;">=</span> reset_stack;</div></div></pre>
</div>
And then "amx_Exec" ends without resetting the values, because it was never designed for callbacks in the way SA:MP does them.  When the sleep time is up, the code resumes and this code is run:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:87px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">reset_heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>reset_heap;<br/>reset_stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>reset_stack;<br/>heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;</div></div></pre>
</div>
Then when the callback finally ends, the normal end code is run to again reset the stack and heap back to their original values:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">amx<span style="color: #000000;">-&gt;</span>heap <span style="color: #000000;">=</span> reset_heap;<br/>amx<span style="color: #000000;">-&gt;</span>stack <span style="color: #000000;">=</span> reset_stack;</div></div></pre>
</div>
Now people have said that you can only call "sleep" from "main" - this is not STRICTLY true, you can call it from anywhere, it just won't do anything.  "main" is the only function that you can sleep and resume later, so "main" is the only function that can call the code we DO NOT WANT - i.e. the code I just showed to reset "reset_stack" and "reset_heap".  But there's a bug!  Calling "sleep" from a callback first, THEN from "main" will do the following:<br />
<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:391px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// Start amx_Exec</span><br/>reset_heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>reset_stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/>heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/><br/><span style="color: #228822;">// Run OnGameModeInit</span><br/><br/><span style="color: #228822;">// Call "sleep":</span><br/>amx<span style="color: #000000;">-&gt;</span>reset_heap <span style="color: #000000;">=</span> reset_heap;<br/>amx<span style="color: #000000;">-&gt;</span>reset_stack <span style="color: #000000;">=</span> reset_stack;<br/><br/><span style="color: #228822;">// Start amx_Exec</span><br/>reset_heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>reset_stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/>heap <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>heap;<br/>stack <span style="color: #000000;">=</span> amx<span style="color: #000000;">-&gt;</span>stack;<br/><br/><span style="color: #228822;">// Run "main":</span><br/><br/><span style="color: #228822;">// Call "sleep":</span><br/>amx<span style="color: #000000;">-&gt;</span>reset_heap <span style="color: #000000;">=</span> reset_heap;<br/>amx<span style="color: #000000;">-&gt;</span>reset_stack <span style="color: #000000;">=</span> reset_stack;</div></div></pre>
</div>
We have finally manged to overwrite the value of "amx-&gt;reset_heap" with our own value, i.e. the value AFTER our allocated data.  If "main" doesn't exist (i.e. this is a filterscript) then the code still works because "sleep" can never be resumed from to fully reset the heap pointer.  I'm sorry this is not well explained - it is hard to explain and took me ages to understand and figure out!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member8928.html?action=profile&amp;uid=13347">Vince</a> -  18.04.2013
<br />
<br />
Good to hear that you found a way to confuse the average user even more. :') <br />
I bet the only people that understand what you just said are Slice and yourself.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberf571.html?action=profile&amp;uid=170638">Dan..</a> -  18.04.2013
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Y_Less</strong><br />
<a href="showthread1954.html?pid=2487494#pid2487494" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">...</div>
</td>
</tr>
</table>
</div>Benchmarks? How are you dealing with fragmentation? Can you allocate huge amount of data in heap?<br />
<br />
I thought sleep wasn't safe to use in SA:MP.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->