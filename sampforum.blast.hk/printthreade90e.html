<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> [Tool/Web/Other] PHP - A map that displays a red square at specified 2d coords - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="What is this? This can be used in a web panel to show a red square at given coordinates. I use it to be able to show where a specific car is in game. This uses a 800x800 .jpg map. I also included a hi" />
<link rel="canonical" href="showthreade90e.html?tid=432442" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthreade90e.html?tid=432442">[Tool/Web/Other] PHP - A map that displays a red square at specified 2d coords</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Filterscripts (<i>https://sampforum.blast.hk/forumdisplay.php?fid=17</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+---- Forum: Tools and Files  (<i>https://sampforum.blast.hk/forumdisplay.php?fid=82</i>)<br />
<!-- end: printthread_nav -->
+---- Thread:  [Tool/Web/Other] PHP - A map that displays a red square at specified 2d coords (<em>/showthread.php?tid=432442</em>)<br />
<br />
</div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
[PHP] [WEB] Display a red square on the map at specified coordinates - <a href="member3ccf.html?action=profile&amp;uid=157025">im</a> -  22.04.2013
<br />
<br />
<b><font size="5"><font color="MediumTurquoise">W</font>hat is this?<br />
</font><br />
</b>This can be used in a web panel to show a red square at given coordinates. I use it to be able to show where a specific car is in game. <br />
This uses a 800x800 .jpg map. I also included a higher resolution of the image in case you want to create a bigger map, change the quality of the image or whatever.<br />
<br />
This may not work if your hosting doesn't have GD.. something enabled. <br />
<br />
<b><font size="5"><font color="MediumTurquoise">U</font>sage<br />
</font></b><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">&lt;img src="map.php?x=1450&amp;y=2770" /&gt;</pre>
</div>The above code will display this image (red square in top-right): <br />
<img alt="" border="0" src="http://i.imgur.com/oSTia69.jpg"/><br />
<br />
<b><font size="5"><font color="MediumTurquoise">D</font>ownload<br />
</font></b><br />
<br />
<a href="http://www.solidfiles.com/d/b3bf15403e/" target="_blank">http://www.solidfiles.com/d/b3bf15403e/</a><br />
<a href="https://dl.dropboxusercontent.com/u/7086100/php map.zip" target="_blank">https://dl.dropboxusercontent.com/u/.../php%20map.zip</a><br />
<br />
<a href="http://pastebin.com/9UGrE50R" target="_blank">http://pastebin.com/9UGrE50R</a> (you can find the .jpg image in the zip above)
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member4bc7.html?action=profile&amp;uid=186735">Ighost</a> -  22.04.2013
<br />
<br />
Good job..
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re : PHP - A map that displays a red square at specified 2d coords - <a href="memberc76f.html?action=profile&amp;uid=38431">scott1</a> -  23.04.2013
<br />
<br />
Hello,<br />
<br />
when i use it i got an error, <br />
<br />
Max
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member15b0.html?action=profile&amp;uid=100574">Niko_boy</a> -  23.04.2013
<br />
<br />
instead if u had posted image sepratly it would be easier to get a preview , any ways it seem simple but Nice
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member3b01.html?action=profile&amp;uid=151663">zDevon</a> -  05.05.2013
<br />
<br />
Awesome work, I could get some use out of this.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="membercaf7.html?action=profile&amp;uid=63576">nGen.SoNNy</a> -  06.03.2014
<br />
<br />
If anyone wanna use the <b>map_full.jpg</b> just edit this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:135px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">&#36;img <span style="color: #000000;">=</span> imagecreatefromjpeg<span style="color: #000000;">(</span><span style="color: #000066;">"map_full.jpg"</span><span style="color: #000000;">)</span>;<br/><br/>&#36;x <span style="color: #000000;">=</span> &#36;_GET<span style="color: #000000;">[</span><span style="color: #000066;">"x"</span><span style="color: #000000;">]</span><span style="color: #000000;">/</span><span style="color: #000000;">3.90</span>;<br/>&#36;y <span style="color: #000000;">=</span> &#36;_GET<span style="color: #000000;">[</span><span style="color: #000066;">"y"</span><span style="color: #000000;">]</span><span style="color: #000000;">/</span><span style="color: #000000;">3.90</span>;<br/><br/>&#36;x <span style="color: #000000;">=</span> &#36;x <span style="color: #000000;">+</span> <span style="color: #000000;">768</span>;<br/>&#36;y <span style="color: #000000;">=</span> <span style="color: #000000;">-</span><span style="color: #000000;">(</span>&#36;y <span style="color: #000000;">-</span> <span style="color: #000000;">768</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member4199.html?action=profile&amp;uid=55934">Misiur</a> -  06.03.2014
<br />
<br />
Hey, at least cast the variable to integer!<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 50px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">&#36;x </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"x"</span><span style="color: #007700">] / </span><span style="color: #0000BB">3.90</span><span style="color: #007700">;<br/></span><span style="color: #0000BB">&#36;y </span><span style="color: #007700">= (int) </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"y"</span><span style="color: #007700">] / </span><span style="color: #0000BB">3.90</span><span style="color: #007700">; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Why? <br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
			<br />
				map.php?x=PEOPLEARE&amp;y=EVIL<br />
map.php?x[]=sometimes&amp;x[]=alittletoomuch&amp;y=-100000<br />
			<br />
		</td>
</tr>
</table>
</div>Oh, and well, I don't think negative dimensions are a good input too, so absolute value maybe?<br />
<br />
Have a nice day!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="membercaf7.html?action=profile&amp;uid=63576">nGen.SoNNy</a> -  06.03.2014
<br />
<br />
You don't know anything about sa:mp coordinates then. <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/><br />
<a href="http://rse-samp.com/map/map.php?x=-1988.43&amp;y=-1988.43" target="_blank">http://rse-samp.com/map/map.php?x=-1988.43&amp;y=-1988.43</a>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member4199.html?action=profile&amp;uid=55934">Misiur</a> -  08.03.2014
<br />
<br />
I meant that values passed to imagefilledrectangle should be checked first if they are valid coords (and in this case - positive values).
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: PHP - A map that displays a red square at specified 2d coords - <a href="member4ad9.html?action=profile&amp;uid=313689">ApoziX</a> -  13.04.2020
<br />
<br />
Hello I am trying to create the same thing just replacing the red square with image <img alt="" border="0" src="https://i.imgur.com/TyNvkcB.png"/><br />
<br />
Thats the code but its not the same location where map.php?x=1450&amp;y=2770<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php

<br/>&#36;img </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatefromjpeg</span><span style="color: #007700">(</span><span style="color: #DD0000">"map.jpg"</span><span style="color: #007700">);
<br/></span><span style="color: #0000BB">&#36;sim </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">"pin.png"</span><span style="color: #007700">);

<br/>if( isset(</span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"x"</span><span style="color: #007700">]) &amp;&amp; isset(</span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"y"</span><span style="color: #007700">]) ) {
<br/>  </span><span style="color: #FF8000">// the map is GTA SAn andreas is 6000x6000
<br/>  // the image that i use is 800x800 6000/800 = 7.5
<br/>  
<br/>  </span><span style="color: #0000BB">&#36;x </span><span style="color: #007700">= </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"x"</span><span style="color: #007700">]/</span><span style="color: #0000BB">7.5</span><span style="color: #007700">;
<br/>  </span><span style="color: #0000BB">&#36;y </span><span style="color: #007700">= </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"y"</span><span style="color: #007700">]/</span><span style="color: #0000BB">7.5</span><span style="color: #007700">;
<br/>  
<br/>  </span><span style="color: #FF8000">// 0.0 0.0 is at the center of the map, in PHP 0.0 0.0 is in the top left corner, so I added / substracted 400. the map is 800x800 px, 400x400 is at the center of the map.
<br/>  
<br/>       </span><span style="color: #0000BB">&#36;x </span><span style="color: #007700">= </span><span style="color: #0000BB">&#36;x </span><span style="color: #007700">+ </span><span style="color: #0000BB">400</span><span style="color: #007700">;
<br/>       </span><span style="color: #0000BB">&#36;y </span><span style="color: #007700">= -(</span><span style="color: #0000BB">&#36;y </span><span style="color: #007700">- </span><span style="color: #0000BB">400</span><span style="color: #007700">);
<br/>  
<br/>        </span><span style="color: #0000BB">&#36;sx </span><span style="color: #007700">= </span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">);
<br/>    
<br/>    </span><span style="color: #0000BB">&#36;sy </span><span style="color: #007700">= </span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">);
<br/>    
<br/>        </span><span style="color: #0000BB">&#36;marge_right </span><span style="color: #007700">= </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"x"</span><span style="color: #007700">]/</span><span style="color: #0000BB">5.5</span><span style="color: #007700">;
<br/>    
<br/>    </span><span style="color: #0000BB">&#36;marge_bottom </span><span style="color: #007700">= </span><span style="color: #0000BB">&#36;_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">"y"</span><span style="color: #007700">]/</span><span style="color: #0000BB">5.5</span><span style="color: #007700">;

<br/>    </span><span style="color: #0000BB">imagecopy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">, </span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">, </span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">) - </span><span style="color: #0000BB">&#36;sx </span><span style="color: #007700">- </span><span style="color: #0000BB">&#36;marge_right</span><span style="color: #007700">, </span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">) - </span><span style="color: #0000BB">&#36;sy </span><span style="color: #007700">- </span><span style="color: #0000BB">&#36;marge_bottom</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">), </span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">));
<br/>}

<br/></span><span style="color: #0000BB">header </span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/png'</span><span style="color: #007700">);
<br/></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">);
<br/></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">);
<br/></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;img</span><span style="color: #007700">);
<br/></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">&#36;sim</span><span style="color: #007700">);

<br/></span><span style="color: #0000BB">?&gt;</span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->