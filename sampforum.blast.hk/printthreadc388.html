<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> Today I learned - Share your newly found knowledge! - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="TIL that mistyping for instead of foreach causes various errors, from pawncc segfaults, to scope leaks. pawn Code: //That stuff will do some serious damagefor(new i:Player) {" />
<link rel="canonical" href="showthreadc388-2.html?tid=359953&amp;page=7" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthread964f.html?tid=359953">Today I learned - Share your newly found knowledge!</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Scripting Help (<i>https://sampforum.blast.hk/forumdisplay.php?fid=12</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Today I learned - Share your newly found knowledge! (<em>/showthread.php?tid=359953</em>)<br />
<br />
<!-- start: printthread_multipage -->
<div class="multipage">Pages:  <!-- start: printthread_multipage_page -->
<a href="printthread19ba.html?tid=359953&amp;page=1">1</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadf80e.html?tid=359953&amp;page=2">2</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread2102.html?tid=359953&amp;page=3">3</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread4c3d.html?tid=359953&amp;page=4">4</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread8b69.html?tid=359953&amp;page=5">5</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread0f1f.html?tid=359953&amp;page=6">6</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page_current -->
7
<!-- end: printthread_multipage_page_current --><!-- start: printthread_multipage_page -->
<a href="printthreada82c.html?tid=359953&amp;page=8">8</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread7428.html?tid=359953&amp;page=9">9</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread4cd5.html?tid=359953&amp;page=10">10</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadc3e0.html?tid=359953&amp;page=11">11</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread9e7f.html?tid=359953&amp;page=12">12</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadeeb4.html?tid=359953&amp;page=13">13</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread1904.html?tid=359953&amp;page=14">14</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread3cda.html?tid=359953&amp;page=15">15</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadf7a6.html?tid=359953&amp;page=16">16</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread745f.html?tid=359953&amp;page=17">17</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread39fa.html?tid=359953&amp;page=18">18</a>
<!-- end: printthread_multipage_page --></div>
<!-- end: printthread_multipage --></div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4199.html?action=profile&amp;uid=55934">Misiur</a> -  06.11.2013
<br />
<br />
TIL that mistyping for instead of foreach causes various errors, from pawncc segfaults, to scope leaks. <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//That stuff will do some serious damage</span><br/><span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> <span style="color: #000000;">i</span><span style="color: #000000;">:</span>Player<span style="color: #000000;">)</span> <span style="color: #000000;">{</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberf4e9.html?action=profile&amp;uid=155821">]Rafaellos[</a> -  07.11.2013
<br />
<br />
How to use Floatcos &amp; Floatsin to create perfect positioning for races. (Was not today but I just finished my Race System and it is working great).
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4199.html?action=profile&amp;uid=55934">Misiur</a> -  07.11.2013
<br />
<br />
When you compile pwn with -O2 flag, samp-server will complain about wrong amx version. If you use some of YSI libraries, then using -O1 can result in weird errors. Stick with -O0 (default)
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member165e.html?action=profile&amp;uid=143463">Psymetrix</a> -  19.11.2013
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>DeStunter</strong><br />
<a href="showthread2126-5.html?pid=2786328#pid2786328" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">I found out random when called after it self tends to generate a number just 1 off from it self. I made a little reaction test script, and when I generate a random number to pull a char out of a string, it tends to pick the letter afterwards.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Код:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">new ReactionChars[] = "aAbBcCdDeEfFgGhHIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ0123456789";</pre>
</div>it will generate something like gGmnNoO<br />
It tends to do this quite often so I added a check to see if the number generated is within a +-1 error margin to prevent it. I also considered doing a random(1/2 size of str) + random(1/2 size of str)</div>
</td>
</tr>
</table>
</div>I'm not quite sure how you are getting that to happen.<br />
<br />
I ran this:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:311px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#include &lt;a_samp&gt;</span><br/><br/>main<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>    SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"Test"</span>, <span style="color: #000000;">250</span>, true<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222BB;">forward</span> Test<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">public</span> Test<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">new</span> ReactionChars<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000066;">"aAbBcCdDeEfFgGhHIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ0123456789"</span>;<br/>    <br/>    <span style="color: #2222BB;">new</span> string<span style="color: #000000;">[</span><span style="color: #000000;">10</span><span style="color: #000000;">]</span>;<br/>    <span style="color: #2222BB;">for</span> <span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>; i <span style="color: #000000;">&lt;</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>string<span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span>; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        string<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> ReactionChars<span style="color: #000000;">[</span><span style="color: #222222;">random</span><span style="color: #000000;">(</span><span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>ReactionChars<span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span><span style="color: #000000;">]</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #222222;">print</span><span style="color: #000000;">(</span>string<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
Here:<a href="http://slice-vps.nl:7070/#" target="_blank">http://slice-vps.nl:7070/#</a><br />
<br />
and got this list:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:327px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">I1Be637Ba<br/>qRpw3xZS1<br/>Tubt1mtVN<br/>Xfl8hk1xh<br/>1tcL0Pvxv<br/>WEb15SMyM<br/>SCCZ49PT8<br/>HUOSHYcuw<br/>LQMKPmLdz<br/>8emNShHUw<br/>Jtbtmt5WK<br/>mYXjDDe2G<br/>Ua2hkREhC<br/>jdoOXFHGr<br/>ZMfe3aR0t<br/>bIC1yJEhw<br/>VUbTHkzRh<br/>jbZoQafeu<br/>oz4K5MTda</div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  20.11.2013
<br />
<br />
Just a handy little trick I came up with today (or within the last 24 hours at least).  y_hashmap has the following function:<br />
<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:199px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">enum</span> E_DATA<br/><span style="color: #000000;">{</span><br/>    E_NAME<span style="color: #000000;">[</span><span style="color: #000000;">32</span><span style="color: #000000;">]</span>,<br/>    E_HASH<span style="color: #000000;">[</span>HASH_MAP_DATA<span style="color: #000000;">]</span>,<br/>    E_CUSTOM_FIELDS<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222BB;">new</span> <span style="color: #000000;">HashMap</span><span style="color: #000000;">:</span>gMap<span style="color: #000000;">&lt;&gt;</span>;<br/><span style="color: #2222BB;">new</span> gArray<span style="color: #000000;">[</span><span style="color: #000000;">100</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_DATA<span style="color: #000000;">]</span>;<br/><br/>HashMap_Init<span style="color: #000000;">(</span>gMap, gArray, E_HASH<span style="color: #000000;">)</span>;</div></div></pre>
</div>
The hash map library allows for fast lookup of strings in an array, so you can use those instead of indexes.  The "gMap" variable is used to quickly enter the main "gArray" array to find similar strings.  "HashMap_Init" links the two.  This, however, is a macro that expands to:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">_HashMap_Init<span style="color: #000000;">(</span>gMap, gArray<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_HASH<span style="color: #000000;">]</span>, <span style="color: #2222BB;">sizeof</span> <span style="color: #000000;">(</span>gArray<span style="color: #000000;">)</span>, <span style="color: #2222BB;">sizeof</span> <span style="color: #000000;">(</span>gArray<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span> <span style="color: #000000;">*</span> <span style="color: #000000;">4</span>, gArray<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span></div></div></pre>
</div>
There are 5 parameters:<br />
<br />
1) The map.<br />
2) The address of the first hash data.<br />
3) The size of the array.<br />
4) The size of the enum in bytes.<br />
5) The address of the first name.<br />
<br />
I'm not going to lie, the API isn't brilliantly designed.  A better way would be:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">_HashMap_Init<span style="color: #000000;">(</span>gMap, gArray<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span>, <span style="color: #2222BB;">sizeof</span> <span style="color: #000000;">(</span>gArray<span style="color: #000000;">)</span>, <span style="color: #2222BB;">sizeof</span> <span style="color: #000000;">(</span>gArray<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span> <span style="color: #000000;">*</span> <span style="color: #000000;">4</span>, <span style="color: #000000;">_</span><span style="color: #000000;">:</span>E_HASH<span style="color: #000000;">)</span></div></div></pre>
</div>
So the last parameter is an offset with a tag override.  The API also requires the name (i.e. the string used to look up the entry) to be the first item in the enum.<br />
<br />
However, the exact parameters and their order don't matter for this, the problem is here:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">gArray<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span></div></div></pre>
</div>
That is a tag mismatch - the second "0" does not have a tag of "E_DATA" so will give a warning.  The easy way to fix this would be to do "gArray[0][E_NAME]" and have that as an extra macro parameter:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">HashMap_Init<span style="color: #000000;">(</span>gMap, gArray, E_NAME, E_HASH<span style="color: #000000;">)</span>;</div></div></pre>
</div>
That seems pointless because it is ALWAYS "0" with a tag.  We could instead do an explicit tag override:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">HashMap_Init<span style="color: #000000;">(</span>gMap, gArray, E_DATA, E_HASH<span style="color: #000000;">)</span>; <span style="color: #228822;">// gArray[0][E_DATA:0]</span></div></div></pre>
</div>
That still has the extra parameter for constant data.  Note that the "E_HASH" parameter IS required because the size of the name isn't known and thus must be passed in.  So I needed a way to make "0" without getting a tag mismatch warning, and without passing the tag.  Fortunately, "E_HASH" has the correct tag but the wrong value, but that can change:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">gArray<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_HASH <span style="color: #000000;">-</span> E_HASH<span style="color: #000000;">]</span></div></div></pre>
</div>
Any number subtracted from itself is 0, subtraction preserves tags, and because this is a constant minus a constant the compiler can do it for us and generate a constant in the resulting AMX (instead of generating code to do the maths).<br />
<br />
Hence the macro contains the slightly odd looking "%1[0][(%2) - (%2)]" to generate a tagged 0 constant without passing in either 0 or the tag.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membercec9.html?action=profile&amp;uid=23640">Slice</a> -  20.11.2013
<br />
<br />
Native hash maps, nice!<br />
<br />
Though why do you need to send the address of [0][0]? What about finding that inside the init function?<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:247px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// using varargs to avoid tag index mismatch</span><br/><span style="color: #2222BB;">stock</span> _HashMap_Init<span style="color: #000000;">(</span>other, things, size1, size2, ...<span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">new</span> addr;<br/>    <br/>    <span style="color: #2222AA;">#emit LOAD.S.pri 28 // 12+4*4</span><br/>    <span style="color: #2222AA;">#emit MOVE.alt</span><br/>    <span style="color: #2222AA;">#emit LOAD.I</span><br/>    <span style="color: #2222AA;">#emit ADD</span><br/>    <span style="color: #2222AA;">#emit STOR.S.pri addr</span><br/>    <br/>    <span style="color: #222222;">printf</span><span style="color: #000000;">(</span><span style="color: #000066;">"address of arr[0][0]: %08x"</span>, addr<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/>_HashMap_Init<span style="color: #000000;">(</span><span style="color: #000000;">123</span>, <span style="color: #000000;">456</span>, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>gArray<span style="color: #000000;">)</span>, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>gArray<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>, gArray<span style="color: #000000;">)</span>;</div></div></pre>
</div>
BTW, it seems we <a href="https://github.com/oscar-broman/md-sort/blob/master/md-sort.inc#L8" target="_blank">think alike</a> sometimes.<br />
<br />
<b>Edit</b>: I just realized you can also make the array easy to deal with!<br />
<br />
Abstract example:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#include &lt;a_samp&gt;</span><br/><br/><span style="color: #2222BB;">enum</span> E_DATA <span style="color: #000000;">{</span><br/>    E_NAME<span style="color: #000000;">[</span><span style="color: #000000;">32</span><span style="color: #000000;">]</span>,<br/>    E_OTHER1,<br/>    E_OTHER2<br/><span style="color: #000000;">}</span>;<br/><br/><span style="color: #2222BB;">enum</span> E_HASH_MAP_START <span style="color: #000000;">{</span><br/>    E_NAME<span style="color: #000000;">[</span><span style="color: #000000;">32</span><span style="color: #000000;">]</span><br/><span style="color: #000000;">}</span>;<br/><br/><span style="color: #2222BB;">new</span> g_EmptyArr<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_HASH_MAP_START<span style="color: #000000;">]</span>;<br/><br/><span style="color: #2222BB;">stock</span> func<span style="color: #000000;">(</span>arr<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_HASH_MAP_START<span style="color: #000000;">]</span>, size1, size2, ...<span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">new</span> addr;<br/>    <br/>    <span style="color: #2222AA;">#emit LOAD.S.pri 24</span><br/>    <span style="color: #2222AA;">#emit STOR.S.pri 12 // override the address of arr</span><br/>    <span style="color: #2222AA;">#emit MOVE.alt</span><br/>    <span style="color: #2222AA;">#emit LOAD.I</span><br/>    <span style="color: #2222AA;">#emit ADD</span><br/>    <span style="color: #2222AA;">#emit LOAD.I</span><br/>    <span style="color: #2222AA;">#emit STOR.S.pri addr</span><br/>    <br/>    <span style="color: #2222BB;">for</span> <span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>; i <span style="color: #000000;">&lt;</span> size1; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>        <span style="color: #222222;">printf</span><span style="color: #000000;">(</span><span style="color: #000066;">"%d: %s"</span>, i, arr<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_NAME<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222BB;">new</span> g_Data<span style="color: #000000;">[</span><span style="color: #000000;">3</span><span style="color: #000000;">]</span><span style="color: #000000;">[</span>E_DATA<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span><span style="color: #000000;">{</span><span style="color: #000066;">"one"</span>, <span style="color: #000000;">1</span>, <span style="color: #000000;">11</span><span style="color: #000000;">}</span>, <span style="color: #000000;">{</span><span style="color: #000066;">"two"</span>, <span style="color: #000000;">2</span>, <span style="color: #000000;">22</span><span style="color: #000000;">}</span>, <span style="color: #000000;">{</span><span style="color: #000066;">"three"</span>, <span style="color: #000000;">3</span>, <span style="color: #000000;">33</span><span style="color: #000000;">}</span><span style="color: #000000;">}</span>;<br/><br/>main<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>    func<span style="color: #000000;">(</span>g_EmptyArr, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>g_Data<span style="color: #000000;">)</span>, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>g_Data<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>, g_Data<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member1f76.html?action=profile&amp;uid=197133">Kyance</a> -  20.11.2013
<br />
<br />
Today i learned how to do stuff with loops :]<br />
Ty Konstantinos <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  20.11.2013
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Slice</strong><br />
<a href="showthreadf450-2.html?pid=2789269#pid2789269" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Native hash maps, nice!<br />
<br />
Though why do you need to send the address of [0][0]? What about finding that inside the init function?</div>
</td>
</tr>
</table>
</div>In short, because that didn't occur to me!  It should have really...<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Slice</strong><br />
<a href="showthreadf450-2.html?pid=2789269#pid2789269" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">BTW, it seems we <a href="https://github.com/oscar-broman/md-sort/blob/master/md-sort.inc#L8" target="_blank">think alike</a> sometimes.</div>
</td>
</tr>
</table>
</div>Ha!  Hadn't seen you using that trick already, nice!<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Slice</strong><br />
<a href="showthreadf450-2.html?pid=2789269#pid2789269" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic"><b>Edit</b>: I just realized you can also make the array easy to deal with!<br />
<br />
Abstract example:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// Clever code.</span></div></div></pre>
</div></div>
</td>
</tr>
</table>
</div>Interesting, that would simplify the code somewhat.  It also took me about 10 reads of the code to figure out what you were doing there, and why I was wrong in thinking it didn't work...
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - Emmet_ -  21.11.2013
<br />
<br />
Once again, Emmet has learned something:<br />
<br />
You can predefine functions in the script:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">forward</span> <span style="color: #2222BB;">stock</span> MyFunction<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>
AFAIK that just tells the compiler that the function is defined but doesn't exist. Now it's safe to do this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:87px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">stock</span> MyFunction<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #228822;">// yes, "stock" isn't a typo.</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #222222;">print</span><span style="color: #000000;">(</span><span style="color: #000066;">"hi!"</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
It's pretty pointless but I'm definitely going to use it in my scripts now, as a cool new method of listing the functions within :D.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  21.11.2013
<br />
<br />
Why would you think that "stock" was a typo?  Does this do something other than just normal forwarding?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - Emmet_ -  21.11.2013
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Y_Less</strong><br />
<a href="showthreada63f.html?pid=2791080#pid2791080" rel="nofollow"><img alt="Посмотреть сообщение" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Why would you think that "stock" was a typo?  Does this do something other than just normal forwarding?</div>
</td>
</tr>
</table>
</div>Wow. I guess not. I also found out that it has no effect since "MyFunction" isn't a callback, so the "forward" part is basically ignored.<br />
<br />
I seriously need to re-read pawn_lang.pdf again (well, it's myself to blame really, not enough sleep causes me to make dumb moves).
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4787.html?action=profile&amp;uid=29176">Y_Less</a> -  21.11.2013
<br />
<br />
I asked as the only interesting part is the fact that "forward stock" is valid syntax as well as just "forward", but that isn't overly surprising given that "forward", "forward public", "public", and "" are all equivalent too:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:183px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// All valid forwards:</span><br/><br/>Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">public</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">forward</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">forward</span> <span style="color: #2222BB;">public</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><br/><span style="color: #2222BB;">public</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>
Anyway, the reason I asked if that did anything more interesting is that Slice has previously shown that doing:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Код:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:167px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// When using one of these:</span><br/><br/><span style="color: #2222BB;">public</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">forward</span> <span style="color: #2222BB;">public</span> Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><br/><span style="color: #228822;">// "public" isn't needed here as its already known.</span><br/>Func<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>
Will put "Func" in to the public functions table, but will NOT generate the associated code for it.<br />
<br />
Edit:<br />
<br />
<a href="showthread086d-2.html?pid=2791266#pid2791266" target="_blank"><u>Today I learned how to transparently hook native functions without ALS</u></a>.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberede6.html?action=profile&amp;uid=47313">Kyle</a> -  03.12.2013
<br />
<br />
Around one week ago I learnt how to return more than one value.<br />
<br />
Instead of this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Код:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">if(HouseID[0] == -1) { SendClientMessage(playerid, COLOR_RED, "There has been a bug in regards to calculating the Second House, Contact KyleSmith"); return 0; }</pre>
</div>I can do this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Код:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">if(HouseID[0] == -1) return SendClientMessage(playerid, COLOR_RED, "There has been a bug in regards to calculating the Second House, Contact KyleSmith"), 0;</pre>
</div>Basically, it returns the SCM but also the returning 0 at the end! It is very useful! <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberfb5d.html?action=profile&amp;uid=73154">Emmet_</a> -  04.02.2014
<br />
<br />
<b>TIL</b> that it is possible to #undef specialized macros, but only by using the alphanumeric prefix:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define MyFunction(%0) \</span><br/>    <span style="color: #000000;">(</span>Kick<span style="color: #000000;">(</span><span style="color: #000000;">%</span>0<span style="color: #000000;">)</span><span style="color: #000000;">)</span></div></div></pre>
</div>
This doesn't work:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#undef MyFunction(%0)</span></div></div></pre>
</div>
This does:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#undef MyFunction</span></div></div></pre>
</div>
From y_timers:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define @Yx:%0||||||;%8&gt;%1,%2|||%4||| %0),%8);@Yj:%1@_yT(__r,%2);public @Yj:%1@_yT(__r,%2){%4(%2);}%4</span></div></div></pre>
</div>
And then to undefine it:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#undef @Yx</span></div></div></pre>
</div>
However, I wouldn't recommend undefining working macros unless you really know what you're doing.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member4199.html?action=profile&amp;uid=55934">Misiur</a> -  04.02.2014
<br />
<br />
<a href="showthread7129-2.html?pid=785175#pid785175" target="_blank">And that is due to precompiler rules</a><br />
You have to undef part 1 (part until first not allowed character)
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membercec9.html?action=profile&amp;uid=23640">Slice</a> -  12.02.2014
<br />
<br />
<b>Today I learned</b> that the anti-DoS timeout issues <a href="showthread10b6-2.html?pid=2910058#pid2910058" target="_blank">can be fixed</a> by constantly unbanning the IP of a player experiencing problems.<br />
<br />
Obviously a pretty bad solution, but it's better than nothing.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member1c6d.html?action=profile&amp;uid=169426">Yashas</a> -  14.02.2014
<br />
<br />
Today I learned that <br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 50px;
		text-align: left;
		overflow: auto">if()
else</pre>
</div>is faster than <br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 66px;
		text-align: left;
		overflow: auto">if()
  return or continue or whatever
some code to handle else</pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">#include &lt;a_samp&gt;
#include &lt;ppg&gt;

#define EQUALTO(%0,%1) (!(%0 ^ %1))
#define ITER 10000000
main() {
    new a = 15;
    new test1s,test2s,test1e,test2e;
    test1s = GetTickCount();
    for(new i = ITER;i &gt; 0;i--)
    {
        if(a == 45)
        {
            continue;
        }
        else 
        {
            continue;
        }
    }
    test1e = test2s = GetTickCount();
    for(new i = ITER;i &gt; 0;i--)
    {
        if(a == 45)
        {
           continue;
        }
        continue;
    }
    test2e = GetTickCount();
    printf("Test1 took %dms and Test2 took %dms",test1e-test1s,test2e-test2s);
}</pre>
</div>Test1 took 691ms and Test2 took 741ms<br />
Test1 took 708ms and Test2 took 719ms<br />
Test1 took 678ms and Test2 took 703ms<br />
<br />
Tested @ <a href="http://slice-vps.nl:7070/" target="_blank">http://slice-vps.nl:7070/</a><br />
Try multiple times because sometimes the Test 2 comes faster but the experimental probability that I calculated is Test Two comes faster every 6 times Test 1 comes faster.<br />
<br />
To be sure which ones faster ,I need to see the Assembly code.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="membered47.html?action=profile&amp;uid=201158">Ada32</a> -  14.02.2014
<br />
<br />
these things are so trivial i don't know why you even attempted..
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="member1c6d.html?action=profile&amp;uid=169426">Yashas</a> -  14.02.2014
<br />
<br />
because such if blocks are used frequently and I needed to know which was faster!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Today I learned - Share your newly found knowledge! - <a href="memberb638.html?action=profile&amp;uid=193824">ColeMiner</a> -  14.02.2014
<br />
<br />
You really don't!  With that small a difference (which even you admit isn't always a clean cut result), the code in the blocks with vastly outweigh any savings made unless you can code everything with the best algorithm possible perfectly every time.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->