<!DOCTYPE html><!-- start: showthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>[Tutorial] Plugin development guide</title>
<!-- start: headerinclude -->
<link rel="alternate" type="application/rss+xml" title="Latest Threads (RSS 2.0)" href="syndication.php" />
<link rel="alternate" type="application/atom+xml" title="Latest Threads (Atom 1.0)" href="syndication9896.php?type=atom1.0" />
<link rel="shortcut icon" href="favicon.ico" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<script type="text/javascript" src="jscripts/jquery7e70.js?ver=1823"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="jscripts/jquery.plugins.minc4a7.js?ver=1821"></script>
<script type="text/javascript" src="jscripts/generalad07.js?ver=1827"></script>
<script type="text/javascript" src="images/bootbb/js/tooltip.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link href='https://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css' />
<!-- link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" / -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">

<link type="text/css" rel="stylesheet" href="cache/themes/theme3/global982f.css?t=1628341445" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/css378d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/responsive78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/star_ratings78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/showthread78d5.css?t=1625923460" />
<link type="text/css" rel="stylesheet" href="cache/themes/theme3/greyfa7b.css?t=1628447859" />




<script type="text/javascript">
jQuery(document).on('click', '.panel-heading span.clickable', function(e){
    var jQuerythis = jQuery(this);
	if(!jQuerythis.hasClass('panel-collapsed')) {
		jQuerythis.parents('.panel').find('.panel-body').slideUp();
		jQuerythis.addClass('panel-collapsed');
		jQuerythis.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
	} else {
		jQuerythis.parents('.panel').find('.panel-body').slideDown();
		jQuerythis.removeClass('panel-collapsed');
		jQuerythis.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
	}
})
</script>




<script type="text/javascript">
	lang.unknown_error = "An unknown error has occurred.";
	lang.confirm_title = "Please Confirm";
	lang.expcol_collapse = "[-]";
	lang.expcol_expand = "[+]";
	lang.select2_match = "One result is available, press enter to select it.";
	lang.select2_matches = "{1} results are available, use up and down arrow keys to navigate.";
	lang.select2_nomatches = "No matches found";
	lang.select2_inputtooshort_single = "Please enter one or more character";
	lang.select2_inputtooshort_plural = "Please enter {1} or more characters";
	lang.select2_inputtoolong_single = "Please delete one character";
	lang.select2_inputtoolong_plural = "Please delete {1} characters";
	lang.select2_selectiontoobig_single = "You can only select one item";
	lang.select2_selectiontoobig_plural = "You can only select {1} items";
	lang.select2_loadmore = "Loading more results&hellip;";
	lang.select2_searching = "Searching&hellip;";
	
	var templates = {
		modal: '<div class=\"modal\">\
	<div style=\"overflow-y: auto; max-height: 400px;\">\
		<table border=\"0\" cellspacing=\"0\" cellpadding=\"5\" class=\"tborder\">\
			<tr>\
				<td class=\"thead\"><strong>__title__</strong></td>\
			</tr>\
			<tr>\
				<td class=\"trow1\">__message__</td>\
			</tr>\
			<tr>\
				<td class=\"tfoot\">\
					<div style=\"text-align: center\" class=\"modal_buttons\">__buttons__</div>\
				</td>\
			</tr>\
		</table>\
	</div>\
</div>',
		modal_button: '<input type=\"submit\" class=\"button\" value=\"__title__\"/>&nbsp;'
	};
	
	var cookieSecureFlag = "0";
	var cookieDomain = ".sampforum.blast.hk";
	var cookiePath = "index.html";
	var cookiePrefix = "";
	var deleteevent_confirm = "Are you sure you want to delete this event?";
	var removeattach_confirm = "Are you sure you want to remove the selected attachment from this post?";
	var loading_text = 'Loading. <br />Please Wait&hellip;';
	var saving_changes = 'Saving changes&hellip;';
	var use_xmlhttprequest = "1";
	var my_post_key = "aba4ad398d60bd9872f4231f6cfcb6bf";
	var rootpath = "index.html";
	var imagepath = "images/bootbb/index.html";
  	var yes_confirm = "Yes";
	var no_confirm = "No";
	var MyBBEditor = null;
	var spinner_image = "images/bootbb/spinner.gif";
	var spinner = "<img src='" + spinner_image +"' alt='' />";
	var modal_zindex = 9999;
</script>

<!-- Make videos responsive - https://github.com/davatron5000/FitVids.js (additional video sites added for MyBB) -->
<script type="text/javascript" src="images/bootbb/js/jquery.fitvids.js"></script>
<script>
	$(document).ready(function(){
		// Target the iframe parent div
		var bvc = $(".bootbb-video-container");
		//bvc.css("max-width", "800px");
		bvc.fitVids();
	});
</script>
<!-- end: headerinclude -->
<script>
<!--
	var quickdelete_confirm = "Are you sure you want to delete this post?";
	var quickrestore_confirm = "Are you sure you want to restore this post?";
	var allowEditReason = "1";
	lang.save_changes = "Save Changes";
	lang.cancel_edit = "Cancel Edit";
	lang.quick_edit_update_error = "There was an error editing your reply:";
	lang.quick_reply_post_error = "There was an error posting your reply:";
	lang.quick_delete_error = "There was an error deleting your reply:";
	lang.quick_delete_success = "The post was deleted successfully.";
	lang.quick_delete_thread_success = "The thread was deleted successfully.";
	lang.quick_restore_error = "There was an error restoring your reply:";
	lang.quick_restore_success = "The post was restored successfully.";
	lang.editreason = "Edit Reason";
// -->
</script>
<!-- jeditable (jquery) -->
<script src="jscripts/reportdf88.js?ver=1820"></script>
<script src="jscripts/jeditable/jeditable.min.js"></script>
<script src="jscripts/threadad07.js?ver=1827"></script>
<meta name="description" content="Navigation IntroductionThis is not a C/++ help forum FAQQuick questions Getting started Examining the codeThe module definition fileWhat is &quot;EXPORTS&quot; Exported functions Defines and structures Amx func" />
<link rel="canonical" href="showthread5b6d.html?tid=295798" />
</head>
<body>
	<!-- start: header -->
<header>
<div class="navbar navbar-default">
     <div class="container">
          <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="Toggle navigation">
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span> 
               </button>
			  
			  <div class="navbar-header scaleimages">
				  <!--<a class="navbar-brand" href="https://sampforum.blast.hk">BootBB</a>-->
				  <a class="" href="index.html"><img src="images/bootbb/logo_forum.gif" /></a>
			  
			  </div>
          </div>
          <div class="collapse navbar-collapse navbar-ex1-collapse">
			  <ul class="nav navbar-nav navbar-right">
				  <!--<li id="nav-portal"><a href="https://sampforum.blast.hk/portal.php"><i class="fa fa-bell"></i> Portal</a></li>-->
               <li id="nav-forums"><a href="index-2.html"><i class="fa fa-group"></i> Forum</a></li>
				<!--<li><a href="https://sampforum.blast.hk/search.php?action=getnew"><i class="fa fa-comment"></i> New Posts</a></li>
            	<li><a href="https://sampforum.blast.hk/search.php?action=getdaily"><i class="fa fa-comments"></i> Today's Posts</a></li>-->
               <li id="nav-search"><a href="search.html"><i class="fa fa-search"></i> Search</a></li>
               <li id="nav-member"><a href="memberlist.html"><i class="fa fa-users"></i> Members</a></li>
               <li id="nav-help"><a href="misc0615.html?action=help"><i class="fa fa-life-bouy"></i> Help</a></li>
				  
<!--<li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cubes"></i> Misc <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
			  <li id="nav-help"><a href="https://sampforum.blast.hk/misc.php?action=help"><i class="fa fa-life-bouy"></i> Help</a></li>
			  <li class="divider"></li>
			  <li id="nav-calendar"><a href="https://sampforum.blast.hk/calendar.php"><i class="fa fa-calendar"></i> Calendar</a></li>
          </ul>
</li> -->
</ul>
  
          </div>
     </div>
</div>
</header>


<div id="container">
	<a name="top" id="top"></a>
		<div id="header">
			<div id="panel">
				<div class="upper">
					<div class="container">

						<!-- start: header_welcomeblock_guest -->
<!--<span><a href="https://sampforum.blast.hk/member.php?action=login" onclick="$('#quick_login').modal({ fadeDuration: 250, keepelement: true }); return false;" class="login btn btn-danger" style="color: #fff;"><i class="fa fa-sign-in"></i> Login</a> <a href="https://sampforum.blast.hk/member.php?action=register" class="register btn btn-success" style="color: #fff;"><i class="fa fa-user-plus"></i> Register</a></span>-->

<span class="float_right hidden-xs">Hello There, Guest!</span>

<br class="clearfix" />
	

				<div class="modal" id="quick_login" style="display: none;">
					<form method="post" action="https://sampforum.blast.hk/member.php">
						<input name="my_post_key" type="hidden" value="aba4ad398d60bd9872f4231f6cfcb6bf" />
						<input name="action" type="hidden" value="do_login" />
						<input name="url" type="hidden" value="" />
						<input name="quick_login" type="hidden" value="1" />
						<table width="100%" cellspacing="0" cellpadding="0" border="0" class="tborder">
							<tr>
								<td class="thead" colspan="2"><strong>Login</strong></td>
							</tr>
							<tr>
								<td class="trow1" width="25%"><strong>Username:</strong></td>
								<td class="trow1"><input name="quick_username" id="quick_login_username" type="text" value="" class="textbox initial_focus" /></td>
							</tr>
							<tr>
								<td class="trow2"><strong>Password:</strong></td>
								<td class="trow2">
									<input name="quick_password" id="quick_login_password" type="password" value="" class="textbox" /> <a href="member9a16.html?action=lostpw" class="lost_password">Lost Password?</a>
								</td>
							</tr>
							<tr>
								<td class="trow1">&nbsp;</td>
								<td class="trow1 remember_me">
									<input name="quick_remember" id="quick_login_remember" type="checkbox" value="yes" class="checkbox" checked="checked" />
									<label for="quick_login_remember">Remember me</label>
								</td>
							</tr>
							<tr>
								<td class="trow2" colspan="2">
									<div align="center"><input name="submit" type="submit" class="button" value="Login" /></div>
								</td>
							</tr>
						</table>
					</form>
				</div>
				<script type="text/javascript">
					$("#quick_login input[name='url']").val($(location).attr('href'));
				</script>
<!-- end: header_welcomeblock_guest -->
					
					</div>
			</div>
			</div>
	</div>
			</div>
               
				   
                <main class="container">
				<br />
                 <!-- start: nav -->
<ol class="breadcrumb container"><!-- start: nav_bit -->
<li><a href="index-2.html">SA-MP Forums Archive</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplayb1dd.html?fid=8">SA-MP Scripting and Plugins</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplaye053.html?fid=18">Plugin Development</a></li>
<!-- end: nav_bit --><!-- start: nav_sep_active -->

<!-- end: nav_sep_active --></ol>
<!-- end: nav -->
				
				
				
				
				
				
<!-- end: header -->
	
	
	<div class="float_left">
		<!-- start: multipage -->
<div class="pagination">
<span class="pages">Pages (9):</span>
<!-- start: multipage_page_current -->
 <span class="pagination_current">1</span>
<!-- end: multipage_page_current --><!-- start: multipage_page -->
<a href="showthread8a61.html?tid=295798&amp;page=2" class="pagination_page">2</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthread1caf.html?tid=295798&amp;page=3" class="pagination_page">3</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthread6120.html?tid=295798&amp;page=4" class="pagination_page">4</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthreadeb13.html?tid=295798&amp;page=5" class="pagination_page">5</a>
<!-- end: multipage_page --><!-- start: multipage_end -->
&hellip;  <a href="showthread85b7.html?tid=295798&amp;page=9" class="pagination_last">9</a>
<!-- end: multipage_end --><!-- start: multipage_nextpage -->
<a href="showthread8a61.html?tid=295798&amp;page=2" class="pagination_next">Next &raquo;</a>
<!-- end: multipage_nextpage --><!-- start: multipage_jump_page -->
<div class="popup_menu drop_go_page" style="display: none;">
	<form action="https://sampforum.blast.hk/showthread.php?tid=295798" method="post">
		<label>Jump to page:</label> <input type="number" class="textbox" name="page" value="1" size="4" min="1" max="9" />
		<input type="submit" class="button" value="Go" />
	</form>
</div>
<a href="javascript:;" class="go_page" title="Jump to page"><i class="fa fa-sort-down"></i></a>&nbsp;
<script type="text/javascript">
	var go_page = 'go_page_' + $(".go_page").length;
	$(".go_page").last().attr('id', go_page);
	$(".drop_go_page").last().attr('id', go_page + '_popup');
	$('#' + go_page).popupMenu(false).on('click', function() {
		var drop_go_page = $(this).prev('.drop_go_page');
		if (drop_go_page.is(':visible')) {
			drop_go_page.find('.textbox').trigger('focus');
		}
	});
</script>
<!-- end: multipage_jump_page -->
</div>
<!-- end: multipage -->
	</div>
	<div class="float_right">
		
	</div>
	<br class="clear" />
	<div class="tborder tfixed clear">
		<div class="thead">
				<div class="float_right">
					<span class="smalltext"><a href="showthreadbd44.html?mode=threaded&amp;tid=295798&amp;pid=1507239#pid1507239">Threaded Mode</a></span>
				</div>
				
					[Tutorial] Plugin development guide
			</div>
	</div>
<div id="posts_container">
	<div id="posts">
		<!-- start: postbit_classic -->

<a id="pid1507239"></a>
<div class="post classic " style="" id="post_1507239">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreaddc52.html?tid=295798&amp;pid=1507239#pid1507239" title="Plugin development guide">#1</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 1 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 00:25 <span class="post_edit" id="edited_by_1507239"><!-- start: postbit_editedby -->
<div class="edited_post postbit_edited postbit_editedby postbit_editedpost">(<!-- start: postbit_editedby_editreason -->
 <em>Last edited by Kyosaur; 22/12/2011 at 06:21 PM.
					
					
						Reason: Added AMX functions to the physical guide, and removed the unfinished wiki page.</em>
<!-- end: postbit_editedby_editreason -->)</div>
<!-- end: postbit_editedby --></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507239">
		<font color="purple"><font size="+2"><u>Navigation</u></font></font><br />
<ul><li>Introduction<ul><li>This is not a C/++ help forum</li>
</ul></li>
</ul><ul><li>FAQ<ul><li>Quick questions</li>
</ul><ul><li>Getting started</li>
</ul><ul><li>Examining the code<ul><li>The module definition file<ul><li>What is "EXPORTS"</li>
</ul><ul><li>Exported functions</li>
</ul></li>
</ul><ul><li>Defines and structures</li>
</ul></li>
</ul><ul><li>Amx functions</li>
</ul><ul><li>Amx function examples<ul><li>Registering natives</li>
</ul><ul><li>Getting a string and its length<ul><li>Alternative way to get a string</li>
</ul></li>
</ul><ul><li>How to set a string</li>
</ul><ul><li>Casting and returning floats</li>
</ul><ul><li>Passing parameters by reference</li>
</ul><ul><li>Getting and modding array values</li>
</ul><ul><li>Call a callback</li>
</ul></li>
</ul><ul><li>Calling natives and hooking callbacks<ul><li>Invoke<ul><li>Getting started</li>
</ul><ul><li>Adding SA-MP natives</li>
</ul><ul><li>Calling natives</li>
</ul></li>
</ul><ul><li>Hooking callbacks</li>
</ul></li>
</ul><ul><li>Closing</li>
</ul><ul><li>Special thanks</li>
</ul></li>
</ul>
<br />
<font color="purple"><font size="+2"><u>Introduction</u></font></font><br />
<br />
I decided to create this topic to address issues and questions that are frequently asked about plugin development. I'm no where near an expert when it comes to C/++, or the plugin SDK, i am simply sharing what i have come to learn over my time of developing plugins. Hopefully once this topic is done it will become more of a group project with other users contributing information that i might not know, or have forgotten to include. This is a pretty big topic to try and cover, so i will need assistance.<br />
<br />
<ul><li><b><font color="purple"><u>This is not a C/++ help forum</u></font></b><br />
<br />
People seem to be very confused when it comes to <a href="showthread2700.html?tid=69699" target="_blank"><u>this</u></a> post. I've seen a lot of people ask completely valid questions regarding the plugin SDK who end up with multiple "This is not a C/++ help forum!" quotes. Just because someone is expected to know the languages <b>doesn't</b> mean they're not allowed to ask questions about the actual SDK! There is a difference between asking what a pointer is, and asking something like how to create callbacks!<br />
<br />
With that being said there are excellent sites and forums dedicated to teaching and answering questions about C/++. Here are a few that i have used:<br />
<br />
These sites have excellent tutorials to learn from:<br />
<br />
<a href="http://www.cprogramming.com/" target="_blank">cprogramming.com</a><br />
<a href="http://www.cplusplus.com/doc/tutorial/" target="_blank">cplusplus.com</a><br />
<a href="http://www.learncpp.com/" target="_blank">learncpp.com</a><br />
<br />
If you get stuck on a C/++ issue you can use one of these forums to ask for assistance:<br />
<br />
<a href="http://www.dreamincode.net/forums/forum/15-c-and-c/" target="_blank">dreamincode.net</a><br />
<a href="http://stackoverflow.com/" target="_blank">stackoverflow.com</a><br />
</li>
</ul><font color="purple"><font size="+2"><u>FAQ</u></font></font><ul><li><b><font color="purple"><u>Quick questions</u></font></b><br />
<br />
<b>Question</b>: How are plugins made?<br />
<ul><li><b>Answer</b>: Plugins are made in C/++ using the plugin SDK. This FAQ assumes you know C/++ already, and will provide some information on the actual SDK later on in the article.</li>
</ul>
<b>Question</b>: Can i create a plugin in a programming language other than C/++?<br />
<ul><li><b>Answer:</b>It's possible in theory. There have been attempts at porting the SA-MP plugin SDK to the programming language D, which supports C's application binary interface. While I've never seen a fully working plugin written in D, this example has shed light on the possibility of writing plugins in languages that support C/++. There also has been talk about the possibility of bindings, but i've yet to see any backing on this.</li>
</ul>
<b>Question</b>: How can i get my plugin to be multiplatform (Available on linux and windows)?<br />
<ul><li><b>Answer</b>: Linux and windows are two different operating systems which both have their own differing API's and implementations. Getting your code to work on both platforms means you have to use platform independent code or a sort of framework that handles everything having to do with platforms FOR you. After you're sure your code doesn't rely on any one API, you simply have to compile your code in your desired environment (once again, this guide assumes you know how to do this).</li>
</ul>
<b>Question</b>: Can my plugin use memory hacking?<br />
<ul><li><b>Answer</b>: To be honest this is a sort of grey area. Using memory hacking to hook callbacks or call functions seems to be completely acceptable. Anything that modifies the servers memory seems to be off limits (See <a href="showthread62d3.html?tid=128338" target="_blank">This</a>). If your planing on making a plugin that needs to use memory hacking for anything other callback hooking or function calling, ask permission before hand and get approval <i>before</i> posting; That honestly is the best way to find out!</li>
</ul>
<b>Question</b>: Is it possible to make a plugin that ______ ?<br />
<ul><li><b>Answer:</b> In most cases any idea is completely possible to implement. It may require a stand alone application that communicates to the plugin, but its likely possible. Questions like these should <b>not</b> be posted. You heard the answer, now move on! This is not a plugin request section. Hopefully there will be a day when there is enough plugin creators to have a section or sticky topic for requests (This guide is designed to introduce and help new plugin developers, so lets hope).</li>
</ul>
<b>Question</b>: What IDE/Compiler should i use for ______ ?<br />
<ul><li><b>Answer</b>: That is completely up to you! I personally will be using VC++ 2010 express as my windows IDE and Compiler, and plan on using g++ for my Linux compiler. Just mess around with different options and see which one you like the best!</li>
</ul>
<b>Question</b>: What is a module definition file (.def)?<br />
<ul><li><b>Answer</b>: A module definition file is a special file in the Visual Studio IDE that provides the linker with information about the program that's being linked. When it comes to writing plugins for SA-MP we only really use the "EXPORTS" statement which provides information about our exported functions. We'll be looking at this statement later in the article.</li>
</ul>
<b>Question</b>: When i release a plugin, does it have to have the source with it?<br />
<ul><li><b>Answer</b>: If you're releasing something on this forum it <b>always</b> has to have the source with it. Plugins are no exception (unless the plugin is approved by a developer to be posted without a source - maybe an anti-cheat?).</li>
</ul></li>
</ul><ul><li><b><font color="purple"><u>Getting started</u></font></b><br />
<br />
You would be shocked how many times i get asked "How do i get started with plugin development?". I decided to add this entire section to answer that question! Just because you know the language doesn't mean you know your way around the IDE after all; I think that's especially true when it comes to VC++ 2010. Visual studio can be a very intimidating place to new users. I hardly think its fair to just hand you the plugin SDK without showing you around first! Messing with property pages/the linker can easily scare people away, so I'm going to guide you through it.<br />
<br />
<b><font color="red">Note:</font></b> If you chose to use a different IDE/compiler that targets Windows, you're out of luck! It seems that the only way to successfully export functions is to use a module definition file (.DEF). I've tried to include an alternative method in this article using __declspec(dllexport), but this simply didn't work due to the __stdcall calling convention mangling the exported function's names (See: <a href="http://pastebin.com/y3xkVY70" target="_blank">Here</a>). <br />
<br />
<br />
Here are the downloads you'll need for this section:<br />
<br />
<b>Visual C++ 2010 express</b>: <a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express" target="_blank">Free download</a><br />
<b>Plugin SDK (Plain)</b>: <a href="http://www.mediafire.com/file/grx4ti7u1k3lloj/SDK.zip" target="_blank">Download</a><br />
<br />
<br />
<table><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/825/93040080.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img825/5865/93040080.th.html"/></a></td><td class="alt2">The first thing we want to do is create a new project. Select file-&gt;new-&gt;project to do just that.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/833/10213722.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img833/9831/10213722.th.html"/></a></td><td class="alt2">Once you create a new project its going to ask you what type of project you're creating. Select Win32 project, enter a project name, and press OK to continue.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/197/20612685.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img197/3038/20612685.th.html"/></a></td><td class="alt2">Once your project setting are taken care of this dialog should appear. Press next to continue.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/37/32653365.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img37/9050/32653365.th.html"/></a></td><td class="alt2">After you clicked continue you should see this dialog popup asking for your application type and settings. For the type select DLL (Dynamic-link library) and for the settings select empty project. Once you're done press the finish button at the bottom. </td></tr><tr><td class="alt2"><div align="center"><a href="http://imageshack.us/photo/my-images/856/80660788.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img856/395/80660788.th.html"/></a></div></td><td class="alt2">The next thing we want to do is go to our solution explorer. The solution explorer is normally on the left side of the IDE. If you accidentally disabled it you can enable it once again by pressing CTRL+ALT+L or by selecting view-&gt;other windows-&gt;solution explorer. Once you find the solution explorer right click the project name (In this example its "Test") and select properties.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/696/342743289473.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img696/3503/342743289473.th.html"/></a></td><td class="alt2">Once you see the property pages navigate to Configuration properties-&gt;Linker-&gt;Input on the left side. Once you're there you want to add a module definition file. You can name this file anything you like as long as it has a ".def" extension at the end of it; People normally name def files after their project. Once you've named your definition file press OK.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/849/16586537.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img849/2938/16586537.th.html"/></a></td><td class="alt2">Now all we have to do is add our files (this includes our definition file!). To add a file to your project navigate to the solution explorer again, right click the project name, click add, and then select new item. In this example we'll be adding our definition file. Since there isnt an option for definition files, just pick a source file (.cpp) and type the name of the module definition file you decided on (<font color="red">Note</font>: Make sure you include the ".def" extension, other wise a ".cpp" extension will be added!). After this is done add a source file for the project the same way (except dont add an extension). Most people use the name "Main" for there main source file.</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/593/plugintut1.jpg/" target="_blank"><img alt="" border="0" src="imageshack/img593/5883/plugintut1.th.html"/></a></td><td class="alt2">Before we can start adding anything to our two currently empty files, we have to actually add the SDK to the project. If you haven't already, download the SDK from the link that was provided in the beginning of this section. Once its downloaded, extract the SDK folder into your current project's directory. <font color="red">Note</font> This part is optional: I personally like to create filters to organize all our files and code. A filter is an organizational tool in visual studio that creates folders in your project, but doesn't create corresponding Windows folders (its recommended to create matching window folders). To create a filter right click your project in the solution explorer-&gt;add-&gt;New Filter and select a name for your filter (Name it SDK in this case).</td></tr><tr><td class="alt2"><a href="http://imageshack.us/photo/my-images/37/plugintut2.png/" target="_blank"><img alt="" border="0" src="imageshack/img37/8196/plugintut2.th.html"/></a></td><td class="alt2">The next step is to add all the SDK files to our current project. To add existing files to a project simply right click the folder or project you wish to add them to and select add -&gt; Existing item. You'll want to add everything that is inside the SDK folder in your project directory (<font color="red">Note</font>: You can select multiple files by holding Ctrl while clicking the files to add). For folder consistency we're gonna create another filter inside the SDK filter, and name it amx. You'll of course want to add all the contents of the SDK\amx\ folder into the amx filter.</td></tr></table>
Now it's time to get this plugin compiled! You should have a module definition file and a source file open if you followed the instructions correctly; If not, go back a few steps and follow the instructions carefully. Go ahead and copy and paste the following information into their corresponding files. Don't worry if you don't understand any of it, we'll be addressing it all in the next section.<br />
<br />
<b>Source file (*.cpp)</b>:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#include "SDK\amx\amx.h"</span><br/><span style="color: #2222AA;">#include "SDK\plugincommon.h"</span><br/><br/><br/>typedef void <span style="color: #000000;">(</span><span style="color: #000000;">*</span>logprintf_t<span style="color: #000000;">)</span><span style="color: #000000;">(</span><span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> <span style="color: #222222;">format</span>, ...<span style="color: #000000;">)</span>;<br/><br/><br/>logprintf_t logprintf;<br/>extern void <span style="color: #000000;">*</span>pAMXFunctions;<br/><br/><br/>cell AMX_NATIVE_CALL HelloWorld<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"This was printed from the Test plugin! Yay!"</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/>PLUGIN_EXPORT unsigned int PLUGIN_CALL Supports<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">return</span> SUPPORTS_VERSION | SUPPORTS_AMX_NATIVES;<br/><span style="color: #000000;">}</span><br/><br/>PLUGIN_EXPORT bool PLUGIN_CALL Load<span style="color: #000000;">(</span>void <span style="color: #000000;">**</span>ppData<span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    pAMXFunctions <span style="color: #000000;">=</span> ppData<span style="color: #000000;">[</span>PLUGIN_DATA_AMX_EXPORTS<span style="color: #000000;">]</span>;<br/>    logprintf <span style="color: #000000;">=</span> <span style="color: #000000;">(</span>logprintf_t<span style="color: #000000;">)</span> ppData<span style="color: #000000;">[</span>PLUGIN_DATA_LOGPRINTF<span style="color: #000000;">]</span>;<br/><br/>    logprintf<span style="color: #000000;">(</span><span style="color: #000066;">" * Test plugin was loaded."</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> true;<br/><span style="color: #000000;">}</span><br/><br/>PLUGIN_EXPORT void PLUGIN_CALL Unload<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    logprintf<span style="color: #000000;">(</span><span style="color: #000066;">" * Test plugin was unloaded."</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/>AMX_NATIVE_INFO PluginNatives<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"HelloWorld"</span>, HelloWorld<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span>;<br/><br/>PLUGIN_EXPORT int PLUGIN_CALL AmxLoad<span style="color: #000000;">(</span> AMX <span style="color: #000000;">*</span>amx <span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">return</span> amx_Register<span style="color: #000000;">(</span>amx, PluginNatives, <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><br/>PLUGIN_EXPORT int PLUGIN_CALL AmxUnload<span style="color: #000000;">(</span> AMX <span style="color: #000000;">*</span>amx <span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">return</span> AMX_ERR_NONE;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<b>Module definition file (*.def)</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 114px;
		text-align: left;
		overflow: auto">EXPORTS
	Supports
	Load
	Unload
	AmxLoad
	AmxUnload</pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Examining the code</u></font></b><br />
<br />
In this section we'll be taking a look at some of the defines, structures, and functions that the SA-MP plugin SDK has to offer. You should have a comfortable understanding of C/++ before proceeding, as i will <b>just</b> be explaining SDK related information once we hit the coded segments. From here on out, there wont be any hand holding! <br />
<br />
<ul><li><b><font color="purple"><u>The module definition file</u></font></b><br />
<br />
Before we take a look at the code, we're gonna check out the module definition file we created in the previous section. First of all, what exactly is a module definition file? We know its a visual studio exclusive feature, but what exactly does it do? Its simple! A module definition file provides information to the linker about the code that is being linked. There are a lot of rules and statements that can be used in these files, but we're just gonna talk about one, the EXPORTS statement. <br />
<br />
<ul><li><b><font color="purple"><u>What is "EXPORTS"?</u></font></b><br />
<br />
Exports is a statement that allows us to... well, <i>export</i> stuff to our application! Why do we do this? Because we have to, its as simple as that. The functions we export are entry points in our DLL file. Applications can only touch the functions in our DLL that we export; if we don't export them they remain private to the DLL file. We don't want that now, do we? No. So we export everything that that application is going to be directly accessing.</li>
</ul>
<ul><li><b><font color="purple"><u>Exported functions</u></font></b><br />
<br />
There are currently 6 functions that <i>need</i> to be exported. We use 5 of them inside of our project that we've been setting up. Don't worry about the  <font color="green">PLUGIN_EXPORT</font>, and <font color="green">PLUGIN_CALL</font> definitions you see in the function declarations. We will be covering these along with some other important definitions (marked by green text) later in the article.<br />
<br />
<table><tr><td class="alt2"><b>Supports()</b></td> <td class="alt2">This function tells the server what capabilities our plugin will have based on what it returns. Generally we only use 3 support flags in plugins: <font color="green">SUPPORTS_VERSION</font>,  <font color="green">SUPPORTS_AMX_NATIVES</font>, and  <font color="green">SUPPORTS_PROCESS_TICK</font>.</td></tr><tr><td class="alt2"><b>Load(void**)</b></td><td class="alt2">The Load function is pretty straight forward. This is called when the plugin is loaded and gets passed an array of addresses that the plugin will use to function. The two indexes we typically use are <font color="green">PLUGIN_DATA_AMX_EXPORTS</font>, and  <font color="green">PLUGIN_DATA_LOGPRINTF</font>.</td></tr><tr><td class="alt2"><b>Unload()</b></td><td class="alt2">Unload is called when the plugin is unloaded (server is shutdown).</td></tr><tr><td class="alt2"><b>AmxLoad(AMX*)</b></td><td class="alt2">This is called when a new AMX instance is loaded into the server. This will be called for every filterscript/gamemode! Because of this it isn't a good idea to store a single AMX instance for the entire plugin, instead use a queue/list/vector. In this function we also register our custom native functions we wish to provide PAWN with. </td></tr><tr><td class="alt2"><b>AmxUnload(AMX*)</b></td> <td class="alt2">This function is called when ever an AMX instance is unloaded. If you store AMX instances, make sure you remove them. Otherwise you'll have instances to non-existing gamemodes/filterscripts.</td></tr><tr><td class="alt2"><b>ProcessTick()</b></td> <td class="alt2">ProcessTick is a function that gets called on every iteration of the server's loop. People generally use this function as a method of managing time by keeping track of the amount of ticks that have passed. The SA-MP server is said to have a sleep time of 5ms, so if 50 ticks go by you have an idea of the elapsed time (5 * 50 = 250ms).  <font color="red">Note</font>: Anyone who uses threads in their plugins and require PAWN interaction needs to use this function to ensure PAWN isnt busy doing another task!</td></tr></table></li>
</ul></li>
</ul><table></table>
<ul><li><b><font color="purple"><u>Defines and structures</u></font></b><br />
<br />
Now comes the fun part, we get to take a look at the code! You'll probably notice right off the bat that we're using a ton of defines and structures through our little example from the previous section. If you haven't ever developed a SA-MP plugin before, these can appear very confusing and even intimidating. We'll be shedding some light on these defines and structures in this section.<br />
<br />
<table><tr><td class="alt2"><b>cell</b></td><td class="alt2">A "cell" is a typedef that is simply there for portability. PAWN offers support for 16bit, 32bit, and 64bit integers. The typedef "cell" will always be the correct size while "int" might not be. Generally with SA-MP plugins, this typedef will always be a 32bit integer. <font color="red">Note:</font> There is also a "ucell" typedef for unsigned integers, but this is hardly used.</td></tr><tr><td class="alt2"><b>AMX_NATIVE_CALL</b> </td><td class="alt2">This defines the calling convention that our native functions will use. At the moment its defined to nothing, so the default will be used.</td></tr><tr><td class="alt2"><b>AMX</b></td><td class="alt2">The name of this structure should be pretty clear, its an AMX instance. This structure has tons of information relating to the data segments along with tons of other amx related information. This structure must be present in all native function declarations along with a cell pointer to the passed parameters; Without this info we dont know what script is calling our native, nor do we know what was passed. </td></tr><tr><td class="alt2"><b>PLUGIN_EXPORT</b></td><td class="alt2">This is defined as "PLUGIN_EXTERN_C".</td></tr><tr><td class="alt2"><b>PLUGIN_EXTERN_C</b></td><td class="alt2">If using a C++ compiler this is defined as "extern "C"". This is for compatibility with C. C++ offers things like function overloading so additional information like the number/size of arguments is stored with the function's name, this is refered to as "name mangling". When this define is used, it tells C++ to use C-style linkage and thus avoids C++ name mangling. </td></tr><tr><td class="alt2"><b>PLUGIN_CALL</b></td><td class="alt2">This define tells C/++ what calling convention to use for our exported functions. If you use a compiler targeting windows, this is defined as __stdcall. Otherwise its defined as nothing and the default convention is used.</td></tr><tr><td class="alt2"><b>SUPPORTS_VERSION</b></td><td class="alt2">This define is to be used in a bit mask that is returned by our "Supports()" function. This flag is used to check for compatibility with the server.</td></tr><tr><td class="alt2"><b>SUPPORTS_AMX_NATIVES</b></td><td class="alt2">This is yet another define that is to be used by our "Supports()" function. Any plugin that uses AMX functions must use this flag! Without this flag you'll get a run time 19 error due to your natives not registering with the server (amx_Register). </td></tr><tr><td class="alt2"><b>SUPPORTS_PROCESS_TICK</b></td><td class="alt2">Our last flag for our "Supports()" function. If you're going to be using the "ProcessTick()" function, you have to add this to our "Supports()" function's returned bit mask.</td></tr><tr><td class="alt2"><b>PLUGIN_DATA_AMX_EXPORTS</b></td><td class="alt2">This is used as an index to the multidimensional array that gets passed on Load. This particular index holds the AMX function table. All plugins must use this index to assign the address of the function table to pAMXFunctions.</td></tr><tr><td class="alt2"><b>PLUGIN_DATA_LOGPRINTF</b></td><td class="alt2">Yet another index that is to be used with the multidimensional array that gets passed on Load. This index holds the address of the logprintf function which prints information and saves said information to the server's log file. If your plugin uses this function you must use this index to assign the address to the logprintf function pointer. </td></tr><tr><td class="alt2"><b>AMX_NATIVE_INFO</b></td><td class="alt2">This struct is used in conjunction with amx_Register. It contains a string that holds your new native's name, and a pointer to it's address. </td></tr></table>
There are a few other important definitions that relate to AMX function errors, but they're already documented inside of the amx header. So instead of reinventing the wheel, I'm just going to post the enum with all the error codes and their corresponding comments. <br />
<br />
<font color="red">Note:</font> Every amx function, with the exception of amx_NativeInfo, returns one of these error codes if a problem was encountered. <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">enum</span> <br/><span style="color: #000000;">{</span><br/>  AMX_ERR_NONE,<br/>  <span style="color: #228822;">/* reserve the first 15 error codes for exit codes of the abstract machine */</span><br/>  AMX_ERR_EXIT,         <span style="color: #228822;">/* forced exit */</span><br/>  AMX_ERR_ASSERT,       <span style="color: #228822;">/* assertion failed */</span><br/>  AMX_ERR_STACKERR,     <span style="color: #228822;">/* stack/heap collision */</span><br/>  AMX_ERR_BOUNDS,       <span style="color: #228822;">/* index out of bounds */</span><br/>  AMX_ERR_MEMACCESS,    <span style="color: #228822;">/* invalid memory access */</span><br/>  AMX_ERR_INVINSTR,     <span style="color: #228822;">/* invalid instruction */</span><br/>  AMX_ERR_STACKLOW,     <span style="color: #228822;">/* stack underflow */</span><br/>  AMX_ERR_HEAPLOW,      <span style="color: #228822;">/* heap underflow */</span><br/>  AMX_ERR_CALLBACK,     <span style="color: #228822;">/* no callback, or invalid callback */</span><br/>  AMX_ERR_NATIVE,       <span style="color: #228822;">/* native function failed */</span><br/>  AMX_ERR_DIVIDE,       <span style="color: #228822;">/* divide by zero */</span><br/>  AMX_ERR_SLEEP,        <span style="color: #228822;">/* go into sleepmode - code can be restarted */</span><br/>  AMX_ERR_INVSTATE,     <span style="color: #228822;">/* invalid state for this access */</span><br/><br/>  AMX_ERR_MEMORY <span style="color: #000000;">=</span> <span style="color: #000000;">16</span>,  <span style="color: #228822;">/* out of memory */</span><br/>  AMX_ERR_FORMAT,       <span style="color: #228822;">/* invalid file format */</span><br/>  AMX_ERR_VERSION,      <span style="color: #228822;">/* file is for a newer version of the AMX */</span><br/>  AMX_ERR_NOTFOUND,     <span style="color: #228822;">/* function not found */</span><br/>  AMX_ERR_INDEX,        <span style="color: #228822;">/* invalid index parameter (bad entry point) */</span><br/>  AMX_ERR_DEBUG,        <span style="color: #228822;">/* debugger cannot run */</span><br/>  AMX_ERR_INIT,         <span style="color: #228822;">/* AMX not initialized (or doubly initialized) */</span><br/>  AMX_ERR_USERDATA,     <span style="color: #228822;">/* unable to set user data field (table full) */</span><br/>  AMX_ERR_INIT_JIT,     <span style="color: #228822;">/* cannot initialize the JIT */</span><br/>  AMX_ERR_PARAMS,       <span style="color: #228822;">/* parameter error */</span><br/>  AMX_ERR_DOMAIN,       <span style="color: #228822;">/* domain error, expression result does not fit in range */</span><br/>  AMX_ERR_GENERAL,      <span style="color: #228822;">/* general error (unknown or unspecific error) */</span><br/><span style="color: #000000;">}</span>;</div></div></pre>
</div></li>
</ul></li>
</ul><ul><li><b><font color="purple"><u>Amx functions</u></font></b><br />
<br />
The amx functions are very well documented documented inside of the PAWN implementers guide, which can be found <a href="http://www.mediafire.com/file/0tepx5ozd06dr81/Pawn_Implementer_Guide.pdf" target="_blank">here</a>. Instead of reinventing the wheel and explaining all the functions in my own words, im simply going to copy them here from the implementers guide, and make them a bit more presentable; I believe this will make the content much more accessible. With that said, this section will be <i>mostly</i> a reference for the next section which is focused on something that the implementers guide lacks, example code. <font color="red">Note:</font> I will <b>only</b> be covering the functions that i think are vital for plugins (for now). Anything else can be found in the implementers guide, just make sure you use the version i linked to in this section!<br />
<br />
<b>Key:</b><br />
<br />
<font color="darkblue">Available in this guide</font><br />
<font color="darkred">Not available</font><br />
<br />
<br />
<ul><li><font color="darkblue"><font size="+1">amx_Allot</font></font><br />
<br />
- <i>Reserve heap space in the abstract machine</i><br />
<br />
<font color="green">Syntax</font>: <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue">int</font> amx_Allot(AMX *amx, <font color="blue">int</font> cells, cell *amx_addr, cell **phys_addr);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>cells</b></td><td class="alt2"> The number of cells to reserve.</td></tr><tr><td class="alt2"><b>amx_addr</b></td><td class="alt2"> The address of the allocated cell as the pawn program (that runs in the abstract machine) can access it. phys_addr The address of the cell for C/C++ programs to access.</td></tr></table>
<b>Notes</b>: In earlier releases of pawn, arrays and strings had to be passed to<br />
a script after explicitly allocating memory for it on the amx stack.<br />
In the current release, this functionality has been largely replaced<br />
by the functions amx_PushArray and amx_PushString.<br />
A pawn function can only access memory inside its abstract ma-<br />
chine. If a parameter is to be passed “by reference” to a pawn<br />
function, one must pass the address of that parameter to amx_Exec.<br />
In addition, that address itself must be within the address range of<br />
the abstract machine too. An added complexity is that the abstract<br />
machine uses addresses that are relative to the data section of the<br />
abstract machine, and the host program uses address relative to the<br />
environment that the operating system gives it.<br />
amx_Allot allocates memory cells inside the abstract machine and<br />
it returns two addresses. The amx_addr parameter is the address of<br />
the variable relative to the “data section” of the abstract machine;<br />
this is the value you should pass to amx_Exec (via amx_Push). Pa-<br />
rameter phys_addr holds the address relative to the host program’s<br />
address space. So a C/C++ program can use this address and write<br />
into the allocated memory. <br />
After amx_Exec returns, you may inspect the memory block (the<br />
pawn function called by amx_Exec may have written into it) and<br />
finally release it by calling amx_Release.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_Exec</font>, <font color="darkblue">amx_PushArray</font>, <font color="darkblue">amx_PushString</font>, <font color="darkblue">amx_Release</font><br />
</li>
</ul>
<br />
<ul><li><font size="+1"><font color="darkblue">amx_ctof</font></font><br />
<br />
- Cast “cell” to “float”<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"> [<font color="blue">float</font>] amx_ctof([cell] c);</pre>
</div><table><tr><td class="alt2"><b>c</b></td><td class="alt2"> The value to cast from “cell” type to “float”. </td></tr></table>
<font color="green">Returns:</font> The same bit pattern, but now as a floating point type.<br />
<br />
<b>Notes:</b> This macro casts a “cell” type into a “float” type without changing<br />
the bit pattern. A normal type cast in C/C++ changes the memory<br />
representation of the expression so that its numeric value in IEEE<br />
754 format comes closest to the original integer value. The pawn<br />
parser and abstract machine store floating point values in a cell —<br />
when retrieving a floating point value from a cell, the bit pattern<br />
must not be changed.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_ftoc</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_Exec</font></font> <br />
<br />
- Run code<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"> <font color="blue">int</font> amx Exec(AMX *amx, <font color="blue">long</font> *retval, <font color="blue">int</font> index);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine from which to call a function.</td></tr><tr><td class="alt2"><b>retval</b></td><td class="alt2"> Will hold the return value of the called function uponreturn. This parameter may be NULL if you are notinterested in the return value.</td></tr><tr><td class="alt2"><b>index</b></td><td class="alt2"> An index into the “public function table”; it indicatesthe function to execute. See amx_FindPublic formoreinformation. Use AMX_EXEC_MAIN to start executingat the main function, and AMX_EXEC_CONT to continueexecution from a “sleep state”.</td></tr></table>
<b>Notes:</b> This function runs the script, starting at the indicated function. It<br />
calls the callback function for any native function call that the code<br />
in the amx makes. amx_Exec assumes that all native functions are<br />
correctly initialized with amx_Register.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_FindPublic</font>, <font color="darkblue">amx_Register</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_FindPublic</font></font> <br />
<br />
- Return the index of a public function<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx FindPublic(AMX *amx, <font color="blue">char</font> *funcname, <font color="blue">int</font> *index);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>funcname</b></td><td class="alt2"> The name of the public function to find.</td></tr><tr><td class="alt2"><b>index</b></td><td class="alt2"> Upon return, this parameter holds the index of therequested public function.</td></tr></table>
<b>See also:</b> <font color="darkblue">amx_Exec</font>, <font color="darkblue">amx_FindNative</font>, <font color="darkblue">amx_FindPubVar</font>, <font color="darkblue">amx_GetPublic</font>,<br />
<font color="darkblue">amx_NumPublics</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_ftoc</font></font> <br />
<br />
- Cast “float” to “cell”<br />
<br />
<font color="green">Syntax:</font> <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">[cell] amx_ftoc(<font color="blue">float</font>] f);</pre>
</div><table><tr><td class="alt2"><b>f</b></td><td class="alt2"> The value to cast from “float” type to “cell”.</td></tr></table>
<font color="green">Returns:</font> The same bit pattern, but now as a “cell” type.<br />
<br />
<b>Notes:</b> This macro casts a “float” type into a “cell” type without changing<br />
the bit pattern. A normal type cast in C/C++ changes the memory<br />
representation of the expression so that its numeric value in integer<br />
format is the integral (truncated) value of the original rational value.<br />
The pawn parser and abstract machine store floating point values in<br />
a cell —when storing a floating point value in a cell, the bit pattern<br />
must not be changed.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_ctof</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_GetAddr</font></font><br />
<br />
- Resolve an AMX address<br />
<br />
<font color="green">Syntax:</font> <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue">int</font> amx_GetAddr(AMX *amx,cell amx_addr,cell **phys_addr);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>amx_addr</b></td><td class="alt2"> The address relative to the abstract machine.</td></tr><tr><td class="alt2"><b>phys_addr</b></td><td class="alt2"> A pointer to the variable that will hold the memoryaddress of the indicated cell. If the amx_addr parame-ter is not a valid address inside the abstract machine,phys_addr will be set to NULL.</td></tr></table>
<b>Notes:</b> This function returns the memory address of an address in the ab-<br />
stract machine. One typically uses this function in an extension<br />
module, because it allows you to access variables inside the abstract<br />
machine.<br />
<br />
</li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_GetString</font></font><br />
<br />
- Retrieve a string from the abstract machine<br />
<br />
<font color="green">Syntax:</font> <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue">int</font> amx_GetString(<font color="blue">char</font> *dest, cell *source, <font color="blue">int</font> use_wchar, size_t size);</pre>
</div><table><tr><td class="alt2"><b>dest</b></td><td class="alt2"> A pointer to a character array of sufficient size to holdthe converted source string.</td></tr><tr><td class="alt2"><b>source</b></td><td class="alt2"> A pointer to the source string. Use amx_GetAddr toconvert a string address in the amx to the physicaladdress.</td></tr><tr><td class="alt2"><b>use_wchar</b></td><td class="alt2"> A non-zero value interprets the dest argument as apointer to “wide characters” —i.e. wchar_t, regard-less of its char type. This allows the function to storeUnicode strings.</td></tr><tr><td class="alt2"><b>size</b></td><td class="alt2"> The maximum number of characters to store in dest,including the terminating zero byte. If the string inthe source is longer, the string in dest will be trun-cated.</td></tr></table>
<b>Notes:</b> This function converts both packed strings and unpacked strings<br />
from the “pawn” format to the “C” format. When retrieving an<br />
unpacked string with parameter use_wchar set to zero, the function<br />
may truncate characters from wide characters to 8-bit ASCII/ANSI.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_SetString</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_Push</font></font><br />
<br />
- Pass a numeric argument “by-value”<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx_Push(AMX *amx, cell value);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>value</b></td><td class="alt2"> The value to pass to the public function.</td></tr></table>
<b>Notes:</b> Any parameters to a public function must be pushed to the func-<br />
tion before calling amx_Exec. If a public function has multiple ar-<br />
guments, the arguments must be pushed int reverse order.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_Exec</font>, <font color="darkblue">amx_PushArray</font>, <font color="darkblue">amx_PushString</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_PushArray</font></font><br />
<br />
- Pass an argument or array “by-reference”<br />
<br />
<font color="green">Syntax:</font> <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue">int</font> amx_PushArray(AMX *amx, cell *amx_addr, cell **phys_addr, <font color="blue">const</font> cell array[], <font color="blue">int</font> numcells);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>amx_addr</b></td><td class="alt2"> The address of the allocated cell as the pawn program (that runs in the abstract machine) can access it, needed to release the memory block. This parameter may be NULL.</td></tr><tr><td class="alt2"><b>phys_addr</b></td><td class="alt2"> The address of the cell for C/C++ programs to access. This parameter may be NULL.</td></tr><tr><td class="alt2"><b>array</b></td><td class="alt2"> The array of values to pass to the public function. A single cell that must be passed by-reference is regarded as a single-cell array.</td></tr><tr><td class="alt2"><b>numcells</b></td><td class="alt2"> The number of elements in the array.</td></tr></table>
<b>Notes:</b> Any parameters to a public function must be pushed to the func-<br />
tion before calling amx_Exec. If a public function has multiple ar-<br />
guments, the arguments must be pushed int reverse order.<br />
The function allocates memory for the array inside the “heap” of the<br />
abstract machine. This memory must be freed with amx_Release.<br />
See function amx_Allot for details on the parameters amx_addr and<br />
phys_addr.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_Exec</font>, <font color="darkblue">amx_Push</font>, <font color="darkblue">amx_PushString</font>, <font color="darkblue">amx_Release</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_PushString</font></font><br />
<br />
- Pass a string argument<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx PushString(AMX *amx, cell *amx_addr, cell **phys_addr, <font color="blue">const char</font> *string, <font color="blue">int</font> pack, <font color="blue">int</font> use_wchar);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>amx_addr</b></td><td class="alt2"> The address of the allocated cell as the pawn program (that runs in the abstract machine) can access it, needed to release the memory block. This parameter may be NULL.</td></tr><tr><td class="alt2"><b>phys_addr</b></td><td class="alt2"> The address of the cell for C/C++ programs to access.This parameter may be NULL.</td></tr><tr><td class="alt2"><b>string</b></td><td class="alt2">The string to pass to the public function. </td></tr><tr><td class="alt2"><b>pack</b></td><td class="alt2"> Non-zero to convert the source string to a packed string in the abstract machine, zero to convert the source string to a cell string.</td></tr><tr><td class="alt2"><b>use_wchar</b></td><td class="alt2"> A non-zero value interprets the string argument as a pointer to “wide characters” i.e. wchar_t, regardless of its char type. This allows the function to accept Unicode strings.</td></tr></table>
<b>Notes:</b> Any parameters to a public function must be pushed to the func-<br />
tion before calling amx_Exec. If a public function has multiple ar-<br />
guments, the arguments must be pushed int reverse order.<br />
The function allocates memory for the array inside the “heap” of the<br />
abstract machine. This memory must be freed with amx_Release.<br />
See function amx_Allot for details on the parameters amx_addr and<br />
phys_addr.<br />
When you pass in an Unicode string and request a packed format in<br />
the abstract machine (i.e. both pack and use_wchar are true), the<br />
characters are truncated to 8-bits.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_Exec</font>, <font color="darkblue">amx_Push</font>, <font color="darkblue">amx_PushArray</font>, <font color="darkblue">amx_Release</font>,<br />
<font color="darkblue">amx_SetString</font><br />
</li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_Register</font></font> <br />
<br />
- Make native functions known<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx Register(AMX *amx, AMX NATIVE INFO *list, <font color="blue">int</font> number);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>list</b></td><td class="alt2"> An array with structures where each structure holdsa pointer to the name of a native function and a function pointer. The list is optionally terminated with astructure holding two NULL pointers.</td></tr><tr><td class="alt2"><b>number</b></td><td class="alt2"> The number of structures in the list array, or -1 if thelist ends with a structure holding two NULL pointers.</td></tr></table>
<b>Notes:</b> On success, this function returns 0 (AMX_ERR_NONE). If this func-<br />
tion returns the error code AMX_ERR_NOTFOUND, one or more native<br />
functions that are used by the pawn program are not found in the<br />
provided list. You can call amx_Register again to register addi-<br />
tional function lists.<br />
To check whether all native functions used in the compiled script<br />
have been registered, call amx_Register with the parameter list<br />
set to NULL. This call will not register any new native functions, but<br />
still return AMX_ERR_NOTFOUND if any native function is unregistered.<br />
<br />
<b>See also:</b> <font color="darkred">amx_NativeInfo</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_Release</font></font> <br />
<br />
- Free heap space in the abstract machine<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx Release(AMX *amx,cell amx_addr);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>amx_addr</b></td><td class="alt2"> The address of the allocated cell as the pawn program (that runs in the abstract machine) sees it. This value is returned by amx_Allot, amx_PushArray and amx_PushString.</td></tr></table>
<b>Notes:</b> amx_Allot allocates memory on the heap in ascending order (the<br />
heap grows upwards). amx_Release frees all memory above the<br />
value of the input parameter amx_addr. That is, a single call to<br />
amx_Release can free multiple calls to amx_Allot if you pass the<br />
amx_addr value of the first allocation.<br />
amx_PushArray and amx_PushString use amx_Allot internally, so<br />
the same procedure applies to these functions as well.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_Allot</font>, <font color="darkblue">amx_PushArray</font>, <font color="darkblue">amx_PushString</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_SetString</font></font><br />
<br />
- Store a string in the abstract machine<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx SetString(cell *dest, <font color="blue">char</font> *source, <font color="blue">int</font> pack, <font color="blue">int</font> use_wchar, size_t size);</pre>
</div><table><tr><td class="alt2"><b>dest</b></td><td class="alt2"> A pointer to a character array in the amx where the converted string is stored. Use amx_GetAddr to convert a string address in the amx to the physical address.</td></tr><tr><td class="alt2"><b>source</b></td><td class="alt2"> A pointer to the source string.</td></tr><tr><td class="alt2"><b>pack</b></td><td class="alt2"> Non-zero to convert the source string to a packed</td></tr><tr><td class="alt2"><b>string</b></td><td class="alt2"> in the abstract machine, zero to convert the source string to a cell string.</td></tr><tr><td class="alt2"><b>use_wchar</b></td><td class="alt2"> A non-zero value interprets the source argument as a pointer to “wide characters” —i.e. wchar_t, regardless of its char type. This allows the function to accept Unicode strings.</td></tr><tr><td class="alt2"><b>size</b></td><td class="alt2"> The maximum number of cells to store in dest, including the terminating zero byte or cell. If the string in the source is longer than can fit in the number of cells in dest, it will be truncated.</td></tr></table>
<b>Notes:</b> When you pass in an Unicode string and request a packed format in<br />
the abstract machine (i.e. both pack and use_wchar are true), the<br />
characters are truncated to 8-bits.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_GetString</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_StrLen</font></font><br />
<br />
- Get the string length in characters<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"><font color="blue"> int</font> amx_StrLen(<font color="blue">const</font> cell *cstring, <font color="blue">int</font> *length);</pre>
</div><table><tr><td class="alt2"><b>cstring</b></td><td class="alt2"> The string in the abstract machine.</td></tr><tr><td class="alt2"><b>length</b></td><td class="alt2"> This parameter will hold the string length upon return.</td></tr></table>
<b>Notes:</b> This function determines the length in characters of the string, not<br />
including the zero-terminating character (or cell). A packed string<br />
occupies less cells than its number if characters.<br />
If the cstring parameter is NULL, the length parameter is set to<br />
zero (0) and the function returns with an error code.<br />
For converting unpacked strings to UTF-8, function amx_UTF8Len<br />
may be more convenient.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_GetAddr</font>, <font color="darkblue">amx_GetString</font>, <font color="darkblue">amx_SetString</font>, <font color="darkblue">amx_StrParam</font>, <font color="darkred">amx_UTF8Len</font></li>
</ul>
<br />
<ul><li><font color="darkblue"><font size="+1">amx_StrParam</font></font><br />
<br />
- Get a string parameter from an abstract machine<br />
<br />
<font color="green">Syntax:</font><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto"> amx_StrParam([AMX*] amx, <font color="blue">int</font>] param, [<font color="blue">char</font>*] result);</pre>
</div><table><tr><td class="alt2"><b>amx</b></td><td class="alt2"> The abstract machine.</td></tr><tr><td class="alt2"><b>param</b></td><td class="alt2"> The parameter number.</td></tr><tr><td class="alt2"><b>result</b></td><td class="alt2"> A variable that will hold the result on return.</td></tr></table>
<b>Notes:</b> This macro allocates a block of memory (with alloca) and copies<br />
a string parameter (to a native function) in that block. See page 56<br />
for an example of using this macro.<br />
<br />
<b>See also:</b> <font color="darkblue">amx_GetAddr</font>, <font color="darkblue">amx_GetString</font>, <font color="darkblue">amx_StrLen</font></li>
</ul></li>
</ul>
<ul><li><b><font color="purple"><u>Amx function examples</u></font></b><br />
<br />
In an attempt at avoiding huge text walls, I've decided to add comments to the code explaining what I'm doing instead of typing it out in the topic. It's probably a good idea to have the wiki article open as a reference while reading the examples.<br />
<br />
<ul><li><b><font color="purple"><u>Registering natives</u></font></b><br />
<br />
Every single function we provide PAWN with has to be registered so the abstract machine can be aware of its existence. So i think its probably a good idea to start off with amx_Regester! Luckily we actually already used an example of registering a native one of our previous sections, so I'll be using that example again and adding some comments. <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:247px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//An array of the functions we wish to register with the abstract machine.</span><br/>AMX_NATIVE_INFO PluginNatives<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Here we specify our native functions information and terminate the array with two null values.</span><br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"HelloWorld"</span>, HelloWorld<span style="color: #000000;">}</span>, <br/>    <span style="color: #000000;">{</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span>;<br/><br/>PLUGIN_EXPORT int PLUGIN_CALL AmxLoad<span style="color: #000000;">(</span> AMX <span style="color: #000000;">*</span>amx <span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Here we register our natives to the abstract machine. Note how we're using -1. Normally this would have to be the number of</span><br/>    <span style="color: #228822;">//functions we're registering, but since we terminated the array with two null values, we can specify -1.  </span><br/>    <span style="color: #2222BB;">return</span> amx_Register<span style="color: #000000;">(</span>amx, PluginNatives, <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span>; <br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Getting a string and its length</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to get a string (and its length) from PAWN.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnString(const str[]);</span><br/>cell AMX_NATIVE_CALL PrintPawnString<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    int <br/>        len <span style="color: #000000;">=</span> NULL,<br/>        ret <span style="color: #000000;">=</span> NULL;<br/><br/>    cell <span style="color: #000000;">*</span>addr  <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the address of our string param (str) and then get its length</span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>; <br/>    amx_StrLen<span style="color: #000000;">(</span>addr, <span style="color: #000000;">&amp;</span>len<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//if the length of input isnt 0</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>len<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//We increase len because we want to make room for the terminating null char when we allocate memory.</span><br/>        <span style="color: #228822;">//Also because GetString's size parameter counts the null chracter, we have to specify the length</span><br/>        <span style="color: #228822;">//of the string + 1; otherwise our string will be truncated to make room for the null char (we'd lose 1 character).</span><br/>        len<span style="color: #000000;">++</span>;<br/><br/>        <span style="color: #228822;">//Allocate memory to hold our string we're passing (str) and then "get" the string using our allocated memory to store it.</span><br/>        <span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> text <span style="color: #000000;">=</span> <span style="color: #2222BB;">new</span> <span style="color: #2222BB;">char</span><span style="color: #000000;">[</span> len <span style="color: #000000;">]</span>;<br/>        amx_GetString<span style="color: #000000;">(</span>text, addr, <span style="color: #000000;">0</span>, len<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Use logprintf to print out string (text). We dont use std::cout because it doesnt write to the server log (only the console).</span><br/>        logprintf<span style="color: #000000;">(</span>text<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Deallocate our memory...</span><br/>        delete<span style="color: #000000;">[</span><span style="color: #000000;">]</span> text;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div><ul><li><b><font color="purple"><u>Alternative way to get a string</u></font></b><br />
<br />
I decided to add this section because i know people are going to be tempted by the simplicity of it, and i think they should know the risks and problems that can come from it.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:327px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: an alternative method to getting strings from pawn- and the possible risks that come with it.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnString2(const str[]);</span><br/>cell AMX_NATIVE_CALL PrintPawnString2<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//This method is NOT recomended as the amx_StrParam macro uses the alloca function which is NOT a standard in C, OR C++.</span><br/>    <span style="color: #228822;">//Using this method comes with risks of overflowing the stack (If you allocate large amounts of memory) and also</span><br/>    <span style="color: #228822;">//gives you the risk of bugs (this function is machine AND compiler dependent- some implementations are said to be bugged).</span><br/><br/>    <span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> text <span style="color: #000000;">=</span> NULL;<br/>    amx_StrParam<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, text<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//Check if text is null</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>text <span style="color: #000000;">!=</span> NULL<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//Use logprintf to print out string (text). We dont use std::cout because it doesnt write to the server log (only the console).</span><br/>        logprintf<span style="color: #000000;">(</span>text<span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;   <br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul></li>
</ul><ul><li><b><font color="purple"><u>How to set a string</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:215px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to modify a PAWN string.</span><br/><span style="color: #228822;">//PAWN native: native SetPawnString(str[], len = sizeof(str));</span><br/>cell AMX_NATIVE_CALL SetPawnString<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">const</span> string message <span style="color: #000000;">=</span> <span style="color: #000066;">"This is a string from C/++!!"</span>;<br/>    cell<span style="color: #000000;">*</span> addr <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the address of our string parameter (str) and store our message </span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>;<br/>    amx_SetString<span style="color: #000000;">(</span>addr, message.c_str<span style="color: #000000;">(</span><span style="color: #000000;">)</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Casting and returning floats</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:231px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to cast a float to a PAWN float, and return it.</span><br/><span style="color: #228822;">//PAWN native: native Float:ReturnPawnFloatVal();</span><br/>cell AMX_NATIVE_CALL ReturnPawnFloatVal<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Since PAWN is a typeless language it stores everything as a 32bit integer and relies on tags to handle special data.</span><br/>    <span style="color: #228822;">//A floating point number is no exception to this; It's a still 32bit int, but it has a Float tag to show that it shouldnt</span><br/>    <span style="color: #228822;">//be treated like an regular integer. So how do we convert a float to an 32bit integer (for PAWN) without losing data?</span><br/>    <span style="color: #228822;">//The answer is the amx_ftoc macro!</span><br/><br/>    <span style="color: #228822;">//The macro amx_ftoc type casts a float into a cell while preserving its bit pattern (amx_ctof does the inverse).</span><br/>    <span style="color: #2222BB;">const</span> <span style="color: #222222;">float</span> f <span style="color: #000000;">=</span> 22.624f;<br/>    <span style="color: #2222BB;">return</span> amx_ftoc<span style="color: #000000;">(</span>f<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul>
<ul><li><b><font color="purple"><u>Passing parameters by reference</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:343px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: How to pass parameters by reference.</span><br/><span style="color: #228822;">//PAWN native: native SetPawnReferenceVars(&amp;value1, &amp;Float:value2);</span><br/>cell AMX_NATIVE_CALL SetPawnReferenceVars<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">const</span> int val <span style="color: #000000;">=</span> <span style="color: #000000;">65</span>;<br/>    <span style="color: #2222BB;">const</span> <span style="color: #222222;">float</span> val2 <span style="color: #000000;">=</span> 84.54f;<br/><br/>    cell<span style="color: #000000;">*</span> addr<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span>NULL, NULL<span style="color: #000000;">}</span>;<br/>    <br/>    <span style="color: #228822;">//Get the addresses of "value1" and "value2"</span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//Dereference our pointers and assign our values. Remember to ALWAYS use the macro "amx_ftoc" to convert floats into </span><br/>    <span style="color: #228822;">//cells (the appropriate float format for PAWN)!</span><br/>    <span style="color: #000000;">*</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> val;<br/>    <span style="color: #000000;">*</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> amx_ftoc<span style="color: #000000;">(</span>val2<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Getting and modding array values</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:471px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to get and modify array values.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnArray(arr[], size = sizeof(arr));</span><br/>cell AMX_NATIVE_CALL PrintPawnArray<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Make sure there's something to print...</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span> <span style="color: #000000;">&gt;</span> <span style="color: #000000;">0</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        cell<span style="color: #000000;">*</span> addr <span style="color: #000000;">=</span> NULL;<br/><br/>        <span style="color: #228822;">//Get the address of the first value in our PAWN array.</span><br/>        amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span>int i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>, l <span style="color: #000000;">=</span> params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span>; i <span style="color: #000000;">&lt;</span> l; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>            <span style="color: #228822;">//This is pretty straight forward: We dereference the addr pointer to get our value to print.</span><br/>            <span style="color: #228822;">//You should know this already, but arrays and pointers are almost the same thing, so we can use pointer</span><br/>            <span style="color: #228822;">//arithmetic to add an offset OR just use the subscript operator (in the end *(addr+1) and addr[1] are the same).</span><br/>            logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"arr[%d] = %d"</span>, i, <span style="color: #000000;">*</span><span style="color: #000000;">(</span>addr <span style="color: #000000;">+</span> i<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/><br/>            <span style="color: #228822;">//If you wanted to modify the array you would just change its value by dereferencing addr and assigning a new value. </span><br/>            <span style="color: #228822;">//You should know this as well, im just adding it in for completeness. Here we change the first value of our array</span><br/>            <span style="color: #228822;">//to 5 (Note: Since its the first value, no offset it used).</span><br/><br/>            <span style="color: #228822;">// *(addr) = 5;   </span><br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Call a callback</u></font></b><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: How to call a callback that is in a PAWN script.</span><br/><span style="color: #228822;">//PAWN native: native EmitPawnCallback();</span><br/>cell AMX_NATIVE_CALL EmitPawnCallback<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    int idx;<br/><br/>    <span style="color: #2222BB;">const</span> cell var <span style="color: #000000;">=</span> <span style="color: #000000;">3</span>;<br/>    <span style="color: #2222BB;">const</span> cell arr<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span><span style="color: #000000;">100</span>, <span style="color: #000000;">4</span>, <span style="color: #000000;">33</span><span style="color: #000000;">}</span>;<br/>    <span style="color: #2222BB;">const</span> string str <span style="color: #000000;">=</span> <span style="color: #000066;">"Some random message from C++."</span>;<br/><br/><br/>    <span style="color: #228822;">//Pawn callback: forward OnPawnCallbackEmitted(var, arr[], str[]);</span><br/>    <span style="color: #228822;">//Find our callback and store its place in the public function table (it's index) into our idx var.</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span>amx_FindPublic<span style="color: #000000;">(</span>amx, <span style="color: #000066;">"OnPawnCallbackEmitted"</span>, <span style="color: #000000;">&amp;</span>idx<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        cell<br/>            ret, <br/>            addr;<br/><br/>        <span style="color: #228822;">//Here we push our arguments to our function. Note that if the function has multiple arguments you have to push your</span><br/>        <span style="color: #228822;">//values in reverse order! Thats why we're pushing the string first, then the array, and finally our integer.</span><br/><br/>        amx_PushString<span style="color: #000000;">(</span>amx, <span style="color: #000000;">&amp;</span>addr, NULL, str.c_str<span style="color: #000000;">(</span><span style="color: #000000;">)</span>, NULL, NULL<span style="color: #000000;">)</span>;<br/>        <span style="color: #228822;">//amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));</span><br/><br/>        cell<br/>            amx_addr, <br/>            <span style="color: #000000;">*</span>phys_addr;<br/><br/>        <span style="color: #228822;">//For some reason amx_PushArray seems to be crashing the server, and i have NO idea why. My usage should be completely</span><br/>        <span style="color: #228822;">//valid judging from the implementers guide, and the code itself. Since the function isnt working we'll have to</span><br/>        <span style="color: #228822;">//use the old method and allocate the memory, set it, and push it all ourselves. This is pretty straight forward. We</span><br/>        <span style="color: #228822;">//allocate memory on the heap using amx_Allot (this returns 2 addresses- one of the location in the abstract machine</span><br/>        <span style="color: #228822;">//(amx_addr), and one relative to the actual server's address space (phsy_addr - which we can use in C++)). Once the </span><br/>        <span style="color: #228822;">//memory is allocated we use memcpy to copy the memory from our array to our phys_addr address location.</span><br/>        amx_Allot<span style="color: #000000;">(</span>amx, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>arr<span style="color: #000000;">)</span> <span style="color: #000000;">/</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>cell<span style="color: #000000;">)</span>, <span style="color: #000000;">&amp;</span>amx_addr, <span style="color: #000000;">&amp;</span>phys_addr<span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">memcpy</span><span style="color: #000000;">(</span>phys_addr, arr, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>arr<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>        amx_Push<span style="color: #000000;">(</span>amx, amx_addr<span style="color: #000000;">)</span>;<br/>        <br/>        <span style="color: #228822;">//Push our integer value</span><br/>        amx_Push<span style="color: #000000;">(</span>amx, var<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Execute our function using our previously obtained idx var.</span><br/>        <span style="color: #228822;">//Note: This function's second parameter is what the callback returned (Can be NULL if you're not interested in return values).</span><br/>        amx_Exec<span style="color: #000000;">(</span>amx, <span style="color: #000000;">&amp;</span>ret, idx<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Release our memory that we allocated. The function amx_Alloc allocates memory on the heap in the abstract machine.</span><br/>        <span style="color: #228822;">//The functions amx_PushString and amx_PushArray both use this function internally so you have to release the memory every time</span><br/>        <span style="color: #228822;">//you use one of those functions. NOTE: We used both amx_PushString and amx_PushArray, and yet we only have ONE release call.</span><br/>        <span style="color: #228822;">//This is because memory on the heap is allocated in ascending order! amx_Release release all the memory above a certain point </span><br/>        <span style="color: #228822;">//(the second parameter, amx_addr - which is our addr variable). Since it does this we ONLY store the address from the amx_PushString </span><br/>        <span style="color: #228822;">//call, as it'll delete everything from that point on. </span><br/>        amx_Release<span style="color: #000000;">(</span>amx, addr<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Print the return value (for completeness).</span><br/>        logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"EmitPawnCallback NOTE:  OnPawnCallbackEmitted callback returned %d!"</span>, ret<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul></li>
</ul>
<br />
<ul><li><b><font color="purple"><u>Calling natives and hooking callbacks</u></font></b><br />
<br />
Before i get into callback hooking or SA-MP native calling, i thought i should shed light on something first. Some people seem to think that plugins are a replacement for PAWN, this simply isnt the case. Plugins were designed to provide functionality TO PAWN, not to serve as a replacement for it. There are times when developing something as a plugin rather then a PAWN script doesnt make sense- its important to ask yourself if you should really be coding something as a plugin rather then a pawn script.<br />
<br />
There are a lot of different methods you can use for both callback hooking and sa-mp native calling. Im only going to be focusing on one method oh each for now though.<br />
<br />
<ul><li><b><font color="purple"><u>Invoke</u></font></b><br />
<br />
Invoke is a SA-MP native function calling method that was created by incognito. You can find it <a href="http://www.mediafire.com/file/756dd0hp8gicfbd/Invoke.zip" target="_blank">here</a>. Please note that there is a text file in there containing a function with tons of SA-MP native function calls. This is vital for invoke, and must be added to your plugin's include file. Invoke will not work if you dont have a public PAWN function that uses all the SA-MP natives your plugin requires. This function is only so invoke can find the addresses of the natives, and should <b>never</b> actually be used anywhere.<br />
<br />
<ul><li><b><font color="purple"><u>Getting started</u></font></b><br />
Before we can start calling SA-MP natives, we have to setup Invoke. The first thing we have to do is include it inside of our project, you should remember how to do this from the previous "Getting started" section. Once you have the files added to your project there are just a few simple steps to get Invoke working:<br />
<br />
<ul><li>Include the invoke header.</li>
</ul><ul><li>Allocate memory for the invoke instance under Load.</li>
</ul><ul><li>Push back the amx_list member variable every time a new AMX instance is loaded under AmxLoad.</li>
</ul><ul><li>Every time a script gets unloaded, iterate through Invoke's amx_list, find the unloaded AMX instance, and erase it under AmxUnload.</li>
</ul><ul><li>Create a native that calls Invoke's "getAddresses" member function for PAWN to use when a filterscript or gamemode is loaded that uses our plugin.</li>
</ul>
Thats about it for getting invoke setup for your plugin. The only thing left to do is to add the public PAWN function found in the invoke package (the txt file we spoke of earlier) to your plugin's include, and use the native from the last setup step when a script is loaded. Anyone who will be creating plugins for public release, i encourage you to look into <a href="showthread25fd.html?tid=85907" target="_blank">THIS</a> post. It allows for a clean seamless "hook" of the OnGameModeInit/OnFilterScriptInit callbacks so you can register SA-MP's native addresses while not forcing the end user to add a function into those callbacks themselves.<br />
<br />
<font color="red">Note</font>: Im aware that explaining this in text form probably isnt ideal for most newer users; however these are all standard C/++ tasks that you should already be familiar with- and those that arent (ie: creating a native) were already explained! If you're having trouble following along, i suggest getting a bit more familiar with C/++. With that being said though there will be an updated source code file (along with an actual include for our plugin) later on in this article with comments on everything we've learned so far. Look at that updated source file if you have any problems.</li>
</ul>
<ul><li><b><font color="purple"><u>Adding SA-MP natives</u></font></b><br />
<br />
Sadly invoke isnt magic, and does require maintenance to add new natives or remove deprecated ones. The version from the previous section has all the natives from the 0.2.2 version of SA-MP, so its missing all the newer functions. For these two reasons i decided to add this section! If someone is nice enough to add all the missing natives i will update the invoke package and include them in the credits- if not, i suggest adding natives on an as needed basis. <br />
<br />
Inside of the invoke header you should see a big array of function names (the array is appropriately called "name") and a lot of static "Native" structure declarations. To add a native you simply have to add its name to the array of names, and declare a Native structure with the appropriate information- name, and parameter specifiers. There are a lot of available parameter specifiers available to use:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">i = integer
f = float value
s = string
v = reference variable (GetPlayerPos, GetPlayerKeys, etc.)
p = string var (GetPlayerName etc.)</pre>
</div><b>Remember to update the public PAWN function that calls all the natives</b>. Any time you add a native you need to also add it to said public function.</li>
</ul>
<ul><li><b><font color="purple"><u>Calling natives</u></font></b><br />
<br />
Invoke uses the variadic member function appropriately named "callNative" to call natives. The parameters for this function are a pointer to a Native structure (see previous section) containing info on the native function, and an ellipsis for all the parameters for said native function. The function returns the return value of the native that is being called. Here is an example function that calls multiple natives, with differing parameter types (int, reference, and string var).<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:423px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to use invoke to call SA-MP natives.</span><br/><span style="color: #228822;">//PAWN native: native WhereIsPlayer(playerid);</span><br/>cell AMX_NATIVE_CALL WhereIsPlayer<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #222222;">float</span><br/>        x <span style="color: #000000;">=</span> NULL,<br/>        y <span style="color: #000000;">=</span> NULL,<br/>        z <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the player's position (and check to see if he is even connected).</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerPos, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>x, <span style="color: #000000;">&amp;</span>y, <span style="color: #000000;">&amp;</span>z<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">char</span> name<span style="color: #000000;">[</span><span style="color: #000000;">24</span><span style="color: #000000;">]</span>;<br/><br/>        <span style="color: #228822;">//Get the rest of the player's information (name, interior, and virtualworld) and print it.</span><br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerName, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, name<span style="color: #000000;">)</span>;<br/>        int interior <span style="color: #000000;">=</span> g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerInterior, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>        int virtualworld <span style="color: #000000;">=</span> g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerVirtualWorld, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><br/>        logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"%s is at X: %.2f, Y: %.2f, Z: %.2f (Virtual world: %d, Interior %d)."</span>, name, x, y, z, virtualworld, interior<span style="color: #000000;">)</span>;<br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul></li>
</ul><ul><li><b><font color="purple"><u>Hooking callbacks</u></font></b><br />
<br />
Using the invoke method, there is no 100% transparent hooking method when it comes to callbacks. Plugins that want to hook callbacks that are using invoke have go through PAWN to do so. You can create a native function that you can call inside the PAWN callback you wish to hook, and use that native as a sort of pseudo callback. You can do this in a manner that requires no work on the end user by using the <a href="showthread25fd.html?tid=85907" target="_blank">ALS hooking method</a>.<br />
<br />
The first step is obviously creating the native (remember to add it to our list of natives to register, and also add it in your include later on). The callback i decided to hook is OnPlayerConnect, so im gonna write a native function that has the same arguments as the callback, and then add the code that requires the callback (in this case a little joke).<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:295px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//This function demonstrates: how to write a native to act as a callback.</span><br/><span style="color: #228822;">//PAWN native: native TEST_Hook_OnPlayerConnnect(playerid);</span><br/>cell AMX_NATIVE_CALL TEST_Hook_OnPlayerConnnect<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Get the players name </span><br/>    <span style="color: #2222BB;">char</span> name<span style="color: #000000;">[</span><span style="color: #000000;">24</span><span style="color: #000000;">]</span>;<br/>    g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerName, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, name<span style="color: #000000;">)</span>;<br/>    <br/>    <span style="color: #228822;">//Check if his name is "Mario".</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>string<span style="color: #000000;">(</span><span style="color: #000066;">"Mario"</span><span style="color: #000000;">)</span> <span style="color: #000000;">==</span> name<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//If it is send our funny little message and kick him.</span><br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>SendClientMessage, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, 0xFFFFFFFF, <span style="color: #000066;">"Sorry {FF0000}Mario, {FFFFFF}but your princess is in another server."</span><span style="color: #000000;">)</span>;<br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>Kick, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
TEST_Hook_OnPlayerConnnect will now act as our plugin's OnPlayerConnect callback. Since our plugin's name is "Test" and its rather short i decided to let that act as our prefix for hooking. You generally want something unique for your prefixes so you dont collide with other people's plugins/includes. <font color="red">Note:</font> We still have to call this function from PAWN using the ALS method we spoke of earlier for user convenience. Since ****** does a great job of explaining the ALS method, there's really no point for me to go into details about it, i will simply provide hooking example for our TEST_Hook_OnPlayerConnect callback. This should be put in your plugins include file.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:343px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> OnPlayerConnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    TEST_Hook_OnPlayerConnnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/>    <span style="color: #228822;">//..</span><br/>    <br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #222222;">funcidx</span><span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnPlayerConnect"</span><span style="color: #000000;">)</span> <span style="color: #000000;">!=</span> <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">return</span> CallLocalFunction<span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnPlayerConnect"</span>, <span style="color: #000066;">"d"</span>, playerid<span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222AA;">#if defined _ALS_OnPlayerConnect</span><br/>    <span style="color: #2222AA;">#undef OnPlayerConnect</span><br/><span style="color: #2222AA;">#else</span><br/>    <span style="color: #2222AA;">#define _ALS_OnPlayerConnect</span><br/><span style="color: #2222AA;">#endif</span><br/><span style="color: #2222AA;">#define OnPlayerConnect TEST_OnPlayerConnect</span><br/><br/><span style="color: #2222BB;">forward</span> TEST_OnPlayerConnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;</div></div></pre>
</div></li>
</ul></li>
</ul><ul><li><b><font color="purple"><u>Closing</u></font></b><br />
<br />
Some of you experienced plugin developers might be wondering why i didnt include the GDK in the "Calling natives and hooking callbacks" section. I decided to leave it out for two reasons. The first being that i simply do not have that much available time anymore, and couldnt spare any getting used to this new system. The second reason is that the GDK is very experimental and currently is struggling with crashes amongst other problems. Im quite aware of the speed differences between Invoke and GDK, and definitely <b>will</b> add it some time in the future if no one else does (remember, this <i>is</i> suppose to be a community driven thing). I think its best to wait for some more of the issues to be ironed out for now though (zeex is an amazing coder, and im sure he'll iron everything out <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/>).<br />
<br />
Also, as i promised, here is the update include/source file with comments on everything we've <i>hopefully</i> learned:<br />
<br />
<b>Plugin include:</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//Anything with the prefix "TEST" should be changed if you called your plugin something</span><br/><span style="color: #228822;">//different. This also goes for the plugin code (TEST_Hook_OnPlayerConnect specifically).</span><br/><span style="color: #2222AA;">#if defined _TEST_INCLUDED</span><br/>    <span style="color: #2222AA;">#endinput</span><br/><span style="color: #2222AA;">#endif</span><br/><span style="color: #2222AA;">#define _TEST_INCLUDED</span><br/><span style="color: #2222AA;">#pragma library Test</span><br/><br/><span style="color: #2222AA;">#include &lt;a_samp&gt;</span><br/><br/><span style="color: #228822;">//Example natives</span><br/><span style="color: #2222BB;">native</span> PrintPawnString<span style="color: #000000;">(</span><span style="color: #2222BB;">const</span> str<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> PrintPawnString2<span style="color: #000000;">(</span><span style="color: #2222BB;">const</span> str<span style="color: #000000;">[</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> SetPawnString<span style="color: #000000;">(</span>str<span style="color: #000000;">[</span><span style="color: #000000;">]</span>, len <span style="color: #000000;">=</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>str<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>ReturnPawnFloatVal<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> SetPawnReferenceVars<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span>value1, <span style="color: #000000;">&amp;</span><span style="color: #000000;">Float</span><span style="color: #000000;">:</span>value2<span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> PrintPawnArray<span style="color: #000000;">(</span>arr<span style="color: #000000;">[</span><span style="color: #000000;">]</span>, size <span style="color: #000000;">=</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>arr<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> EmitPawnCallback<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> WhereIsPlayer<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">native</span> TEST_Hook_OnPlayerConnnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/><br/><span style="color: #228822;">//Invoke native</span><br/><span style="color: #2222BB;">native</span> Invoke_GetAddresses<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><br/><br/><span style="color: #228822;">//Callback hooks</span><br/><span style="color: #2222BB;">public</span> OnPlayerConnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    TEST_Hook_OnPlayerConnnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/>    <span style="color: #228822;">//..</span><br/>    <br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #222222;">funcidx</span><span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnPlayerConnect"</span><span style="color: #000000;">)</span> <span style="color: #000000;">!=</span> <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">return</span> CallLocalFunction<span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnPlayerConnect"</span>, <span style="color: #000066;">"d"</span>, playerid<span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222AA;">#if defined _ALS_OnPlayerConnect</span><br/>    <span style="color: #2222AA;">#undef OnPlayerConnect</span><br/><span style="color: #2222AA;">#else</span><br/>    <span style="color: #2222AA;">#define _ALS_OnPlayerConnect</span><br/><span style="color: #2222AA;">#endif</span><br/><span style="color: #2222AA;">#define OnPlayerConnect TEST_OnPlayerConnect</span><br/><br/><span style="color: #2222BB;">forward</span> TEST_OnPlayerConnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/><br/><span style="color: #2222BB;">public</span> OnGameModeInit<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    Invoke_GetAddresses<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #228822;">//..</span><br/>    <br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #222222;">funcidx</span><span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnGameModeInit"</span><span style="color: #000000;">)</span> <span style="color: #000000;">!=</span> <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">return</span> CallLocalFunction<span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnGameModeInit"</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222AA;">#if defined _ALS_OnGameModeInit</span><br/>    <span style="color: #2222AA;">#undef OnGameModeInit</span><br/><span style="color: #2222AA;">#else</span><br/>    <span style="color: #2222AA;">#define _ALS_OnGameModeInit</span><br/><span style="color: #2222AA;">#endif</span><br/><span style="color: #2222AA;">#define OnGameModeInit TEST_OnGameModeInit</span><br/><br/><span style="color: #2222BB;">forward</span> TEST_OnGameModeInit<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><br/><br/><span style="color: #2222BB;">public</span> OnFilterScriptInit<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    Invoke_GetAddresses<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #228822;">//..</span><br/>    <br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #222222;">funcidx</span><span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnFilterScriptInit"</span><span style="color: #000000;">)</span> <span style="color: #000000;">!=</span> <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">return</span> CallLocalFunction<span style="color: #000000;">(</span><span style="color: #000066;">"TEST_OnFilterScriptInit"</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #2222AA;">#if defined _ALS_OnFilterScriptInit</span><br/>    <span style="color: #2222AA;">#undef OnFilterScriptInit</span><br/><span style="color: #2222AA;">#else</span><br/>    <span style="color: #2222AA;">#define _ALS_OnFilterScriptInit</span><br/><span style="color: #2222AA;">#endif</span><br/><span style="color: #2222AA;">#define OnFilterScriptInit TEST_OnFilterScriptInit</span><br/><br/><span style="color: #2222BB;">forward</span> TEST_OnFilterScriptInit<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><br/><br/><span style="color: #228822;">//Public function for invoke</span><br/><span style="color: #2222BB;">forward</span> InvokeFunction<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">public</span> InvokeFunction<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">new</span> <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>fVar;<br/>    <span style="color: #2222BB;">new</span> Var<span style="color: #000000;">[</span> <span style="color: #000000;">256</span> <span style="color: #000000;">]</span>;<br/>    <span style="color: #2222BB;">new</span> iVar;<br/><br/>    <span style="color: #228822;">// a_samp.inc</span><br/>    SendClientMessage<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    SendClientMessageToAll<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    SendDeathMessage<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GameTextForAll<span style="color: #000000;">(</span><span style="color: #000066;">""</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GameTextForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000066;">""</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetTickCount<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/>    GetMaxPlayers<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/>    SetGameModeText<span style="color: #000000;">(</span><span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    SetTeamCount<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddPlayerClass<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddPlayerClassEx<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddStaticVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddStaticVehicleEx<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddStaticPickup<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    ShowNameTags<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ShowPlayerMarkers<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GameModeExit<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/>    SetWorldTime<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetWeaponName<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, Var, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span> Var <span style="color: #000000;">)</span> <span style="color: #000000;">)</span>;<br/>    EnableTirePopping<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AllowInteriorWeapons<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetWeather<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetGravity<span style="color: #000000;">(</span><span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    AllowAdminTeleport<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetDeathDropAmount<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    CreateExplosion<span style="color: #000000;">(</span><span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #228822;">//SetDisabledWeapons();</span><br/>    EnableZoneNames<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerAdmin<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    Kick<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    Ban<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SendRconCommand<span style="color: #000000;">(</span><span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    ShowPlayerDialog<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000066;">"lol"</span>,<span style="color: #000066;">"lol"</span>,<span style="color: #000066;">"lol"</span>,<span style="color: #000066;">"lol"</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// a_players.inc</span><br/>    SetSpawnInfo<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SpawnPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/><span style="color: #228822;">//  SetPlayerPosFindZ(0, 0.0, 0.0, 0.0);</span><br/>    GetPlayerPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, fVar, fVar, fVar<span style="color: #000000;">)</span>;<br/>    SetPlayerFacingAngle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerFacingAngle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar<span style="color: #000000;">)</span>;<br/>    SetPlayerInterior<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerInterior<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerHealth<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerHealth<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, fVar<span style="color: #000000;">)</span>;<br/>    SetPlayerArmour<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerArmour<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, fVar<span style="color: #000000;">)</span>;<br/>    SetPlayerAmmo<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerAmmo<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerTeam<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerTeam<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerScore<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerScore<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerColor<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerColor<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerSkin<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GivePlayerWeapon<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ResetPlayerWeapons<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerWeaponData<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, iVar, iVar <span style="color: #000000;">)</span>;<br/>    GivePlayerMoney<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ResetPlayerMoney<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerName<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    GetPlayerMoney<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerState<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerIp<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, Var, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span> Var <span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>    GetPlayerPing<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerWeapon<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerKeys<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,iVar,iVar,iVar<span style="color: #000000;">)</span>;<br/>    GetPlayerName<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, Var, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span> Var <span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>    PutPlayerInVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerVehicleID<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    RemovePlayerFromVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TogglePlayerControllable<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    PlayerPlaySound<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    DisablePlayerCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerRaceCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    DisablePlayerRaceCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerWorldBounds<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerMarkerForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ShowPlayerNameTagForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerMapIcon<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    RemovePlayerMapIcon<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerCameraPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerCameraLookAt<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetCameraBehindPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AllowPlayerTeleport<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerConnected<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerInVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerInAnyVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerInCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsPlayerInRaceCheckpoint<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerTime<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TogglePlayerClock<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerWeather<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerTime<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,iVar,iVar<span style="color: #000000;">)</span>;<br/>    SetPlayerVirtualWorld<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerVirtualWorld<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// a_vehicle.inc</span><br/>    CreateVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DestroyVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetVehiclePos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar,fVar,fVar<span style="color: #000000;">)</span>;<br/>    SetVehiclePos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetVehicleZAngle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar<span style="color: #000000;">)</span>;<br/>    SetVehicleZAngle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetVehicleParamsForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetVehicleToRespawn<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    LinkVehicleToInterior<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddVehicleComponent<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ChangeVehicleColor<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    ChangeVehiclePaintjob<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetVehicleHealth<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetVehicleHealth<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar<span style="color: #000000;">)</span>;<br/>    AttachTrailerToVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DetachTrailerFromVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsTrailerAttachedToVehicle<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetVehicleModel<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    SetVehicleNumberPlate<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    SetVehicleVirtualWorld<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    GetVehicleVirtualWorld<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    ApplyAnimation<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000066;">""</span>,<span style="color: #000066;">""</span>,<span style="color: #000000;">1.0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// a_objects.inc</span><br/>    CreateObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetObjectPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetObjectPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar,fVar,fVar<span style="color: #000000;">)</span>;<br/>    SetObjectRot<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetObjectRot<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,fVar,fVar,fVar<span style="color: #000000;">)</span>;<br/>    IsValidObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DestroyObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    MoveObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    StopObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    CreatePlayerObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    SetPlayerObjectPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    GetPlayerObjectPos<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,fVar,fVar,fVar<span style="color: #000000;">)</span>;<br/>    GetPlayerObjectRot<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,fVar,fVar,fVar<span style="color: #000000;">)</span>;<br/>    SetPlayerObjectRot<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    IsValidPlayerObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DestroyPlayerObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    MovePlayerObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    StopPlayerObject<span style="color: #000000;">(</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// Menu's</span><br/>    CreateMenu<span style="color: #000000;">(</span><span style="color: #000066;">""</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span>, <span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    DestroyMenu<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    AddMenuItem<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    SetMenuColumnHeader<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, <span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    ShowMenuForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    HideMenuForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    IsValidMenu<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DisableMenu<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    DisableMenuRow<span style="color: #000000;">(</span><span style="color: #000000;">Menu</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// Textdraw</span><br/>    TextDrawCreate<span style="color: #000000;">(</span><span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span>,<span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    TextDrawDestroy<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawLetterSize<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    TextDrawTextSize<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0.0</span>,<span style="color: #000000;">0.0</span><span style="color: #000000;">)</span>;<br/>    TextDrawAlignment<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawColor<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawUseBox<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawBoxColor<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawSetShadow<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawSetOutline<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawBackgroundColor<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawFont<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawSetProportional<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawShowForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawHideForPlayer<span style="color: #000000;">(</span><span style="color: #000000;">0</span>, <span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawShowForAll<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>    TextDrawHideForAll<span style="color: #000000;">(</span><span style="color: #000000;">Text</span><span style="color: #000000;">:</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">// Others</span><br/>    <span style="color: #222222;">funcidx</span><span style="color: #000000;">(</span><span style="color: #000066;">""</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #222222;">gettime</span><span style="color: #000000;">(</span>iVar,iVar,iVar<span style="color: #000000;">)</span>;<br/>    <span style="color: #222222;">getdate</span><span style="color: #000000;">(</span>iVar,iVar,iVar<span style="color: #000000;">)</span>;<br/>    <span style="color: #222222;">tickcount</span><span style="color: #000000;">(</span>iVar<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<b>Plugin source code:</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#include "SDK\amx\amx.h"</span><br/><span style="color: #2222AA;">#include "SDK\plugincommon.h"</span><br/><br/><span style="color: #2222AA;">#include "Invoke.h"</span><br/><br/><span style="color: #2222AA;">#include &lt;string&gt;</span><br/><span style="color: #2222AA;">#include &lt;vector&gt;</span><br/><br/><span style="color: #2222AA;">#include &lt;cstdlib&gt;</span><br/><span style="color: #2222AA;">#include &lt;ctime&gt; </span><br/><br/><br/>typedef void <span style="color: #000000;">(</span><span style="color: #000000;">*</span>logprintf_t<span style="color: #000000;">)</span><span style="color: #000000;">(</span><span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> <span style="color: #222222;">format</span>, ...<span style="color: #000000;">)</span>;<br/><br/>logprintf_t logprintf;<br/>extern void <span style="color: #000000;">*</span>pAMXFunctions;<br/><br/><br/>using namespace std;<br/><br/><br/><span style="color: #228822;">//This function demonstrates: how to get a string (and its length) from PAWN.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnString(const str[]);</span><br/>cell AMX_NATIVE_CALL PrintPawnString<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    int <br/>        len <span style="color: #000000;">=</span> NULL,<br/>        ret <span style="color: #000000;">=</span> NULL;<br/><br/>    cell <span style="color: #000000;">*</span>addr  <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the address of our string param (str) and then get its length</span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>; <br/>    amx_StrLen<span style="color: #000000;">(</span>addr, <span style="color: #000000;">&amp;</span>len<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//if the length of input isnt 0</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>len<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//We increase len because we want to make room for the terminating null char when we allocate memory.</span><br/>        <span style="color: #228822;">//Also because GetString's size parameter counts the null chracter, we have to specify the length</span><br/>        <span style="color: #228822;">//of the string + 1; otherwise our string will be truncated to make room for the null char (we'd lose 1 character).</span><br/>        len<span style="color: #000000;">++</span>;<br/><br/>        <span style="color: #228822;">//Allocate memory to hold our string we're passing (str) and then "get" the string using our allocated memory to store it.</span><br/>        <span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> text <span style="color: #000000;">=</span> <span style="color: #2222BB;">new</span> <span style="color: #2222BB;">char</span><span style="color: #000000;">[</span> len <span style="color: #000000;">]</span>;<br/>        amx_GetString<span style="color: #000000;">(</span>text, addr, <span style="color: #000000;">0</span>, len<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Use logprintf to print out string (text). We dont use std::cout because it doesnt write to the server log (only the window).</span><br/>        logprintf<span style="color: #000000;">(</span>text<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Deallocate our memory...</span><br/>        delete<span style="color: #000000;">[</span><span style="color: #000000;">]</span> text;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: How to call a callback that is in a PAWN script.</span><br/><span style="color: #228822;">//PAWN native: native EmitPawnCallback();</span><br/>cell AMX_NATIVE_CALL EmitPawnCallback<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    int idx;<br/><br/>    <span style="color: #2222BB;">const</span> cell var <span style="color: #000000;">=</span> <span style="color: #000000;">3</span>;<br/>    <span style="color: #2222BB;">const</span> cell arr<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span><span style="color: #000000;">100</span>, <span style="color: #000000;">4</span>, <span style="color: #000000;">33</span><span style="color: #000000;">}</span>;<br/>    <span style="color: #2222BB;">const</span> string str <span style="color: #000000;">=</span> <span style="color: #000066;">"Some random message from C++."</span>;<br/><br/><br/>    <span style="color: #228822;">//Pawn callback: forward OnPawnCallbackEmitted(var, arr[], str[]);</span><br/>    <span style="color: #228822;">//Find our callback and store its place in the public function table (it's index) into our idx var.</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span>amx_FindPublic<span style="color: #000000;">(</span>amx, <span style="color: #000066;">"OnPawnCallbackEmitted"</span>, <span style="color: #000000;">&amp;</span>idx<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        cell<br/>            ret, <br/>            addr;<br/><br/>        <span style="color: #228822;">//Here we push our arguments to our function. Note that if the function has multiple arguments you have to push your</span><br/>        <span style="color: #228822;">//values in reverse order! Thats why we're pushing the string first, then the array, and finally our integer.</span><br/><br/>        amx_PushString<span style="color: #000000;">(</span>amx, <span style="color: #000000;">&amp;</span>addr, NULL, str.c_str<span style="color: #000000;">(</span><span style="color: #000000;">)</span>, NULL, NULL<span style="color: #000000;">)</span>;<br/>        <span style="color: #228822;">//amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));</span><br/><br/>        cell<br/>            amx_addr, <br/>            <span style="color: #000000;">*</span>phys_addr;<br/><br/>        <span style="color: #228822;">//For some reason amx_PushArray seems to be crashing the server, and i have NO idea why. My usage should be completely</span><br/>        <span style="color: #228822;">//valid judging from the implementers guide, and the code itself. Since the function isnt working we'll have to</span><br/>        <span style="color: #228822;">//use the old method and allocate the memory, set it, and push it all ourselves. This is pretty straight forward. We</span><br/>        <span style="color: #228822;">//allocate memory on the heap using amx_Allot (this returns 2 addresses- one of the location in the abstract machine</span><br/>        <span style="color: #228822;">//(amx_addr), and one relative to the actual server's address space (phsy_addr - which we can use in C++)). Once the </span><br/>        <span style="color: #228822;">//memory is allocated we use memcpy to copy the memory from our array to our phys_addr address location.</span><br/>        amx_Allot<span style="color: #000000;">(</span>amx, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>arr<span style="color: #000000;">)</span> <span style="color: #000000;">/</span> <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>cell<span style="color: #000000;">)</span>, <span style="color: #000000;">&amp;</span>amx_addr, <span style="color: #000000;">&amp;</span>phys_addr<span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">memcpy</span><span style="color: #000000;">(</span>phys_addr, arr, <span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>arr<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>        amx_Push<span style="color: #000000;">(</span>amx, amx_addr<span style="color: #000000;">)</span>;<br/>        <br/>        <span style="color: #228822;">//Push our integer value</span><br/>        amx_Push<span style="color: #000000;">(</span>amx, var<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Execute our function using our previously obtained idx var.</span><br/>        <span style="color: #228822;">//Note: This function's second parameter is what the callback returned (Can be NULL if you're not interested in return values).</span><br/>        amx_Exec<span style="color: #000000;">(</span>amx, <span style="color: #000000;">&amp;</span>ret, idx<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Release our memory that we allocated. The function amx_Alloc allocates memory on the heap in the abstract machine.</span><br/>        <span style="color: #228822;">//The functions amx_PushString and amx_PushArray both use this function internally so you have to release the memory every time</span><br/>        <span style="color: #228822;">//you use one of those functions. NOTE: We used both amx_PushString and amx_PushArray, and yet we only have ONE release call.</span><br/>        <span style="color: #228822;">//This is because memory on the heap is allocated in ascending order! amx_Release release all the memory above a certain point </span><br/>        <span style="color: #228822;">//(the second parameter, amx_addr - which is our addr variable). Since it does this we ONLY store the address from the amx_PushString </span><br/>        <span style="color: #228822;">//call, as it'll delete everything from that point on. </span><br/>        amx_Release<span style="color: #000000;">(</span>amx, addr<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #228822;">//Print the return value (for completeness).</span><br/>        logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"EmitPawnCallback NOTE:  OnPawnCallbackEmitted callback returned %d!"</span>, ret<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><br/><span style="color: #228822;">//This function demonstrates: an alternative method to getting strings from pawn- and the possible risks that come with it.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnString2(const str[]);</span><br/>cell AMX_NATIVE_CALL PrintPawnString2<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//This method is NOT recomended as the amx_StrParam macro uses the alloca function which is NOT a standard in C, OR C++.</span><br/>    <span style="color: #228822;">//Using this method comes with risks of overflowing the stack (If you allocate large amounts of memory) and also</span><br/>    <span style="color: #228822;">//gives you the risk of bugs (this function is machine AND compiler dependent- some implementations are said to be bugged).</span><br/><br/>    <span style="color: #2222BB;">char</span><span style="color: #000000;">*</span> text <span style="color: #000000;">=</span> NULL;<br/>    amx_StrParam<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, text<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//Check if text is null</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>text <span style="color: #000000;">!=</span> NULL<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//Use logprintf to print out string (text). We dont use std::cout because it doesnt write to the server log (only the window).</span><br/>        logprintf<span style="color: #000000;">(</span>text<span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;   <br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: how to modify a PAWN string.</span><br/><span style="color: #228822;">//PAWN native: native SetPawnString(str[], len = sizeof(str));</span><br/>cell AMX_NATIVE_CALL SetPawnString<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">const</span> string message <span style="color: #000000;">=</span> <span style="color: #000066;">"This is a string from C/++!!"</span>;<br/>    cell<span style="color: #000000;">*</span> addr <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the address of our string parameter (str) and store our message </span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>;<br/>    amx_SetString<span style="color: #000000;">(</span>addr, message.c_str<span style="color: #000000;">(</span><span style="color: #000000;">)</span>, <span style="color: #000000;">0</span>, <span style="color: #000000;">0</span>, params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: how to cast a float to a PAWN float.</span><br/><span style="color: #228822;">//PAWN native: native Float:ReturnPawnFloatVal();</span><br/>cell AMX_NATIVE_CALL ReturnPawnFloatVal<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Since PAWN is a typeless language it stores everything as a 32bit integer and relies on tags to handle special data.</span><br/>    <span style="color: #228822;">//A floating point number is no exception to this; It's a still 32bit int, but it has a Float tag to show that it shouldnt</span><br/>    <span style="color: #228822;">//be treated like an regular integer. So how do we convert a float to an 32bit integer (for PAWN) without losing data?</span><br/>    <span style="color: #228822;">//The answer is the amx_ftoc macro!</span><br/><br/>    <span style="color: #228822;">//The macro amx_ftoc type casts a float into a cell while preserving its bit pattern (amx_ctof does the inverse).</span><br/>    <span style="color: #2222BB;">const</span> <span style="color: #222222;">float</span> f <span style="color: #000000;">=</span> 22.624f;<br/>    <span style="color: #2222BB;">return</span> amx_ftoc<span style="color: #000000;">(</span>f<span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: How to pass parameters by reference.</span><br/><span style="color: #228822;">//PAWN native: native SetPawnReferenceVars(&amp;value1, &amp;Float:value2);</span><br/>cell AMX_NATIVE_CALL SetPawnReferenceVars<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">const</span> int val <span style="color: #000000;">=</span> <span style="color: #000000;">65</span>;<br/>    <span style="color: #2222BB;">const</span> <span style="color: #222222;">float</span> val2 <span style="color: #000000;">=</span> 84.54f;<br/><br/>    cell<span style="color: #000000;">*</span> addr<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">{</span>NULL, NULL<span style="color: #000000;">}</span>;<br/>    <br/>    <span style="color: #228822;">//Get the addresses of "value1" and "value2"</span><br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #228822;">//Dereference our pointers and assign our values. Remember to ALWAYS use the macro "amx_ftoc" to convert floats into </span><br/>    <span style="color: #228822;">//cells (the appropriate float format for PAWN)!</span><br/>    <span style="color: #000000;">*</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">0</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> val;<br/>    <span style="color: #000000;">*</span>addr<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> amx_ftoc<span style="color: #000000;">(</span>val2<span style="color: #000000;">)</span>;<br/><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: how to get and modify array values.</span><br/><span style="color: #228822;">//PAWN native: native PrintPawnArray(arr[], size = sizeof(arr));</span><br/>cell AMX_NATIVE_CALL PrintPawnArray<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Make sure there's something to print...</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span> <span style="color: #000000;">&gt;</span> <span style="color: #000000;">0</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        cell<span style="color: #000000;">*</span> addr <span style="color: #000000;">=</span> NULL;<br/><br/>        <span style="color: #228822;">//Get the address of the first value in our PAWN array.</span><br/>        amx_GetAddr<span style="color: #000000;">(</span>amx, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>addr<span style="color: #000000;">)</span>;<br/><br/>        <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span>int i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>, l <span style="color: #000000;">=</span> params<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span>; i <span style="color: #000000;">&lt;</span> l; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>            <span style="color: #228822;">//This is pretty straight forward: We dereference the addr pointer to get our value to print.</span><br/>            <span style="color: #228822;">//You should know this already, but arrays and pointers are almost the same thing, so we can use pointer</span><br/>            <span style="color: #228822;">//arithmetic to add an offset OR just use the subscript operator (in the end *(addr+1) and addr[1] are the same).</span><br/>            logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"arr[%d] = %d"</span>, i, <span style="color: #000000;">*</span><span style="color: #000000;">(</span>addr <span style="color: #000000;">+</span> i<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/><br/>            <span style="color: #228822;">//If you wanted to modify the array you would just change its value by dereferencing addr and assigning a new value. </span><br/>            <span style="color: #228822;">//You should know this as well, im just adding it in for completeness. Here we change the first value of our array</span><br/>            <span style="color: #228822;">//to 5 (Note: Since its the first value, no offset it used).</span><br/><br/>            <span style="color: #228822;">// *(addr) = 5;   </span><br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: setting up invoke (fetching the addresses of our natives).</span><br/><span style="color: #228822;">//PAWN native: native Invoke_GetAddresses();</span><br/>cell AMX_NATIVE_CALL Invoke_GetAddresses<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">return</span> g_Invoke<span style="color: #000000;">-&gt;</span>getAddresses<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: how to use invoke to call SA-MP natives.</span><br/><span style="color: #228822;">//PAWN native: native WhereIsPlayer(playerid);</span><br/>cell AMX_NATIVE_CALL WhereIsPlayer<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #222222;">float</span><br/>        x <span style="color: #000000;">=</span> NULL,<br/>        y <span style="color: #000000;">=</span> NULL,<br/>        z <span style="color: #000000;">=</span> NULL;<br/><br/>    <span style="color: #228822;">//Get the player's position (and check to see if he is even connected).</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerPos, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, <span style="color: #000000;">&amp;</span>x, <span style="color: #000000;">&amp;</span>y, <span style="color: #000000;">&amp;</span>z<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">char</span> name<span style="color: #000000;">[</span><span style="color: #000000;">24</span><span style="color: #000000;">]</span>;<br/><br/>        <span style="color: #228822;">//Get the rest of the player's information (name, interior, and virtualworld) and print it.</span><br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerName, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, name<span style="color: #000000;">)</span>;<br/>        int interior <span style="color: #000000;">=</span> g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerInterior, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>        int virtualworld <span style="color: #000000;">=</span> g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerVirtualWorld, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/><br/>        logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"%s is at X: %.2f, Y: %.2f, Z: %.2f (Virtual world: %d, Interior %d)."</span>, name, x, y, z, virtualworld, interior<span style="color: #000000;">)</span>;<br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function demonstrates: how to write a native to act as a callback.</span><br/><span style="color: #228822;">//PAWN native: native TEST_Hook_OnPlayerConnnect(playerid);</span><br/>cell AMX_NATIVE_CALL TEST_Hook_OnPlayerConnnect<span style="color: #000000;">(</span>AMX<span style="color: #000000;">*</span> amx, cell<span style="color: #000000;">*</span> params<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Get the players name </span><br/>    <span style="color: #2222BB;">char</span> name<span style="color: #000000;">[</span><span style="color: #000000;">24</span><span style="color: #000000;">]</span>;<br/>    g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>GetPlayerName, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, name<span style="color: #000000;">)</span>;<br/>    <br/>    <span style="color: #228822;">//Check if his name is "Mario".</span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>string<span style="color: #000000;">(</span><span style="color: #000066;">"Mario"</span><span style="color: #000000;">)</span> <span style="color: #000000;">==</span> name<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//If it is send our funny little message and kick him.</span><br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>SendClientMessage, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span>, 0xFFFFFFFF, <span style="color: #000066;">"Sorry {FF0000}Mario, {FFFFFF}but your princess is in another server."</span><span style="color: #000000;">)</span>;<br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>Kick, params<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span><br/><br/><br/><span style="color: #228822;">//This function tells the server what capabilities our plugin will have based on what it returns. Generally we only use 3 support flags </span><br/><span style="color: #228822;">//in plugins: SUPPORTS_VERSION, SUPPORTS_AMX_NATIVES, and SUPPORTS_PROCESS_TICK.</span><br/>PLUGIN_EXPORT unsigned int PLUGIN_CALL Supports<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Note: If you're using the ProccessTick function, remember to export it in the .def file!</span><br/>    <span style="color: #2222BB;">return</span> SUPPORTS_VERSION | SUPPORTS_AMX_NATIVES | SUPPORTS_PROCESS_TICK;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//The Load function is pretty straight forward. This is called when the plugin is loaded and gets passed an array of addresses that the plugin </span><br/><span style="color: #228822;">//will use to function. The two indexes we typically use are PLUGIN_DATA_AMX_EXPORTS, and PLUGIN_DATA_LOGPRINTF.</span><br/>PLUGIN_EXPORT bool PLUGIN_CALL Load<span style="color: #000000;">(</span>void <span style="color: #000000;">**</span>ppData<span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//allocate memory for out g_Invoke instance</span><br/>    g_Invoke <span style="color: #000000;">=</span> <span style="color: #2222BB;">new</span> Invoke;<br/><br/>    <span style="color: #228822;">//Assign the addresses of our AMX function table/logprintf function to their corasponding pointers.</span><br/>    pAMXFunctions <span style="color: #000000;">=</span> ppData<span style="color: #000000;">[</span>PLUGIN_DATA_AMX_EXPORTS<span style="color: #000000;">]</span>;<br/>    logprintf <span style="color: #000000;">=</span> <span style="color: #000000;">(</span>logprintf_t<span style="color: #000000;">)</span> ppData<span style="color: #000000;">[</span>PLUGIN_DATA_LOGPRINTF<span style="color: #000000;">]</span>;<br/><br/>    logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"* Test plugin was loaded."</span><span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> true;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//Unload is called when the plugin is unloaded (server shutdown).</span><br/>PLUGIN_EXPORT void PLUGIN_CALL Unload<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    logprintf<span style="color: #000000;">(</span><span style="color: #000066;">"* Test plugin was unloaded."</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//Our array of native info for amx_Register (function name and address).</span><br/>AMX_NATIVE_INFO PluginNatives<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"PrintPawnString"</span>, PrintPawnString<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"PrintPawnString2"</span>, PrintPawnString2<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"SetPawnString"</span>, SetPawnString<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"ReturnPawnFloatVal"</span>, ReturnPawnFloatVal<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"SetPawnReferenceVars"</span>, SetPawnReferenceVars<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"PrintPawnArray"</span>, PrintPawnArray<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"EmitPawnCallback"</span>, EmitPawnCallback<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"WhereIsPlayer"</span>, WhereIsPlayer<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"Invoke_GetAddresses"</span>, Invoke_GetAddresses<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000066;">"TEST_Hook_OnPlayerConnnect"</span>, TEST_Hook_OnPlayerConnnect<span style="color: #000000;">}</span>,<br/>    <span style="color: #000000;">{</span><span style="color: #000000;">0</span>, <span style="color: #000000;">0</span><span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span>;<br/><br/><span style="color: #228822;">//This function is called when a new AMX instance is loaded into the server. This will be called for every filterscript/gamemode! Because of this it isnt </span><br/><span style="color: #228822;">//a good idea to store a single AMX instance for the entire plugin, instead use a queue/list/vector. In this function we also register our custom </span><br/><span style="color: #228822;">//native functions we wish to provide PAWN with. </span><br/>PLUGIN_EXPORT int PLUGIN_CALL AmxLoad<span style="color: #000000;">(</span> AMX <span style="color: #000000;">*</span>amx <span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Any time a script is loaded we want to add it to invoke's AMX list, so we push back the list with the instance.</span><br/>    g_Invoke<span style="color: #000000;">-&gt;</span>amx_list.push_back<span style="color: #000000;">(</span>amx<span style="color: #000000;">)</span>;<br/>    <span style="color: #2222BB;">return</span> amx_Register<span style="color: #000000;">(</span>amx, PluginNatives, <span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//This function is called when every an AMX instance is unloaded. If you store AMX instances, make sure you remove them. Otherwise you'll have instances to </span><br/><span style="color: #228822;">//non-existing gamemodes/filterscripts.</span><br/>PLUGIN_EXPORT int PLUGIN_CALL AmxUnload<span style="color: #000000;">(</span> AMX <span style="color: #000000;">*</span>amx <span style="color: #000000;">)</span> <br/><span style="color: #000000;">{</span><br/>    <span style="color: #228822;">//Every script that is unloaded needs to get removed from our AMX instance list. So we iterate through our list and find the instance that is being </span><br/>    <span style="color: #228822;">//unloaded, and we earase it from the list.</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span>list<span style="color: #000000;">&lt;</span>AMX <span style="color: #000000;">*&gt;::</span>iterator i <span style="color: #000000;">=</span> g_Invoke<span style="color: #000000;">-&gt;</span>amx_list.begin<span style="color: #000000;">(</span><span style="color: #000000;">)</span>; i <span style="color: #000000;">!=</span> g_Invoke<span style="color: #000000;">-&gt;</span>amx_list.end<span style="color: #000000;">(</span><span style="color: #000000;">)</span>; <span style="color: #000000;">++</span>i<span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">*</span>i <span style="color: #000000;">==</span> amx<span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>            g_Invoke<span style="color: #000000;">-&gt;</span>amx_list.erase<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span>;<br/>            <span style="color: #2222BB;">break</span>;<br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">return</span> AMX_ERR_NONE;<br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">//ProcessTick is a function that gets called on every iteration of the server's loop. People generally use this function as a method of managing time by </span><br/><span style="color: #228822;">//keeping track of the amount of ticks that have passed. The SA-MP server is said to have a sleep time of 5ms, so if 50 ticks go by you have an idea of </span><br/><span style="color: #228822;">// the elapsed time (5 * 50 = 250ms). Note: Anyone who uses threads in their plugins and require PAWN interaction needs to use this function to ensure </span><br/><span style="color: #228822;">//PAWN isnt busy doing another task!</span><br/>PLUGIN_EXPORT void PLUGIN_CALL ProcessTick<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">static</span> int tick <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>    <span style="color: #2222BB;">const</span> int NYAN_COUNT <span style="color: #000000;">=</span> <span style="color: #000000;">100</span>;<br/><br/>    tick<span style="color: #000000;">++</span>;<br/><br/>    <span style="color: #228822;">//Use the modulo operator to see if NYAN_COUNT ticks have passed (100 tick. 5ms sleep time * 100 ticks = 500ms). </span><br/>    <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">(</span>tick <span style="color: #000000;">%</span> NYAN_COUNT<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #228822;">//If 100 ticks have passed send our funny little message to everyone.</span><br/>        <span style="color: #2222BB;">const</span> <span style="color: #2222BB;">char</span> nyan<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000066;">"{FF0000}NYAN {FFA500}NYAN {FFFF00}NYAN {00FF00}NYAN {0000FF}NYAN {551A8B}NYAN"</span>;<br/>        g_Invoke<span style="color: #000000;">-&gt;</span>callNative<span style="color: #000000;">(</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">PAWN</span><span style="color: #000000;">::</span>SendClientMessageToAll, <span style="color: #000000;">0</span>, nyan<span style="color: #000000;">)</span>;<br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div></li>
</ul><ul><li><b><font color="purple"><u>Special thanks</u></font></b><br />
<br />
<b>RyDeR`</b> - For contributing the pictures from his plugin tutorial.<br />
<b>Incognito</b> - For Invoke, information about ProcessTick, and for all the help over my time learning C++.<br />
<b>Zeex/0x5A656578</b> - For GDK (will be included some time), and for volunteering to answer questions about GDK. <br />
<b>******</b> - For being generally awesome and constantly helping me when ever im completely baffled.<br />
<b>Techboy123</b> - For a ton of productive chats, help, and for listening to my complaints <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/>.</li>
</ul>
	</div>
	
	
	<div class="post_meta" id="post_meta_1507239">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply919d-2.html?tid=295798&amp;replyto=1507239" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507243"></a>
<div class="post classic " style="" id="post_1507243">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread6e0e.html?tid=295798&amp;pid=1507243#pid1507243" title="Re: Plugin development guide">#2</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 2 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 00:27 <span class="post_edit" id="edited_by_1507243"><!-- start: postbit_editedby -->
<div class="edited_post postbit_edited postbit_editedby postbit_editedpost">(<!-- start: postbit_editedby_editreason -->
 <em>Last edited by Kyosaur; 23/12/2011 at 04:34 AM.
					
					
						Reason: Removed request for AMX functions.</em>
<!-- end: postbit_editedby_editreason -->)</div>
<!-- end: postbit_editedby --></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507243">
		There are a couple things that the article could use for anyone wanting to contribute:<br />
<ul><li>Invoke needs to be updated badly. Its missing quite a bit of natives.</li>
</ul><ul><li>A section explaining how to setup, and use the GDK</li>
</ul>
	</div>
	
	
	<div class="post_meta" id="post_meta_1507243">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply6811.html?tid=295798&amp;replyto=1507243" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507264"></a>
<div class="post classic " style="" id="post_1507264">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8273.html?action=profile&amp;uid=129551"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8273.html?action=profile&amp;uid=129551">GTA-Hancock</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Little Clucker<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 22<br />
	Threads: 3<br />
	Joined: Jun 2011
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation1597.html?uid=129551"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread35cb.html?tid=295798&amp;pid=1507264#pid1507264" title="Re: Plugin development guide">#3</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 3 by GTA-Hancock" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 01:26 <span class="post_edit" id="edited_by_1507264"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507264">
		o_O Good work!
	</div>
	
	
	<div class="post_meta" id="post_meta_1507264">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search7be3.html?action=finduser&amp;uid=129551" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply4949.html?tid=295798&amp;replyto=1507264" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507274"></a>
<div class="post classic " style="" id="post_1507274">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member2334.html?action=profile&amp;uid=96675"><img src="uploads/avatars/96675.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member2334.html?action=profile&amp;uid=96675">dowster</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 631<br />
	Threads: 58<br />
	Joined: Jun 2010
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4056.html?uid=96675"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadb88c.html?tid=295798&amp;pid=1507274#pid1507274" title="Re: Plugin development guide">#4</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 4 by dowster" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 02:16 <span class="post_edit" id="edited_by_1507274"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507274">
		YOU ARE GOD &lt;3
	</div>
	
	
	<div class="post_meta" id="post_meta_1507274">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search06d4.html?action=finduser&amp;uid=96675" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplydab6.html?tid=295798&amp;replyto=1507274" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507301"></a>
<div class="post classic " style="" id="post_1507301">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member0422.html?action=profile&amp;uid=33812"><img src="uploads/avatars/33812.png" alt="" width="52" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member0422.html?action=profile&amp;uid=33812">Norn</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 2,265<br />
	Threads: 80<br />
	Joined: Jul 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationa501.html?uid=33812"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread4fbf.html?tid=295798&amp;pid=1507301#pid1507301" title="Re: Plugin development guide">#5</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 5 by Norn" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 03:06 <span class="post_edit" id="edited_by_1507301"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507301">
		Excellent, obviously a lot of work put into this.
	</div>
	
	
	<div class="post_meta" id="post_meta_1507301">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search6ea2.html?action=finduser&amp;uid=33812" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply9247.html?tid=295798&amp;replyto=1507301" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507361"></a>
<div class="post classic " style="" id="post_1507361">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member059a.html?action=profile&amp;uid=78223"><img src="uploads/avatars/78223.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member059a.html?action=profile&amp;uid=78223">Lorenc_</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 3,793<br />
	Threads: 196<br />
	Joined: Jan 2010
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationd9ad.html?uid=78223"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadd6d2.html?tid=295798&amp;pid=1507361#pid1507361" title="Re: Plugin development guide">#6</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 6 by Lorenc_" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 04:38 <span class="post_edit" id="edited_by_1507361"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507361">
		Thanks a lot about the GDK information and so on with the whole tutorial. As said by Norn "Excellent, obviously a lot of work put into this."
	</div>
	
	
	<div class="post_meta" id="post_meta_1507361">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchb1ed.html?action=finduser&amp;uid=78223" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply5e38-2.html?tid=295798&amp;replyto=1507361" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507374"></a>
<div class="post classic " style="" id="post_1507374">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member177f.html?action=profile&amp;uid=14577"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member177f.html?action=profile&amp;uid=14577">Karlip</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,478<br />
	Threads: 17<br />
	Joined: Oct 2007
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationc80d.html?uid=14577"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread0a6a.html?tid=295798&amp;pid=1507374#pid1507374" title="Re: Plugin development guide">#7</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 7 by Karlip" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 05:07 <span class="post_edit" id="edited_by_1507374"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507374">
		That's a really good guide - nice job.<br />
<br />
Will read it throughout at home.
	</div>
	
	
	<div class="post_meta" id="post_meta_1507374">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search25a9.html?action=finduser&amp;uid=14577" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply4c1a.html?tid=295798&amp;replyto=1507374" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507382"></a>
<div class="post classic " style="" id="post_1507382">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member84d8.html?action=profile&amp;uid=84376"><img src="uploads/avatars/84376.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member84d8.html?action=profile&amp;uid=84376"><s>BigETI</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,046<br />
	Threads: 29<br />
	Joined: Mar 2010
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadfe6a.html?tid=295798&amp;pid=1507382#pid1507382" title="AW: Plugin development guide">#8</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 8 by BigETI" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 05:21 <span class="post_edit" id="edited_by_1507382"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507382">
		Nice tutorial!<br />
<br />
Anyways I've created the required files in my MVC++E but it gives me strange errors:<br />
<br />
<img alt="" border="0" src="http://i1080.photobucket.com/albums/j338/BigETI/cpp_error.png"/><br />
Translation is included<br />
<br />
It says me that the both header files are missing, but they're all in the SDK folder.
	</div>
	
	
	<div class="post_meta" id="post_meta_1507382">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search33ef.html?action=finduser&amp;uid=84376" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply0589.html?tid=295798&amp;replyto=1507382" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507402"></a>
<div class="post classic " style="" id="post_1507402">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="membercec9.html?action=profile&amp;uid=23640"><img src="images/default_avatar.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="membercec9.html?action=profile&amp;uid=23640">Slice</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,831<br />
	Threads: 69<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputatione133.html?uid=23640"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadf5f5-2.html?tid=295798&amp;pid=1507402#pid1507402" title="Re: Plugin development guide">#9</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 9 by Slice" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 05:59 <span class="post_edit" id="edited_by_1507402"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507402">
		Nice one! Hopefully this will get me started with plugin development a bit. <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/>
	</div>
	
	
	<div class="post_meta" id="post_meta_1507402">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search023a.html?action=finduser&amp;uid=23640" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplya3e6.html?tid=295798&amp;replyto=1507402" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507428"></a>
<div class="post classic " style="" id="post_1507428">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberf0bb.html?action=profile&amp;uid=37431"><img src="uploads/avatars/37431.png" alt="" width="46" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberf0bb.html?action=profile&amp;uid=37431">Hiddos</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 3,304<br />
	Threads: 58<br />
	Joined: Sep 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputationeb13.html?uid=37431"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread9f21-2.html?tid=295798&amp;pid=1507428#pid1507428" title="Re: Plugin development guide">#10</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 10 by Hiddos" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 06:44 <span class="post_edit" id="edited_by_1507428"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507428">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Slice</strong><br />
<a href="showthreadf5f5-2.html?pid=1507402#pid1507402" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Nice one! Hopefully this will get me started with plugin development a bit. <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/></div>
</td>
</tr>
</table>
</div>I had the same thoughts.<br />
<br />
I'll re-read the tutorial again when I get home, but it looks great. Thanks <img alt="" border="0" class="inlineimg" src="images/smilies/wink.png" title="Wink"/>
	</div>
	
	
	<div class="post_meta" id="post_meta_1507428">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search0a96.html?action=finduser&amp;uid=37431" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply0ef9.html?tid=295798&amp;replyto=1507428" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507824"></a>
<div class="post classic " style="" id="post_1507824">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadc755-2.html?tid=295798&amp;pid=1507824#pid1507824" title="Re: Plugin development guide">#11</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 11 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 13:51 <span class="post_edit" id="edited_by_1507824"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507824">
		Thanks for the kind words everyone, im glad you appreciate it <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/>.<br />
<br />
@BigETI - Make sure your windows file structure matches the filters, or you'll have to change those include lines and omit the folders in the path. I'll make a note of this in the guide later when im more awake :P.
	</div>
	
	
	<div class="post_meta" id="post_meta_1507824">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply49b1.html?tid=295798&amp;replyto=1507824" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507838"></a>
<div class="post classic " style="" id="post_1507838">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberc850.html?action=profile&amp;uid=81693"><img src="uploads/avatars/81693.png" alt="" width="35" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberc850.html?action=profile&amp;uid=81693">playbox12</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,317<br />
	Threads: 23<br />
	Joined: Feb 2010
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation89cf.html?uid=81693"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreada71a.html?tid=295798&amp;pid=1507838#pid1507838" title="Re: Plugin development guide">#12</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 12 by playbox12" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 14:01 <span class="post_edit" id="edited_by_1507838"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507838">
		Great work, you talked about it on MSN alot I'm glad to finally see the (full) version. I will surely read it.
	</div>
	
	
	<div class="post_meta" id="post_meta_1507838">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searche5e9.html?action=finduser&amp;uid=81693" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply5c14.html?tid=295798&amp;replyto=1507838" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1507844"></a>
<div class="post classic " style="" id="post_1507844">
<div class="post_author scaleimages">
	
	<div class="author_information">
			<strong><span class="largetext">XFlawless</span></strong> <br />
			<span class="smalltext">
				Unregistered<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_guest -->
&nbsp;
<!-- end: postbit_author_guest -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadb0ee.html?tid=295798&amp;pid=1507844#pid1507844" title="Re: Plugin development guide">#13</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 13 by XFlawless" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 14:08 <span class="post_edit" id="edited_by_1507844"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1507844">
		Amazing guide. This topic deserves to be stickied !
	</div>
	
	
	<div class="post_meta" id="post_meta_1507844">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply0b97.html?tid=295798&amp;replyto=1507844" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508202"></a>
<div class="post classic " style="" id="post_1508202">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread611c.html?tid=295798&amp;pid=1508202#pid1508202" title="Re: Plugin development guide">#14</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 14 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 17:14 <span class="post_edit" id="edited_by_1508202"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508202">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>XFlawless</strong><br />
<a href="showthreadb0ee.html?pid=1507844#pid1507844" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Amazing guide. This topic deserves to be stickied !</div>
</td>
</tr>
</table>
</div>Hahah to be honest im obviously not apposed to that at all, though it does mean i'd have to do a good job of maintaining the guide, which i dont have a lot of time to do atm. Im still waiting to see if the community wants any part in this maintenance- if they do THEN i truly think its worth sticky status.
	</div>
	
	
	<div class="post_meta" id="post_meta_1508202">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplya622.html?tid=295798&amp;replyto=1508202" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508208"></a>
<div class="post classic " style="" id="post_1508208">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member509c.html?action=profile&amp;uid=139327"><img src="uploads/avatars/139327.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member509c.html?action=profile&amp;uid=139327">Kostas'</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				High-roller<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,063<br />
	Threads: 52<br />
	Joined: Sep 2011
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation59bf.html?uid=139327"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread4558-2.html?tid=295798&amp;pid=1508208#pid1508208" title="Re: Plugin development guide">#15</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 15 by Kostas'" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 17:22 <span class="post_edit" id="edited_by_1508208"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508208">
		Very Nice Kyosaur!<br />
Excellent Job, but to be honest, I don't know how it works because I started learn about script a month ago, and Visual Basic &amp; Pascal 1 week before at school. But anyway, very good tutorial <img alt="" border="0" class="inlineimg" src="images/smilies/wink.png" title="Wink"/>
	</div>
	
	
	<div class="post_meta" id="post_meta_1508208">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="searchdbb6.html?action=finduser&amp;uid=139327" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply0436.html?tid=295798&amp;replyto=1508208" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508218"></a>
<div class="post classic " style="" id="post_1508218">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member84d8.html?action=profile&amp;uid=84376"><img src="uploads/avatars/84376.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member84d8.html?action=profile&amp;uid=84376"><s>BigETI</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,046<br />
	Threads: 29<br />
	Joined: Mar 2010
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadb6c9.html?tid=295798&amp;pid=1508218#pid1508218" title="AW: Re: Plugin development guide">#16</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 16 by BigETI" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 17:25 <span class="post_edit" id="edited_by_1508218"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508218">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Kyosaur</strong><br />
<a href="showthreadc755-2.html?pid=1507824#pid1507824" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">@BigETI - Make sure your windows file structure matches the filters, or you'll have to change those include lines and omit the folders in the path. I'll make a note of this in the guide later when im more awake :P.</div>
</td>
</tr>
</table>
</div>Please can you show me how to locate the header files properly? Because I wasn't able to do this even by reading tutorials for dummies O_o (Or my MVC++E got bugged for any reasons)
	</div>
	
	
	<div class="post_meta" id="post_meta_1508218">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search33ef.html?action=finduser&amp;uid=84376" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplycae2-2.html?tid=295798&amp;replyto=1508218" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508293"></a>
<div class="post classic " style="" id="post_1508293">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthread987e.html?tid=295798&amp;pid=1508293#pid1508293" title="Re: AW: Re: Plugin development guide">#17</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 17 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 18:12 <span class="post_edit" id="edited_by_1508293"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508293">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>BigETI</strong><br />
<a href="showthreadb6c9.html?pid=1508218#pid1508218" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Please can you show me how to locate the header files properly? Because I wasn't able to do this even by reading tutorials for dummies O_o (Or my MVC++E got bugged for any reasons)</div>
</td>
</tr>
</table>
</div>Ok, i'll help you out via PM. To be honest though this is something you should REALLY know how to do.
	</div>
	
	
	<div class="post_meta" id="post_meta_1508293">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply4bdf.html?tid=295798&amp;replyto=1508293" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508297"></a>
<div class="post classic " style="" id="post_1508297">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member8d0c.html?action=profile&amp;uid=42627"><img src="uploads/avatars/42627.png" alt="" width="55" height="47" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member8d0c.html?action=profile&amp;uid=42627"><s>Calgon</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 6,129<br />
	Threads: 36<br />
	Joined: Jan 2009
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadd9bf.html?tid=295798&amp;pid=1508297#pid1508297" title="Re: Plugin development guide">#18</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 18 by Calgon" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 18:14 <span class="post_edit" id="edited_by_1508297"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508297">
		You should consider extending this tutorial beyond the basics - I figured this all out already, after messing with the SDK. Otherwise, I'm sure this will be helpful - I'd rather have read a tutorial like this (or RyDeR`'s) instead of spending ages playing with the SDK functions.
	</div>
	
	
	<div class="post_meta" id="post_meta_1508297">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search0ec2.html?action=finduser&amp;uid=42627" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreplya8ab.html?tid=295798&amp;replyto=1508297" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508300"></a>
<div class="post classic " style="" id="post_1508300">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="member84d8.html?action=profile&amp;uid=84376"><img src="uploads/avatars/84376.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="member84d8.html?action=profile&amp;uid=84376"><s>BigETI</s></a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Banned<br />
				<span class="postbit_userstars"></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 1,046<br />
	Threads: 29<br />
	Joined: Mar 2010
	<br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadaa78.html?tid=295798&amp;pid=1508300#pid1508300" title="AW: Re: AW: Re: Plugin development guide">#19</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 19 by BigETI" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 18:16 <span class="post_edit" id="edited_by_1508300"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508300">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Kyosaur</strong><br />
<a href="showthread987e.html?pid=1508293#pid1508293" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Ok, i'll help you out via PM. To be honest though this is something you should REALLY know how to do.</div>
</td>
</tr>
</table>
</div>Okay thanks
	</div>
	
	
	<div class="post_meta" id="post_meta_1508300">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search33ef.html?action=finduser&amp;uid=84376" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply76c2.html?tid=295798&amp;replyto=1508300" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic --><!-- start: postbit_classic -->

<a id="pid1508329"></a>
<div class="post classic " style="" id="post_1508329">
<div class="post_author scaleimages">
	<!-- start: postbit_avatar -->
<div class="postbit_avatar author_avatar"><a href="memberd83a.html?action=profile&amp;uid=23990"><img src="uploads/avatars/23990.png" alt="" width="55" height="55" /></a></div>
<!-- end: postbit_avatar -->
	<div class="author_information">
			<strong><span class="largetext"><a href="memberd83a.html?action=profile&amp;uid=23990">Kyosaur</a></span></strong> <!-- start: postbit_offline -->
<span class="online_status status_offline" title="Offline"></span>
<!-- end: postbit_offline --><br />
			<span class="smalltext">
				Gangsta<br />
				<span class="postbit_userstars"><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><img src="images/star.png" alt="*" /><br /></span>
				
			</span>
	</div>
	<div class="author_statistics">
		<!-- start: postbit_author_user -->
	Posts: 973<br />
	Threads: 11<br />
	Joined: Mar 2008
	<!-- start: postbit_reputation -->
<br />Reputation: <!-- start: postbit_reputation_formatted_link -->
<a href="reputation4f76.html?uid=23990"><strong class="reputation_neutral">0</strong></a>
<!-- end: postbit_reputation_formatted_link -->
<!-- end: postbit_reputation --><br />
<!-- end: postbit_author_user -->
	</div>
</div>
<div class="post_content">
	<div class="post_head">
		<!-- start: postbit_posturl -->
<div class="float_right" style="vertical-align: top">
<strong><a href="showthreadbe95.html?tid=295798&amp;pid=1508329#pid1508329" title="Re: Plugin development guide">#20</a></strong>

</div>
<!-- end: postbit_posturl -->
		
		<h1 aria-label="Post: 20 by Kyosaur" style="display:inline;font-size:9px;"><!-- helps navigation for screen readers --></h1>
		<span class="post_date">08.11.2011, 18:28 <span class="post_edit" id="edited_by_1508329"></span></span>
	
	</div>
	<div class="post_body scaleimages" id="pid_1508329">
		<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Calgon</strong><br />
<a href="showthreadd9bf.html?pid=1508297#pid1508297" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">You should consider extending beyond the basics - I figured this all out already, after messing with the SDK. Otherwise, I'm sure this will be helpful - I'd rather have read a tutorial like this (or RyDeR`'s) instead of spending ages playing with the SDK functions.</div>
</td>
</tr>
</table>
</div>I believe this DOES go beyond the basics. The SDK isnt a super vast topic that can really be broken down any further really. What else should this topic cover? The only other thing i can honestly think of would be to include C/++ related segments covering advanced topics about the language itself... though there are already forums that'll do this way better then i ever could (i did link to some of them).<br />
<br />
I believe everything SDK related is covered though (anything that's not, i will gladly add if you tell me what it is i forgot).
	</div>
	
	
	<div class="post_meta" id="post_meta_1508329">
		
	</div>
</div>
<div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		<!-- start: postbit_find -->
<a href="search85f3.html?action=finduser&amp;uid=23990" title="Find all posts by this user" class="postbit_find"><span>Find</span></a>
<!-- end: postbit_find -->
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
		<!-- start: postbit_quote -->
<a href="newreply9294.html?tid=295798&amp;replyto=1508329" title="Quote this message in a reply" class="postbit_quote postbit_mirage"><span>Reply</span></a>
<!-- end: postbit_quote -->
	</div>
</div>
</div>
<!-- end: postbit_classic -->
	</div>
</div>
	
			<div class="tfoot row">
				<div class="col-sm-6">
					<strong>&laquo; <a href="showthread4cce-2.html?tid=295798&amp;action=nextoldest">Next Oldest</a> | <a href="showthread51a9.html?tid=295798&amp;action=nextnewest">Next Newest</a> &raquo;</strong>
				</div>
				<div class="col-sm-6"><!-- start: showthread_search -->
	<div class="float_right">
		<form action="https://sampforum.blast.hk/search.php" method="post">
			<input type="hidden" name="action" value="thread" />
			<input type="hidden" name="tid" value="295798" />
			<input type="text" name="keywords" value="Enter Keywords" onfocus="if(this.value == 'Enter Keywords') { this.value = ''; }" onblur="if(this.value=='') { this.value='Enter Keywords'; }" class="textbox" size="25" />
			<input type="submit" class="button" value="Search Thread" />
		</form>
	</div>
<!-- end: showthread_search --></div>
			</div>
	<div class="float_left">
		<!-- start: multipage -->
<div class="pagination">
<span class="pages">Pages (9):</span>
<!-- start: multipage_page_current -->
 <span class="pagination_current">1</span>
<!-- end: multipage_page_current --><!-- start: multipage_page -->
<a href="showthread8a61.html?tid=295798&amp;page=2" class="pagination_page">2</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthread1caf.html?tid=295798&amp;page=3" class="pagination_page">3</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthread6120.html?tid=295798&amp;page=4" class="pagination_page">4</a>
<!-- end: multipage_page --><!-- start: multipage_page -->
<a href="showthreadeb13.html?tid=295798&amp;page=5" class="pagination_page">5</a>
<!-- end: multipage_page --><!-- start: multipage_end -->
&hellip;  <a href="showthread85b7.html?tid=295798&amp;page=9" class="pagination_last">9</a>
<!-- end: multipage_end --><!-- start: multipage_nextpage -->
<a href="showthread8a61.html?tid=295798&amp;page=2" class="pagination_next">Next &raquo;</a>
<!-- end: multipage_nextpage --><!-- start: multipage_jump_page -->
<div class="popup_menu drop_go_page" style="display: none;">
	<form action="https://sampforum.blast.hk/showthread.php?tid=295798" method="post">
		<label>Jump to page:</label> <input type="number" class="textbox" name="page" value="1" size="4" min="1" max="9" />
		<input type="submit" class="button" value="Go" />
	</form>
</div>
<a href="javascript:;" class="go_page" title="Jump to page"><i class="fa fa-sort-down"></i></a>&nbsp;
<script type="text/javascript">
	var go_page = 'go_page_' + $(".go_page").length;
	$(".go_page").last().attr('id', go_page);
	$(".drop_go_page").last().attr('id', go_page + '_popup');
	$('#' + go_page).popupMenu(false).on('click', function() {
		var drop_go_page = $(this).prev('.drop_go_page');
		if (drop_go_page.is(':visible')) {
			drop_go_page.find('.textbox').trigger('focus');
		}
	});
</script>
<!-- end: multipage_jump_page -->
</div>
<!-- end: multipage -->
	</div>
	<div class="float_right">
		
	</div>
	<br class="clear" />
	
	
	
	<br />
	<div class="float_left">
		<ul class="thread_tools">
			<!-- start: showthread_printthread -->
<li class="printable"><a href="printthread5b6d.html?tid=295798">View a Printable Version</a></li>
<!-- end: showthread_printthread -->
			
			
			
		</ul>
	</div>

	<div class="float_right" style="text-align: right;">
		
		<!-- start: forumjump_advanced -->
<form action="https://sampforum.blast.hk/forumdisplay.php" method="get">
<span class="smalltext">Forum Jump:</span>
<select name="fid" class="forumjump">
<option value="-4">Private Messages</option>
<option value="-3">User Control Panel</option>
<option value="-5">Who's Online</option>
<option value="-2">Search</option>
<option value="-1">Forum Home</option>
<!-- start: forumjump_bit -->
<option value="3" > SA-MP</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="74" >-- News and Updates</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="13" >-- General</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="16" >-- Client Support</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="20" >-- Bug Reports</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="21" >-- Screenshots and Videos</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="6" > SA-MP Server</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="19" >-- Server Support</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="22" >-- Server Advertisements</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="8" > SA-MP Scripting and Plugins</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="12" >-- Scripting Help</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="70" >---- Tutorials</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="84" >---- Discussion</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="89" >---- Help Archive</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="71" >-- Gamemode Scripts</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="17" >-- Filterscripts</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="83" >---- Includes</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="82" >---- Tools and Files </option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="64" >---- Maps</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="18" selected="selected">-- Plugin Development</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="92" > SA-MP DL Edition</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="90" >-- SA-MP 0.3.DL</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="94" >---- Model Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="7" > Other</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="23" >-- Everything and Nothing</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="9" > Non-English</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="33" >-- Languages</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="31" >---- Nederlands/Dutch</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="76" >------ Scripting Showroom en Discussie</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="87" >------ Off topic</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="29" >---- Español/Spanish</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="59" >------ Lanzamientos/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="30" >---- Français/French</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="81" >------ Showroom</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="32" >---- Русский/Russian</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="66" >------ Релизы/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="34" >---- Português/Portuguese</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="56" >------ Lançamentos/Releases</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="40" >---- Română/Romanian</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="77" >------ Salonul Scripturilor</option>
<!-- end: forumjump_bit --><!-- start: forumjump_bit -->
<option value="88" >---- Archive</option>
<!-- end: forumjump_bit -->
</select>
<!-- start: gobutton -->
<input type="submit" class="button" value="Go" />
<!-- end: gobutton -->
</form>
<script type="text/javascript">
$(".forumjump").on('change', function() {
	var option = $(this).val();

	if(option < 0)
	{
		window.location = 'forumdisplay0eb7.html?fid='+option;
	}
	else
	{
		window.location = 'forumdisplay0eb7.html?fid='+option;
	}
});
</script>
<!-- end: forumjump_advanced -->
	</div>
	<br class="clear" />
	<!-- start: showthread_usersbrowsing -->
<br />
<span class="smalltext">Users browsing this thread: 1 Guest(s)</span>
<br />
<!-- end: showthread_usersbrowsing -->
	<!-- start: footer -->
<div style="clear:both"><div style="padding-top: 10px"><!-- start: nav -->
<ol class="breadcrumb container"><!-- start: nav_bit -->
<li><a href="index-2.html">SA-MP Forums Archive</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplayb1dd.html?fid=8">SA-MP Scripting and Plugins</a></li>
<!-- end: nav_bit --><!-- start: nav_bit -->
<li><a href="forumdisplaye053.html?fid=18">Plugin Development</a></li>
<!-- end: nav_bit --><!-- start: nav_sep_active -->

<!-- end: nav_sep_active --></ol>
<!-- end: nav --></div></div>
</main>

<div class="blankspace"></div>

<footer id="footer">
	<div class="container">
    <div class="row">
		
        <!--<div class="col-sm-4 foot">
			<h3>About Our Community</h3>
			<p>Discuss about various topics in our community and have fun while doing so. Welcome to SA-MP Forums Archive</p>
			
		</div>		
		

		<div class="col-sm-4 foot">
			<h3>Quick Links</h3>
			<p>

 				<a href="https://sampforum.blast.hk" class="btn btn-success" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Forum Home"><i class="fa fa-home"></i></a>
				
				<a href="https://sampforum.blast.hk/archive/index.php?thread-295798.html" class="btn btn-danger" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Lite (Archive) Mode"><i class="fa fa-archive"></i></a>
				
				<a href="#" target="_blank"  rel="noopener" class="btn btn-primary" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Become a Fan"><i class="fa fa-facebook-square"></i></a>
				
				<a href="#" target="_blank"  rel="noopener" class="btn btn-info" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" data-original-title="Follow Us"><i class="fa fa-twitter"></i></a>
				
				<a href="https://sampforum.blast.hk/misc.php?action=syndication" class="btn btn-warning" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="RSS Syndication"><i class="fa fa-rss"></i></a>
				<br/>
				<a href="misc.php?action=markread&amp;my_post_key=aba4ad398d60bd9872f4231f6cfcb6bf" class="btn btn-danger" style="color: #fff; margin-top:10px" data-toggle="tooltip" data-placement="bottom" data-original-title="Mark all forums read"><i class="fa fa-book"></i> Mark all forums read</a><br /><br />
				
				
				</p>

		</div>
		
		<div class="col-sm-4 foot">
			
			 <h3>Reach Us</h3>
			 
<p><a href="contact.php" class="btn btn-primary" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Contact Us"><i class="fa fa-envelope"></i> Contact Us</a>&nbsp;
			
			<a href="showteam.php" class="btn btn-danger" style="color: #fff;" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Meet Our Team"><i class="fa fa-users"></i> Forum Team</a></p>
		</div>-->
		
		
		
		<!-- The following piece of code allows MyBB to run scheduled tasks. DO NOT REMOVE --><!-- End task image code -->
		</div>
	
	</div>

	
<div id="copyright">
	<div class="container">
			<div class="pull-right"><!-- start: footer_languageselect -->
<div class="language">
<form method="POST" action="https://sampforum.blast.hk/showthread.php" id="lang_select">
	<input type="hidden" name="tid" value="295798" />

	<input type="hidden" name="my_post_key" value="aba4ad398d60bd9872f4231f6cfcb6bf" />
	<select name="language" onchange="MyBB.changeLanguage();">
		<optgroup label="Quick Language Select">
			<!-- start: footer_languageselect_option -->
<option value="english" selected="selected">&nbsp;&nbsp;&nbsp;English (American)</option>
<!-- end: footer_languageselect_option --><!-- start: footer_languageselect_option -->
<option value="russian">&nbsp;&nbsp;&nbsp;Russian</option>
<!-- end: footer_languageselect_option -->
		</optgroup>
	</select>
	<!-- start: gobutton -->
<input type="submit" class="button" value="Go" />
<!-- end: gobutton -->
</form>
</div>
<!-- end: footer_languageselect --></div>
			<div class="pull-left">
				<!-- MyBB is free software developed and maintained by a volunteer community.
					It would be much appreciated by the MyBB Group if you left the full copyright and "powered by" notice intact,
					to show your support for MyBB.  If you choose to remove or modify the copyright below,
					you may be refused support on the MyBB Community Forums.

					This is free software, support us and we'll support you. -->
				Powered By <a href="http://www.mybb.com/" target="_blank"  rel="noopener" style="color: #fff;" >MyBB</a>. <a href="https://eree.in/" title="EREE" target="_blank" rel="noopener" style="color: #fff;">Crafted by EREE</a> and <a href="https://forum.androidbg.com/" title="AndroidBG" target="_blank" rel="noopener" style="color: #fff;">Android BG</a>. Also powered by <a href="https://www.blast.hk/"><b>blast.hk</b></a><!-- End powered by -->
				
			</div>
	</div>

</div>

</footer>

<!-- Fix for MentionMe popup window position -->
<script type="text/javascript">
	var MentionMe = (function(m) {
	m.customSCEditorContainerOffset = {
		left: 0,
		top: 2,
	};

	return m;
})(MentionMe || {});
</script>
<!-- End Fix for MentionMe popup window position -->
<!-- end: footer -->
	<script type="text/javascript">
		var thread_deleted = "0";
		if(thread_deleted == "1")
		{
			$("#quick_reply_form, .new_reply_button, .thread_tools, .inline_rating").hide();
			$("#moderator_options_selector option.option_mirage").attr("disabled","disabled");
		}
	</script>
</body>
</html>
<!-- end: showthread -->