<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> [Include] MenuStore (Build dynamic stores with TextDraws) - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="• MenuStore.inc This include allows you to create many types of stores using Textdraws. • Demonstration Click on the image to see the video. • Functions PHP Code: stock MenuStore_AddItem(playeri" />
<link rel="canonical" href="showthreada3dd.html?tid=644913" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthreada3dd.html?tid=644913">[Include] MenuStore (Build dynamic stores with TextDraws)</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Filterscripts (<i>https://sampforum.blast.hk/forumdisplay.php?fid=17</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+---- Forum: Includes (<i>https://sampforum.blast.hk/forumdisplay.php?fid=83</i>)<br />
<!-- end: printthread_nav -->
+---- Thread:  [Include] MenuStore (Build dynamic stores with TextDraws) (<em>/showthread.php?tid=644913</em>)<br />
<br />
<!-- start: printthread_multipage -->
<div class="multipage">Pages:  <!-- start: printthread_multipage_page_current -->
1
<!-- end: printthread_multipage_page_current --><!-- start: printthread_multipage_page -->
<a href="printthreadd9b4.html?tid=644913&amp;page=2">2</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreade36d.html?tid=644913&amp;page=3">3</a>
<!-- end: printthread_multipage_page --></div>
<!-- end: printthread_multipage --></div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  16.11.2017
<br />
<br />
<font size="5">• <b>MenuStore.inc</b></font><br />
<br />
This include allows you to create many types of stores using Textdraws.<br />
<br />
<font size="3">• <b>Demonstration</b></font><br />
<br />
<a href="https://youtu.be/e4rJO3Oszps" target="_blank"><img alt="" border="0" src="https://i.imgur.com/gH1k6t4.jpg"/><br />
</a><br />
<a href="https://youtu.be/e4rJO3Oszps" target="_blank">Click on the image to see the video.<br />
</a><br />
<font size="3">• <b>Functions</b></font><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">stock MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">itemid</span><span style="color: #007700">, </span><span style="color: #0000BB">modelid</span><span style="color: #007700">, </span><span style="color: #0000BB">name</span><span style="color: #007700">[], </span><span style="color: #0000BB">price</span><span style="color: #007700">, </span><span style="color: #0000BB">description</span><span style="color: #007700">[] = </span><span style="color: #0000BB">EOS</span><span style="color: #007700">, </span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">description_size </span><span style="color: #007700">= </span><span style="color: #0000BB">0.0</span><span style="color: #007700">, </span><span style="color: #0000BB">bool</span><span style="color: #007700">:</span><span style="color: #0000BB">description_line_jump </span><span style="color: #007700">= </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">stack </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">rotX </span><span style="color: #007700">= </span><span style="color: #0000BB">0.0</span><span style="color: #007700">, </span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">rotY </span><span style="color: #007700">= </span><span style="color: #0000BB">0.0</span><span style="color: #007700">, </span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">rotZ </span><span style="color: #007700">= </span><span style="color: #0000BB">0.0</span><span style="color: #007700">, </span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">zoom </span><span style="color: #007700">= </span><span style="color: #0000BB">1.0</span><span style="color: #007700">) 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><ul><li> <i>"itemid"</i> - Item ID, will serve as "key", each item must have unique ID.</li>
<li> <i>"modelid"</i> - Model of the item that will be displayed in the preview.</li>
<li> <i>"name"</i> - Item name.</li>
<li> <i>"price"</i> - Item price.</li>
<li> <i>"description"</i> - Item description.</li>
<li> <i>"Float:description_size"</i> - Increase description box, value default is 0.0.</li>
<li> <i>"bool:description_line_jump"</i> - Automatic line break or not</li>
<li> <i>"stack"</i> - Above 1, the item can be stacked in the cart.</li>
<li> <i>"rotX", "rotY", "rotZ"</i> - Preview Rotation.</li>
<li> <i>"Float:zoom "</i> - Preview Zoom.</li>
</ul>
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">stock MenuStore_Open</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">menuid</span><span style="color: #007700">[], </span><span style="color: #0000BB">store_name</span><span style="color: #007700">[], </span><span style="color: #0000BB">money_sign</span><span style="color: #007700">[] = </span><span style="color: #0000BB">MS_DEFAULT_MONEY_SIGN</span><span style="color: #007700">, </span><span style="color: #0000BB">button_confirm</span><span style="color: #007700">[] = </span><span style="color: #0000BB">MS_DEFAULT_CONFIRM</span><span style="color: #007700">) 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><ul><li> <i>"menuid"</i> - It works just like easyDialog, you can by any name without having to define it.</li>
<li> <i>"store_name"</i> - Store name.</li>
<li> <i>"money_sign"</i> - Money sign, the default is "&#36;"</li>
<li> <i>"button_confirm"</i> - Name of the confirm button, the default value is "Buy".<br />
</li>
</ul>
<br />
<font size="3">• <b>Code Example</b></font><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">
<br/></span><span style="color: #007700">if(</span><span style="color: #0000BB">strcmp</span><span style="color: #007700">(</span><span style="color: #0000BB">cmd</span><span style="color: #007700">, </span><span style="color: #DD0000">"/store"</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">) == </span><span style="color: #0000BB">0</span><span style="color: #007700">)
<br/>{
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">342</span><span style="color: #007700">, </span><span style="color: #DD0000">"Granade"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Throw to explode."</span><span style="color: #007700">, </span><span style="color: #0000BB">200</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">344</span><span style="color: #007700">, </span><span style="color: #DD0000">"Molotov"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Throw to set fire to something."</span><span style="color: #007700">, </span><span style="color: #0000BB">200</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">, </span><span style="color: #0000BB">346</span><span style="color: #007700">, </span><span style="color: #DD0000">"9mm Pistol"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Pistol with low firepower."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">347</span><span style="color: #007700">, </span><span style="color: #DD0000">"Silenced 9mm"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Pistol with low firepower."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">5</span><span style="color: #007700">, </span><span style="color: #0000BB">348</span><span style="color: #007700">, </span><span style="color: #DD0000">"Desert Eagle"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Pistol with high firepower."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">6</span><span style="color: #007700">, </span><span style="color: #0000BB">349</span><span style="color: #007700">, </span><span style="color: #DD0000">"Shotgun"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Normal Shotgun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">7</span><span style="color: #007700">, </span><span style="color: #0000BB">350</span><span style="color: #007700">, </span><span style="color: #DD0000">"Sawnoff Shotgun"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull Shotgun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">8</span><span style="color: #007700">, </span><span style="color: #0000BB">351</span><span style="color: #007700">, </span><span style="color: #DD0000">"Combat Shotgun"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull Shotgun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">9</span><span style="color: #007700">, </span><span style="color: #0000BB">352</span><span style="color: #007700">, </span><span style="color: #DD0000">"Micro SMG"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Two-handed machine gun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">10</span><span style="color: #007700">, </span><span style="color: #0000BB">353</span><span style="color: #007700">, </span><span style="color: #DD0000">"MP5"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Machine gun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">11</span><span style="color: #007700">, </span><span style="color: #0000BB">355</span><span style="color: #007700">, </span><span style="color: #DD0000">"AK-47"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull Rifle."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">12</span><span style="color: #007700">, </span><span style="color: #0000BB">356</span><span style="color: #007700">, </span><span style="color: #DD0000">"M4"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull Rifle."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">13</span><span style="color: #007700">, </span><span style="color: #0000BB">372</span><span style="color: #007700">, </span><span style="color: #DD0000">"Tec-9"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull machine gun."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">14</span><span style="color: #007700">, </span><span style="color: #0000BB">357</span><span style="color: #007700">, </span><span style="color: #DD0000">"Country Rifle"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Normal Rifle."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_AddItem</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">15</span><span style="color: #007700">, </span><span style="color: #0000BB">358</span><span style="color: #007700">, </span><span style="color: #DD0000">"Sniper Rifle"</span><span style="color: #007700">, </span><span style="color: #0000BB">500</span><span style="color: #007700">, </span><span style="color: #DD0000">"Powerfull Rifle."</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">MenuStore_Show</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">Weapon_Shop</span><span style="color: #007700">, </span><span style="color: #DD0000">"Shop Weapons"</span><span style="color: #007700">);
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>}

<br/></span><span style="color: #0000BB">Store</span><span style="color: #007700">:</span><span style="color: #0000BB">Weapon_Shop</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">response</span><span style="color: #007700">, </span><span style="color: #0000BB">itemid</span><span style="color: #007700">, </span><span style="color: #0000BB">modelid</span><span style="color: #007700">, </span><span style="color: #0000BB">price</span><span style="color: #007700">, </span><span style="color: #0000BB">amount</span><span style="color: #007700">, </span><span style="color: #0000BB">itemname</span><span style="color: #007700">[])
<br/>{
<br/>    if(!</span><span style="color: #0000BB">response</span><span style="color: #007700">)
<br/>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;

<br/>    if(</span><span style="color: #0000BB">GetPlayerMoney</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">) &lt; </span><span style="color: #0000BB">price</span><span style="color: #007700">)
<br/>        return </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"You don't have enough money."</span><span style="color: #007700">);

<br/>    if(</span><span style="color: #0000BB">amount </span><span style="color: #007700">== </span><span style="color: #0000BB">1</span><span style="color: #007700">) {
<br/>        </span><span style="color: #0000BB">GivePlayerWeapon</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">GetWeaponIDFromModel</span><span style="color: #007700">(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">), </span><span style="color: #0000BB">200</span><span style="color: #007700">);
<br/>    }
<br/>    else {
<br/>        </span><span style="color: #0000BB">GivePlayerWeapon</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">GetWeaponIDFromModel</span><span style="color: #007700">(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">), </span><span style="color: #0000BB">amount</span><span style="color: #007700">);
<br/>    }
<br/>    
<br/>    new </span><span style="color: #0000BB">string</span><span style="color: #007700">[</span><span style="color: #0000BB">128</span><span style="color: #007700">];
<br/>    </span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">string</span><span style="color: #007700">, </span><span style="color: #0000BB">128</span><span style="color: #007700">, </span><span style="color: #DD0000">"You bought %dx %s"</span><span style="color: #007700">, </span><span style="color: #0000BB">amount</span><span style="color: #007700">, </span><span style="color: #0000BB">itemname</span><span style="color: #007700">);
<br/>    </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">string</span><span style="color: #007700">);
<br/>    
<br/>    </span><span style="color: #0000BB">GivePlayerMoney</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">price</span><span style="color: #007700">);
<br/>    return </span><span style="color: #0000BB">true</span><span style="color: #007700">;
<br/>}

<br/></span><span style="color: #0000BB">stock GetWeaponIDFromModel</span><span style="color: #007700">(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">)
<br/>{
<br/>    new </span><span style="color: #0000BB">idweapon</span><span style="color: #007700">;
<br/>    switch(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">)
<br/>    {
<br/>        case </span><span style="color: #0000BB">331</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">// Brass Knuckles
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">333</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">; </span><span style="color: #FF8000">// Golf Club
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">334</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">3</span><span style="color: #007700">; </span><span style="color: #FF8000">// Nightstick
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">335</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">4</span><span style="color: #007700">; </span><span style="color: #FF8000">// Knife
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">336</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">5</span><span style="color: #007700">; </span><span style="color: #FF8000">// Baseball Bat
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">337</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">6</span><span style="color: #007700">; </span><span style="color: #FF8000">// Shovel
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">338</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">7</span><span style="color: #007700">; </span><span style="color: #FF8000">// Pool Cue
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">339</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">8</span><span style="color: #007700">; </span><span style="color: #FF8000">// Katana
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">341</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">9</span><span style="color: #007700">; </span><span style="color: #FF8000">// Chainsaw
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">321</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">10</span><span style="color: #007700">; </span><span style="color: #FF8000">// Double-ended Dildo
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">325</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">14</span><span style="color: #007700">; </span><span style="color: #FF8000">// Flowers
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">326</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">15</span><span style="color: #007700">; </span><span style="color: #FF8000">// Cane
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">342</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">16</span><span style="color: #007700">; </span><span style="color: #FF8000">// Grenade
<br/>           </span><span style="color: #007700">case </span><span style="color: #0000BB">343</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">17</span><span style="color: #007700">; </span><span style="color: #FF8000">// Tear Gas
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">344</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">18</span><span style="color: #007700">; </span><span style="color: #FF8000">// Molotov Cocktail
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">346</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">22</span><span style="color: #007700">; </span><span style="color: #FF8000">// 9mm
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">347</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">23</span><span style="color: #007700">; </span><span style="color: #FF8000">// Silenced 9mm
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">348</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">24</span><span style="color: #007700">; </span><span style="color: #FF8000">// Desert Eagle
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">349</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">25</span><span style="color: #007700">; </span><span style="color: #FF8000">// Shotgun
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">350</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">26</span><span style="color: #007700">; </span><span style="color: #FF8000">// Sawnoff
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">351</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">27</span><span style="color: #007700">; </span><span style="color: #FF8000">// Combat Shotgun
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">352</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">28</span><span style="color: #007700">; </span><span style="color: #FF8000">// Micro SMG/Uzi
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">353</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">29</span><span style="color: #007700">; </span><span style="color: #FF8000">// MP5
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">355</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">30</span><span style="color: #007700">; </span><span style="color: #FF8000">// AK-47
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">356</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">31</span><span style="color: #007700">; </span><span style="color: #FF8000">// M4
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">372</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">32</span><span style="color: #007700">; </span><span style="color: #FF8000">// Tec-9
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">357</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">33</span><span style="color: #007700">; </span><span style="color: #FF8000">// Country Rifle
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">358</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">34</span><span style="color: #007700">; </span><span style="color: #FF8000">// Sniper Rifle
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">359</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">35</span><span style="color: #007700">; </span><span style="color: #FF8000">// RPG
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">360</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">36</span><span style="color: #007700">; </span><span style="color: #FF8000">// HS Rocket
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">361</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">37</span><span style="color: #007700">; </span><span style="color: #FF8000">// Flamethrower
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">362</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">38</span><span style="color: #007700">; </span><span style="color: #FF8000">// Minigun
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">363</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">39</span><span style="color: #007700">;</span><span style="color: #FF8000">// Satchel Charge + Detonator
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">365</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">41</span><span style="color: #007700">; </span><span style="color: #FF8000">// Spraycan
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">366</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">42</span><span style="color: #007700">; </span><span style="color: #FF8000">// Fire Extinguisher
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">367</span><span style="color: #007700">: </span><span style="color: #0000BB">idweapon </span><span style="color: #007700">= </span><span style="color: #0000BB">43</span><span style="color: #007700">; </span><span style="color: #FF8000">// Camera
<br/>    </span><span style="color: #007700">}
<br/>    return </span><span style="color: #0000BB">idweapon</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div><font size="3">• <b>Download</b></font><br />
<br />
<a href="https://github.com/Coystark/MenuStore/blob/master/MenuStore.inc" target="_blank">Github</a><br />
<br />
<font size="1">Sorry for my English, it's not my native language.</font>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="memberefdf.html?action=profile&amp;uid=282620">Eoussama</a> -  16.11.2017
<br />
<br />
+Rep for the neat design!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member6bef.html?action=profile&amp;uid=169807">Pottus</a> -  16.11.2017
<br />
<br />
You should always use global textdraws where possible there is a lot of player textdraws wasted here plus extra overhead to create them needlessly.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  16.11.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Pottus</strong><br />
<a href="showthread7463-2.html?pid=3956264#pid3956264" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">You should always use global textdraws where possible there is a lot of player textdraws wasted here plus extra overhead to create them needlessly.</div>
</td>
</tr>
</table>
</div>The include uses 53 Player Textdraws, and they are destroyed when MenuStore_Close () is called.<br />
<br />
That is, with the menu open there are still 203 spaces of textdraws.<br />
<br />
This will only give you trouble if you create 203 textdraws at the same time WITH the menu open. But maybe I do an update by changing that.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="memberdd1a.html?action=profile&amp;uid=254696">ExTaZZ69</a> -  16.11.2017
<br />
<br />
Just convert the static ones to global (that black and gray backgrounds, arrows, etc).
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  16.11.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>ExTaZZ69</strong><br />
<a href="showthreaddbe2.html?pid=3956274#pid3956274" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Just convert the static ones to global (that black and gray backgrounds, arrows, etc).</div>
</td>
</tr>
</table>
</div>Next update I'll do it <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member90a8.html?action=profile&amp;uid=245435">HydraHumza</a> -  16.11.2017
<br />
<br />
Looks promising. Keep up the good work. REP+
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  17.11.2017
<br />
<br />
Version 3.0<br />
<br />
- Some PlayerTDs have been transformed into GlobalTDs<br />
- Fixed bugs
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member1708.html?action=profile&amp;uid=184410">PT</a> -  17.11.2017
<br />
<br />
I think Pottus will be happy now.<br />
<br />
Nice work by the way
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member5b5a.html?action=profile&amp;uid=302228">Xeon™</a> -  17.11.2017
<br />
<br />
Some people doesn't know even what is dynamic (Dynamic mysql connection, dynamic stores, dynamic npc creator) <br />
<img alt="" border="0" class="inlineimg" src="images/smilies/picard2.png" title="Picard"/><br />
<br />
Anyways, the text draws are nice, good job
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="membera86d.html?action=profile&amp;uid=156433">nG Inverse</a> -  17.11.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Xeon™</strong><br />
<a href="showthreada5fb.html?pid=3956914#pid3956914" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Some people doesn't know even what is dynamic (Dynamic mysql connection, dynamic stores, dynamic npc creator) <br />
<img alt="" border="0" class="inlineimg" src="images/smilies/picard2.png" title="Picard"/><br />
<br />
Anyways, the text draws are nice, good job</div>
</td>
</tr>
</table>
</div>This is dynamic. So not sure what you're talking about...<br />
<br />
On topic; Great job! I love the design. I will put this to use.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member6bef.html?action=profile&amp;uid=169807">Pottus</a> -  18.11.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>PT</strong><br />
<a href="showthread4bbe.html?pid=3956783#pid3956783" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">I think Pottus will be happy now.<br />
<br />
Nice work by the way</div>
</td>
</tr>
</table>
</div>It is good practice now his next release he knows what to do <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/><br />
<br />
4-stars from me it's good.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="membere24f.html?action=profile&amp;uid=287146">cuber</a> -  18.11.2017
<br />
<br />
Good job!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member5b5a.html?action=profile&amp;uid=302228">Xeon™</a> -  19.11.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>nG Inverse</strong><br />
<a href="showthreadf088.html?pid=3956917#pid3956917" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">This is dynamic. So not sure what you're talking about...<br />
<br />
On topic; Great job! I love the design. I will put this to use.</div>
</td>
</tr>
</table>
</div>what the dynamic thing on it? what is dynamic?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member22e6.html?action=profile&amp;uid=162421">DanDRT</a> -  19.11.2017
<br />
<br />
@Xeon - Dude, the definition of dynamic isn't so closed as you think, open your mind and don't be a idiot with the people.<br />
<br />
Good job, Caio! +REP
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member772d.html?action=profile&amp;uid=228440">xiaoniao</a> -  21.11.2017
<br />
<br />
Very nice design, keep update
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  21.11.2017
<br />
<br />
Update 4.0<br />
<br />
- Now using strpack in strings<br />
- Now you can increase the size of the description BOX<br />
- Now you can choose whether to automatically break line in the description or not<br />
<br />
Exemple<br />
<br />
<img alt="" border="0" src="https://i.imgur.com/9xY94OG.jpg"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member8902.html?action=profile&amp;uid=191462">Sellize</a> -  01.12.2017
<br />
<br />
I really, really appreciate this. This is so awesome and it looks great.<br />
<br />
Thank you!<br />
<br />
edit: server seems to crash after OnPlayerSpawn, any idea why this happens?<br />
<br />
edit2: crashdetect log:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">[12:30:53] [debug] Server crashed while executing script.amx
[12:30:53] [debug] AMX backtrace:
[12:30:53] [debug] #0 native CallLocalFunction () [004743b0] from samp-server.exe
[12:30:53] [debug] #1 00008bec in ?? (0x00000000, 0x00001b5b, 0x00000001, 0xffffffff, 0x04d02218, 0x00000001, 0x00000000, 0x00000000, 0x00000014, 0x00000000, ... &lt;1073741813 arguments&gt;) from script.amx
[12:30:53] [debug] #2 00020f58 in public OnDialogResponse (0x00000000, 0x00001b5b, 0x00000001, 0xffffffff, 0x04d02218) from script.amx</pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3b33.html?action=profile&amp;uid=97562">Gforcez</a> -  01.12.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>DanDRT</strong><br />
<a href="showthreadee04.html?pid=3957832#pid3957832" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">@Xeon - Dude, the definition of dynamic isn't so closed as you think, open your mind and don't be a idiot with the people.<br />
<br />
Good job, Caio! +REP</div>
</td>
</tr>
</table>
</div>Xeon means, you have to recompile and restart the script to change the stores. His definition of dynamic is that you don't have to recompile or restart the server for the stores (in this context) to change, storing the values in a database for example and reading those values whenever you show the shop textdraws.<br />
<br />
OT: This looks pretty nice. Good job! This can be very useful and a nice replacement for 'dialog stores'.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: MenuStore (Build dynamic stores with TextDraws) - <a href="member3416.html?action=profile&amp;uid=178553">CaioTJF</a> -  01.12.2017
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Sellize</strong><br />
<a href="showthreada6c9.html?pid=3961814#pid3961814" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">I really, really appreciate this. This is so awesome and it looks great.<br />
<br />
Thank you!<br />
<br />
edit: server seems to crash after OnPlayerSpawn, any idea why this happens?<br />
<br />
edit2: crashdetect log:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">[12:30:53] [debug] Server crashed while executing script.amx
[12:30:53] [debug] AMX backtrace:
[12:30:53] [debug] #0 native CallLocalFunction () [004743b0] from samp-server.exe
[12:30:53] [debug] #1 00008bec in ?? (0x00000000, 0x00001b5b, 0x00000001, 0xffffffff, 0x04d02218, 0x00000001, 0x00000000, 0x00000000, 0x00000014, 0x00000000, ... &lt;1073741813 arguments&gt;) from script.amx
[12:30:53] [debug] #2 00020f58 in public OnDialogResponse (0x00000000, 0x00001b5b, 0x00000001, 0xffffffff, 0x04d02218) from script.amx</pre>
</div></div>
</td>
</tr>
</table>
</div>Thanks for reporting it, fixed.<br />
<br />
Version 4.1 (thanks Jelly)<br />
<br />
- Fixed crash on OnDialogResponse (CallLocalFunction removed from callbacks)<br />
- Little adjustments
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->