<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> Useful Snippets - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="As i see that the Post your interesting/weird... commands is flooded with not just commands, but other snippets that go in different areas of the SA:MP Scripts, i decided to make this topic with *****" />
<link rel="canonical" href="showthread2912.html?tid=281" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthread2912.html?tid=281">Useful Snippets</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Filterscripts (<i>https://sampforum.blast.hk/forumdisplay.php?fid=17</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Useful Snippets (<em>/showthread.php?tid=281</em>)<br />
<br />
<!-- start: printthread_multipage -->
<div class="multipage">Pages:  <!-- start: printthread_multipage_page_current -->
1
<!-- end: printthread_multipage_page_current --><!-- start: printthread_multipage_page -->
<a href="printthreadb4f6.html?tid=281&amp;page=2">2</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread373f.html?tid=281&amp;page=3">3</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread723c.html?tid=281&amp;page=4">4</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread1266.html?tid=281&amp;page=5">5</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread6b5d.html?tid=281&amp;page=6">6</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread41ad.html?tid=281&amp;page=7">7</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadbf6b.html?tid=281&amp;page=8">8</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread2066.html?tid=281&amp;page=9">9</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread007a.html?tid=281&amp;page=10">10</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread87b5.html?tid=281&amp;page=11">11</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread99ad.html?tid=281&amp;page=12">12</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread42ce.html?tid=281&amp;page=13">13</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadf85d.html?tid=281&amp;page=14">14</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreaded53-2.html?tid=281&amp;page=15">15</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadce26.html?tid=281&amp;page=16">16</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreade52b.html?tid=281&amp;page=17">17</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread4faa.html?tid=281&amp;page=18">18</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread4bde.html?tid=281&amp;page=19">19</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread1f61.html?tid=281&amp;page=20">20</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread0060.html?tid=281&amp;page=21">21</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread93c9.html?tid=281&amp;page=22">22</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread41b8.html?tid=281&amp;page=23">23</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadb5aa.html?tid=281&amp;page=24">24</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadd62b.html?tid=281&amp;page=25">25</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread59a7.html?tid=281&amp;page=26">26</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread1e96.html?tid=281&amp;page=27">27</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadd7d3.html?tid=281&amp;page=28">28</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthread9b0e.html?tid=281&amp;page=29">29</a>
<!-- end: printthread_multipage_page --><!-- start: printthread_multipage_page -->
<a href="printthreadd97a.html?tid=281&amp;page=30">30</a>
<!-- end: printthread_multipage_page --></div>
<!-- end: printthread_multipage --></div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  27.01.2007
<br />
<br />
As i see that the Post your interesting/weird... commands is flooded with not just commands,<br />
but other snippets that go in different areas of the SA:MP Scripts, i decided to make this<br />
topic with ******' approval for people to post there useful, weird, or interesting snippets that not just<br />
go into the OnPlayerCommandText Area but other areas of the SA:MP scripts. <u><b>Ill start it out.</b></u><br />
<br />
<font size="4"><font color="red">Connect icon in DeathStats from ******</font></font><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:103px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> OnPlayerConnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>   SendDeathMessage<span style="color: #000000;">(</span>playerid, INVALID_PLAYER_ID, <span style="color: #000000;">200</span><span style="color: #000000;">)</span>;<br/>   <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<font size="4"><font color="red">Disconnect icon in DeathStats from ******</font></font><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:87px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> OnPlayerDisconnect<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>  SendDeathMessage<span style="color: #000000;">(</span>INVALID_PLAYER_ID, playerid, <span style="color: #000000;">201</span><span style="color: #000000;">)</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  27.01.2007
<br />
<br />
<font size="6"><font color="green"><i><b>Admin Lock</b></i></font></font><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">new</span> aVehicle; <span style="color: #228822;">//Above Main</span></div></div></pre>
</div>
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">//gamemodeinit</span><br/>aVehicle <span style="color: #000000;">=</span> AddStaticVehicle<span style="color: #000000;">(</span><span style="color: #000000;">598</span>,<span style="color: #000000;">2256.0903</span>,<span style="color: #000000;">2477.0115</span>,<span style="color: #000000;">10.5668</span>,<span style="color: #000000;">178.5022</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>; <span style="color: #228822;">//gamemodeinit</span></div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:247px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> AdminLock<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span> <span style="color: #228822;">//Anywhere in script</span><br/><span style="color: #000000;">{</span><br/> <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerConnected<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/> <span style="color: #000000;">{</span><br/>   <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerAdmin<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>   <span style="color: #000000;">{</span><br/>    SetVehicleParamsForPlayer<span style="color: #000000;">(</span>aVehicle, playerid,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>   <span style="color: #000000;">}</span><br/>   <span style="color: #2222BB;">else</span><br/>   <span style="color: #000000;">{</span><br/>    SetVehicleParamsForPlayer<span style="color: #000000;">(</span>aVehicle, playerid,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/>   <span style="color: #000000;">}</span><br/> <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:103px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> OnPlayerSpawn<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>   AdminLock<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span>;<br/>   <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">AddStaticVehicleEx<span style="color: #000000;">(</span><span style="color: #000000;">598</span>,<span style="color: #000000;">2256.0903</span>,<span style="color: #000000;">2477.0115</span>,<span style="color: #000000;">10.5668</span>,<span style="color: #000000;">178.5022</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span>,never<span style="color: #000000;">)</span>;</div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member15f8.html?action=profile&amp;uid=3400">Sacky</a> -  28.01.2007
<br />
<br />
Well this is a small thing but i find it a bit more efficient,<br />
<br />
instead of using for(new i=0;i&lt;MAX_PLAYERS<br />
<br />
I use this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 194px;
		text-align: left;
		overflow: auto">new maxplayers; //Global Variable

public OnPlayerConnect(playerid){
	if(playerid &gt; maxplayers-1) maxplayers = playerid+1; //Getting the maximum playerid
}

public OnPlayerDisconnect(playerid){
	if(playerid == maxplayers+1) for(new i=0;i&lt;maxplayers;i++) if(IsPlayerConnected(i)) maxplayers = i+1; //Getting the minimum playerid
}

for(new i=0;i&lt;maxplayers;i++) //the new more efficient loop</pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member15f8.html?action=profile&amp;uid=3400">Sacky</a> -  28.01.2007
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
			<br />
				That won't work, you're assuming that all players are consecutive, which is rarely the case, you could have 10 players max, but only players 1, 4, 7 and 9 connected, which would make the max thing 9, saving almost nothing, and you would still need to check for connection.<br />
			<br />
		</td>
</tr>
</table>
</div>No I'm not assuming there consecutive, check my code again, i find the highest playerid according to OnPlayerConnect and make the max loop that, then when a player disconnects i reevaluate the highest playerid<br />
<br />
since basically all MAX_PLAYERS loops try to loop according to playerids you only need the highest one, hence this is more efficient
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member0f49.html?action=profile&amp;uid=2816">-Sneaky-</a> -  28.01.2007
<br />
<br />
ok about the admin vehcile's<br />
i added 13 admin vehicle's and i can open them when im not admin.. now i realized that i had to add this, before it would work:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 226px;
		text-align: left;
		overflow: auto">AddStaticVehicleEx(425,2137.0598,1729.9246,20.5675,59.3952,0,1,never);
    AddStaticVehicleEx(522,2164.1125,1720.9868,20.1695,161.4324,0,1,never);
	AddStaticVehicleEx(522,2168.9771,1719.4484,19.9998,169.0915,0,1,never);
	AddStaticVehicleEx(522,2174.8657,1718.4332,20.1868,165.7749,0,1,never);
	AddStaticVehicleEx(522,2179.6699,1717.1212,19.9994,166.9654,0,1,never);
	AddStaticVehicleEx(444,2208.9463,1654.0419,20.0004,2.0738,0,1,never);
	AddStaticVehicleEx(556,2184.9636,1654.0623,20.0956,2.9973,0,1,never);
	AddStaticVehicleEx(425,2201.3828,1716.8575,34.2190,88.4603,0,1,never);
	AddStaticVehicleEx(520,2141.1396,1637.6151,20.1024,120.4169,0,1,never);
	AddStaticVehicleEx(541,2175.4431,1613.0690,20.0886,182.6934,0,1,never);
	AddStaticVehicleEx(411,2168.8147,1614.7198,20.0885,181.9470,0,1,never);
	AddStaticVehicleEx(451,2163.6968,1613.2709,20.0878,175.1219,0,1,never);
	AddStaticVehicleEx(447,2141.5942,1591.2502,31.6095,124.6433,0,1,never);</pre>
</div>And get this error:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">(19229) : error 021: symbol already defined: "AddStaticVehicleEx"</pre>
</div>I searched thru the forums how i could fix this error but found nothing.<br />
<br />
Greetz, Sneaky<br />
<br />
<br/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  28.01.2007
<br />
<br />
only 1 vehicle can be locked with the lock i posted<br />
you need maxvehicles for all of them to be unlocked<br />
<font size="7"><font color="red"><b><br />
Everybody needs sleep Code</b></font></font><br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:135px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">enum</span> pInfo<br/><span style="color: #000000;">{</span><br/>    Sleeping,<br/>    Awake,<br/>    Tired<br/><span style="color: #000000;">}</span><br/><span style="color: #2222BB;">new</span> Info<span style="color: #000000;">[</span>MAX_PLAYERS<span style="color: #000000;">]</span><span style="color: #000000;">[</span>pInfo<span style="color: #000000;">]</span>;</div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"Motels"</span>,<span style="color: #000000;">5000</span>,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/>SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"SleepTime"</span>,<span style="color: #000000;">300000</span>,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;</div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:199px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> SleepTime<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i<span style="color: #000000;">=</span><span style="color: #000000;">0</span>; i<span style="color: #000000;">&lt;</span>MAX_PLAYERS; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>      SendClientMessage<span style="color: #000000;">(</span>i,COLOR_GREY,<span style="color: #000066;">"* You are starting to feel sleep *"</span><span style="color: #000000;">)</span>;<br/>        SendClientMessage<span style="color: #000000;">(</span>i,COLOR_GREY,<span style="color: #000066;">"* Go to the nearest /hotel and get a rest *"</span><span style="color: #000000;">)</span>;<br/>        Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">1</span>;<br/>        Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>        Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> Motels<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i<span style="color: #000000;">=</span><span style="color: #000000;">0</span>; i<span style="color: #000000;">&lt;</span>MAX_PLAYERS; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>      <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerInCube<span style="color: #000000;">(</span>i,<span style="color: #000000;">2236</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1076</span>,<span style="color: #000000;">1040</span>,<span style="color: #000000;">2245</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1066</span>,<span style="color: #000000;">1100</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>      <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span><span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~Please wait while your energy is ~b~restored"</span>,<span style="color: #000000;">3000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">1</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                TogglePlayerControllable<span style="color: #000000;">(</span>i,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~You ~g~don't ~w~need to rest"</span>,<span style="color: #000000;">2000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">1</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~Rise and Shine"</span>,<span style="color: #000000;">2000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>                TogglePlayerControllable<span style="color: #000000;">(</span>i,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>      <span style="color: #000000;">}</span><br/>      <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerInCube<span style="color: #000000;">(</span>i,<span style="color: #000000;">2202</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1070</span>,<span style="color: #000000;">1000</span>,<span style="color: #000000;">2211</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1078</span>,<span style="color: #000000;">1100</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>      <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span><span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~Please wait while your energy is ~b~restored"</span>,<span style="color: #000000;">3000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">1</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                TogglePlayerControllable<span style="color: #000000;">(</span>i,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~You ~g~don't ~w~need to rest"</span>,<span style="color: #000000;">2000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">==</span> <span style="color: #000000;">1</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Awake<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">1</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Tired<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                Info<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span> <span style="color: #000000;">[</span>Sleeping<span style="color: #000000;">]</span> <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>;<br/>                GameTextForPlayer<span style="color: #000000;">(</span>i,<span style="color: #000066;">"~w~Rise and Shine"</span>,<span style="color: #000000;">2000</span>,<span style="color: #000000;">3</span><span style="color: #000000;">)</span>;<br/>                TogglePlayerControllable<span style="color: #000000;">(</span>i,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>      <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/>  <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="membercb92.html?action=profile&amp;uid=2645">yom</a> -  28.01.2007
<br />
<br />
Why not simply:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span> IsPlayerInCube<span style="color: #000000;">(</span>i,<span style="color: #000000;">2236</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1076</span>,<span style="color: #000000;">1040</span>,<span style="color: #000000;">2245</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1066</span>,<span style="color: #000000;">1100</span><span style="color: #000000;">)</span> || IsPlayerInCube<span style="color: #000000;">(</span>i,<span style="color: #000000;">2202</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1070</span>,<span style="color: #000000;">1000</span>,<span style="color: #000000;">2211</span>,<span style="color: #000000;">-</span><span style="color: #000000;">1078</span>,<span style="color: #000000;">1100</span><span style="color: #000000;">)</span> <span style="color: #000000;">)</span></div></div></pre>
</div>
So you can delete half of the timer func. Also check if they are connected before doing anything.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  28.01.2007
<br />
<br />
I made it a long time ago so i didn't know about that then.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member0f49.html?action=profile&amp;uid=2816">-Sneaky-</a> -  28.01.2007
<br />
<br />
ok pixels, how can i make all vehicles unlocked for admin and locked for normal players then?<br />
i really dont know how <img alt="" border="0" class="inlineimg" src="images/smilies/sad.gif" title="Sad"/>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  28.01.2007
<br />
<br />
Something like this<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:55px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222AA;">#define MAX_VEHICLES 255 //amount of cars in script</span><br/><span style="color: #2222BB;">new</span> aVehicle<span style="color: #000000;">[</span>MAX_VEHICLES<span style="color: #000000;">]</span> <span style="color: #228822;">//define of aVehicle</span></div></div></pre>
</div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:71px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">new</span> never <span style="color: #000000;">=</span> <span style="color: #000000;">1000000</span>;<br/>    aVehicle<span style="color: #000000;">[</span><span style="color: #000000;">1</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> AddStaticVehicleEx<span style="color: #000000;">(</span><span style="color: #000000;">522</span>,<span style="color: #000000;">2164.1125</span>,<span style="color: #000000;">1720.9868</span>,<span style="color: #000000;">20.1695</span>,<span style="color: #000000;">161.4324</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span>,never<span style="color: #000000;">)</span>;<br/>    aVehicle<span style="color: #000000;">[</span><span style="color: #000000;">2</span><span style="color: #000000;">]</span> <span style="color: #000000;">=</span> AddStaticVehicleEx<span style="color: #000000;">(</span><span style="color: #000000;">522</span>,<span style="color: #000000;">2168.9771</span>,<span style="color: #000000;">1719.4484</span>,<span style="color: #000000;">19.9998</span>,<span style="color: #000000;">169.0915</span>,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span>,never<span style="color: #000000;">)</span>;</div></div></pre>
</div>
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:247px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> AdminLock<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span> <span style="color: #228822;">//Anywhere in script</span><br/><span style="color: #000000;">{</span><br/>  <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerConnected<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>  <span style="color: #000000;">{</span><br/>   <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerAdmin<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>   <span style="color: #000000;">{</span><br/>     SetVehicleParamsForPlayer<span style="color: #000000;">(</span>aVehicle<span style="color: #000000;">[</span>MAX_VEHICLES<span style="color: #000000;">]</span>, playerid,<span style="color: #000000;">0</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>   <span style="color: #000000;">}</span><br/>   <span style="color: #2222BB;">else</span><br/>   <span style="color: #000000;">{</span><br/>     SetVehicleParamsForPlayer<span style="color: #000000;">(</span>aVehicle<span style="color: #000000;">[</span>MAX_VEHICLES<span style="color: #000000;">]</span>, playerid,<span style="color: #000000;">0</span>,<span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/>   <span style="color: #000000;">}</span><br/>  <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member5a36.html?action=profile&amp;uid=5967">[xA]Ramjet</a> -  29.01.2007
<br />
<br />
<b><font face="Arial Black"><font size="7"><font color="red">Red Alert!</font></font></font></b><br />
Type: Admin Command.<br />
Description: Kicks all connected players off the server, due to an emergency etc.<br />
_________________________________________________<br />
<b>Global Variable (Top Of Your Script):</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">new</span> RedAlertTimer;</div></div></pre>
</div>_________________________________________________<br />
<b>Function</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:183px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">public</span> KickAll<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span> <span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i <span style="color: #000000;">=</span> <span style="color: #000000;">0</span>; i <span style="color: #000000;">&lt;</span> MAX_PLAYERS; i<span style="color: #000000;">++</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span>IsPlayerConnected<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span><br/>            Kick<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span>;<br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>_________________________________________________<br />
<b>The Command: (Under The OnPlayerCommandText Callback)</b><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:503px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span><span style="color: #222222;">strcmp</span><span style="color: #000000;">(</span>cmdtext, <span style="color: #000066;">"/redalert"</span>, true<span style="color: #000000;">)</span><span style="color: #000000;">==</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>      <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerAdmin<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>      <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">new</span> string<span style="color: #000000;">[</span><span style="color: #000000;">256</span><span style="color: #000000;">]</span>;<br/>        <span style="color: #2222BB;">new</span> aname<span style="color: #000000;">[</span><span style="color: #000000;">256</span><span style="color: #000000;">]</span>;<br/>        GetPlayerName<span style="color: #000000;">(</span>playerid,aname,<span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>aname<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>        GameTextForAll<span style="color: #000000;">(</span><span style="color: #000066;">"~r~Red Alert"</span>,<span style="color: #000000;">7000</span>,<span style="color: #000000;">4</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">format</span><span style="color: #000000;">(</span>string,<span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>string<span style="color: #000000;">)</span>, <span style="color: #000066;">"Admin: %s has called Red Alert"</span>,aname<span style="color: #000000;">)</span>;<br/>        SendClientMessageToAll<span style="color: #000000;">(</span>0xAA3333AA,string<span style="color: #000000;">)</span>;<br/>        SendClientMessageToAll<span style="color: #000000;">(</span>0xAA3333AA,<span style="color: #000066;">"You will all be kicked in ten seconds."</span><span style="color: #000000;">)</span>;<br/>        RedAlertTimer <span style="color: #000000;">=</span> SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"KickAll"</span>,<span style="color: #000000;">10000</span>,<span style="color: #000000;">0</span><span style="color: #000000;">)</span>;<br/>        SendClientMessage<span style="color: #000000;">(</span>playerid, 0xFFFF00AA, <span style="color: #000066;">"Red Alert Successful. To Abort Type /abort"</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">printf</span><span style="color: #000000;">(</span><span style="color: #000066;">"%s has initialized the red alert countdown."</span>,aname<span style="color: #000000;">)</span>;<br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/>      <span style="color: #000000;">}</span><br/>      <span style="color: #2222BB;">else</span><br/>      <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/>      <span style="color: #000000;">}</span><br/>      <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/>    <span style="color: #000000;">}</span><br/>    <span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span><span style="color: #222222;">strcmp</span><span style="color: #000000;">(</span>cmdtext, <span style="color: #000066;">"/abort"</span>, true<span style="color: #000000;">)</span><span style="color: #000000;">==</span><span style="color: #000000;">0</span><span style="color: #000000;">)</span><br/>    <span style="color: #000000;">{</span><br/>      <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerAdmin<span style="color: #000000;">(</span>playerid<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>      <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">new</span> string<span style="color: #000000;">[</span><span style="color: #000000;">256</span><span style="color: #000000;">]</span>;<br/>        <span style="color: #2222BB;">new</span> aname<span style="color: #000000;">[</span><span style="color: #000000;">256</span><span style="color: #000000;">]</span>;<br/>        GetPlayerName<span style="color: #000000;">(</span>playerid,aname,<span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>aname<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;<br/>        GameTextForAll<span style="color: #000000;">(</span><span style="color: #000066;">"~y~Red Alert Aborted"</span>,<span style="color: #000000;">7000</span>,<span style="color: #000000;">4</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">format</span><span style="color: #000000;">(</span>string,<span style="color: #2222BB;">sizeof</span><span style="color: #000000;">(</span>string<span style="color: #000000;">)</span>, <span style="color: #000066;">"Admin: %s has canceled the Red Alert"</span>,aname<span style="color: #000000;">)</span>;<br/>        SendClientMessageToAll<span style="color: #000000;">(</span>0x33AA33AA,string<span style="color: #000000;">)</span>;<br/>        KillTimer<span style="color: #000000;">(</span>RedAlertTimer<span style="color: #000000;">)</span>;<br/>        SendClientMessage<span style="color: #000000;">(</span>playerid, 0xFFFF00AA, <span style="color: #000066;">"Red Alert Abort Successful."</span><span style="color: #000000;">)</span>;<br/>        <span style="color: #222222;">printf</span><span style="color: #000000;">(</span><span style="color: #000066;">"%s has cancelled the red alert countdown."</span>,aname<span style="color: #000000;">)</span>;<br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">else</span><br/>        <span style="color: #000000;">{</span><br/>          <span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/>        <span style="color: #000000;">}</span><br/>        <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/>    <span style="color: #000000;">}</span></div></div></pre>
</div>_________________________________________________
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="membercf8b.html?action=profile&amp;uid=161">[QB]Flame^</a> -  30.01.2007
<br />
<br />
<div align="center"><b>Admin Area</b></div><div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:455px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;"><span style="color: #228822;">// Set the timer triggering the function which checks if players are in the 'admin' area</span><br/><br/>SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"AreaCheck"</span>, <span style="color: #000000;">1000</span>, <span style="color: #000000;">1</span><span style="color: #000000;">)</span>;<br/><br/><span style="color: #228822;">// The function</span><br/><br/>AreaCheck<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i<span style="color: #000000;">=</span><span style="color: #000000;">0</span>; i<span style="color: #000000;">&lt;</span>MAX_PLAYERS; i<span style="color: #000000;">++</span> <span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerConnected<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span> <span style="color: #000000;">&amp;&amp;</span> IsPlayerInArea<span style="color: #000000;">(</span>i, minx, maxx, miny, maxy<span style="color: #000000;">)</span> <span style="color: #000000;">&amp;&amp;</span> <span style="color: #000000;">!</span>IsPlayerAdmin<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #228822;">// CHECK: If the player is a admin, if the player is in the area</span><br/>        <span style="color: #000000;">{</span> <span style="color: #228822;">// He's not.</span><br/>            SendClientMessage<span style="color: #000000;">(</span>i, YOURCOLOR, <span style="color: #000066;">"You are not allowed to enter the ADMIN area."</span><span style="color: #000000;">)</span>;<br/>            <span style="color: #228822;">/* Do with him whatever<br/>                you want */</span><br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span><br/><br/><span style="color: #228822;">// ISPIA Function</span><br/><br/>IsPlayerInArea<span style="color: #000000;">(</span>playerid, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>minx, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>maxx, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>miny, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>maxy<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/><span style="color: #2222BB;">new</span> <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>x, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>y, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>z;<br/>GetPlayerPos<span style="color: #000000;">(</span>playerid, x, y, z<span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span>x <span style="color: #000000;">&gt;</span> minx <span style="color: #000000;">&amp;&amp;</span> x <span style="color: #000000;">&lt;</span> maxx <span style="color: #000000;">&amp;&amp;</span> y <span style="color: #000000;">&gt;</span> miny <span style="color: #000000;">&amp;&amp;</span> y <span style="color: #000000;">&lt;</span> maxy<span style="color: #000000;">)</span> <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
Since it's something most newb scripters want to have, and "cant" find it, i'll post a very basic one. Hopefully this will stop some of the 'I cant find a working code' bs.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member4700-2.html?action=profile&amp;uid=2724">boylett</a> -  30.01.2007
<br />
<br />
if(<b>IsPlayerConnected(i)</b> &amp;&amp; IsPlayerInArea(i, minx, maxx, miny, maxy) &amp;&amp; !IsPlayerAdmin(i))
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="membercf8b.html?action=profile&amp;uid=161">[QB]Flame^</a> -  30.01.2007
<br />
<br />
I really dont see the use of that in this type of function :/ ..
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member4700-2.html?action=profile&amp;uid=2724">boylett</a> -  30.01.2007
<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">SendClientMessage<span style="color: #000000;">(</span>i, YOURCOLOR, <span style="color: #000066;">"You are not allowed to enter the ADMIN area."</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>What if they leave while in the admin area?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member0a0e.html?action=profile&amp;uid=4107">Nitroglycerine</a> -  30.01.2007
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Flame^ </strong><br />
</div>
<div style="font-style:italic">I really dont see the use of that in this type of function :/ ..</div>
</td>
</tr>
</table>
</div>Dunno what the function IsPlayerInArea does when you try to check for a playerid that is not connected.... Since that's what's gonna happen sooner or later: you will not always have a full 100 player load on your server.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  30.01.2007
<br />
<br />
Added OnPlayerConnect for Flame^'s Snippet.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:39px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">SetTimer<span style="color: #000000;">(</span><span style="color: #000066;">"AreaCheck"</span>, <span style="color: #000000;">1000</span>, <span style="color: #000000;">1</span><span style="color: #000000;">)</span>;</div></div></pre>
</div>
// The function<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:231px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">AreaCheck<span style="color: #000000;">(</span><span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/>    <span style="color: #2222BB;">for</span><span style="color: #000000;">(</span><span style="color: #2222BB;">new</span> i<span style="color: #000000;">=</span><span style="color: #000000;">0</span>; i<span style="color: #000000;">&lt;</span>MAX_PLAYERS; i<span style="color: #000000;">++</span> <span style="color: #000000;">)</span> <span style="color: #000000;">{</span><br/>        <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerConnected<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span><span style="color: #000000;">)</span><br/>        <span style="color: #000000;">{</span> <br/>           <span style="color: #2222BB;">if</span><span style="color: #000000;">(</span>IsPlayerInArea<span style="color: #000000;">(</span>i, minx, maxx, miny, maxy<span style="color: #000000;">)</span> <span style="color: #000000;">&amp;&amp;</span> <span style="color: #000000;">!</span>IsPlayerAdmin<span style="color: #000000;">(</span>i<span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #228822;">// CHECK: If the player is a admin, if the player is in the area</span><br/>           <span style="color: #000000;">{</span> <span style="color: #228822;">// He's not.</span><br/>              SendClientMessage<span style="color: #000000;">(</span>i, YOURCOLOR, <span style="color: #000066;">"You are not allowed to enter the ADMIN area."</span><span style="color: #000000;">)</span>;<br/>              <span style="color: #228822;">/* Do with him whatever you want */</span>       <br/>           <span style="color: #000000;">}</span> <br/>        <span style="color: #000000;">}</span><br/>    <span style="color: #000000;">}</span><br/><span style="color: #000000;">}</span></div></div></pre>
</div>// ISPIA Function<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">pawn Code:</div>
<pre class="alt2" style="margin:0px; padding:6px; border: 1px solid #C2C2C2; width:800px; height:135px; overflow:auto"><div dir="ltr" style="text-align:left;"><div class="pawn" style="font-family:monospace;">IsPlayerInArea<span style="color: #000000;">(</span>playerid, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>minx, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>maxx, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>miny, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>maxy<span style="color: #000000;">)</span><br/><span style="color: #000000;">{</span><br/><span style="color: #2222BB;">new</span> <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>x, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>y, <span style="color: #000000;">Float</span><span style="color: #000000;">:</span>z;<br/>GetPlayerPos<span style="color: #000000;">(</span>playerid, x, y, z<span style="color: #000000;">)</span>;<br/><span style="color: #2222BB;">if</span> <span style="color: #000000;">(</span>x <span style="color: #000000;">&gt;</span> minx <span style="color: #000000;">&amp;&amp;</span> x <span style="color: #000000;">&lt;</span> maxx <span style="color: #000000;">&amp;&amp;</span> y <span style="color: #000000;">&gt;</span> miny <span style="color: #000000;">&amp;&amp;</span> y <span style="color: #000000;">&lt;</span> maxy<span style="color: #000000;">)</span> <span style="color: #2222BB;">return</span> <span style="color: #000000;">1</span>;<br/><span style="color: #2222BB;">return</span> <span style="color: #000000;">0</span>;<br/><span style="color: #000000;">}</span></div></div></pre>
</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member1b17.html?action=profile&amp;uid=5226">Pixels^</a> -  31.01.2007
<br />
<br />
What do i need to edit?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member0a0e.html?action=profile&amp;uid=4107">Nitroglycerine</a> -  31.01.2007
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>Pixels^ </strong><br />
</div>
<div style="font-style:italic">What do i need to edit?</div>
</td>
</tr>
</table>
</div>Perhaps this:<br />
I quote ******:<br />
Moved and pinned, but could I point out that I posted those...
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Useful Snippets - <a href="member15f8.html?action=profile&amp;uid=3400">Sacky</a> -  02.02.2007
<br />
<br />
Could you give an example of how it could be used? For instance in a str2bin(string[])? I think this could be really useful
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->