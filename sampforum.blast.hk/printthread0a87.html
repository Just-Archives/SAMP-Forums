<!DOCTYPE html><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> [Tutorial] Creating Menus/Dialog Box's - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="description" content="Creating A Menu with a Dialog Syntax for Dialogs PHP Code: ShowPlayerDialog(playerid, **DIALOGID**, **DIALOGSTYLE**, &quot;**DIALOGTITLE**&quot;, &quot;**DIALOGBODYCONTENT**&quot;, &quot;**LEFTBUTTONTEXT**&quot;, &quot;**RIGHTBUTTONTEX" />
<link rel="canonical" href="showthread0a87.html?tid=676988" />
</head>
<body>
<div>

<div><a href="index-2.html"><img src="images/bootbb/logo_forum.gif" alt="SA-MP Forums Archive" title="SA-MP Forums Archive" /></a></div>


<div>
<span class="largetext"> <a href="showthread0a87.html?tid=676988">[Tutorial] Creating Menus/Dialog Box's</a> - Printable Version</span><br />
<br />
+- SA-MP Forums Archive (<em>https://sampforum.blast.hk</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP Scripting and Plugins (<i>https://sampforum.blast.hk/forumdisplay.php?fid=8</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Scripting Help (<i>https://sampforum.blast.hk/forumdisplay.php?fid=12</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+---- Forum: Tutorials (<i>https://sampforum.blast.hk/forumdisplay.php?fid=70</i>)<br />
<!-- end: printthread_nav -->
+---- Thread:  [Tutorial] Creating Menus/Dialog Box's (<em>/showthread.php?tid=676988</em>)<br />
<br />
</div>


<div><br /><hr size="1" /><!-- start: printthread_post -->
Creating Menus/Dialog Box's - <a href="member4be0.html?action=profile&amp;uid=255802">SkyFlare</a> -  26.06.2020
<br />
<br />
<font size="4"><div align="center"><b><br />
<font color="DarkRed"><u>Creating A Menu with a Dialog</u></font></b></div></font><div align="center"><b><font color="DarkRed"><font size="2"><br />
<br />
<u>Syntax for Dialogs</u><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, **</span><span style="color: #0000BB">DIALOGID</span><span style="color: #007700">**, **</span><span style="color: #0000BB">DIALOGSTYLE</span><span style="color: #007700">**, </span><span style="color: #DD0000">"**DIALOGTITLE**"</span><span style="color: #007700">, </span><span style="color: #DD0000">"**DIALOGBODYCONTENT**"</span><span style="color: #007700">, </span><span style="color: #DD0000">"**LEFTBUTTONTEXT**"</span><span style="color: #007700">, </span><span style="color: #DD0000">"**RIGHTBUTTONTEXT**"</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>DialogID - This is used to reference a Dialog in different area's of your Gamemode/Filterscript.<br />
DialogStyle - This is a multi choice depending what kind of Dialog Style you need or want, you will learn about these in this tutorial.<br />
DialogTitle - This goes on the Dialog at the top, as the Title shown.<br />
DialogBodyContent - This is what is in the middle of your Dialog, weather that is Text,Numbers,Items etc, you will also learn how to create Listitems in this tutorial.<br />
Left &amp; Right Button - This is to make your Dialogs Responsive and do different things, adding extra dialogs to open after you click it, or do certain tasks.<br />
<br />
<br />
<u>Setting Up Framework for Dialogs</u><br />
We will use an Enumerator for this, so we don't have to constantly define numbers and have a possibility of forgetting DialogID's along the way.<br />
If you don't know how to use an Enumerator, there is a great Article about this already.<br />
<a href="showthreadd1ee.html?tid=318307" target="_blank">https://sampforum.blast.hk/showthread.php?tid=318307</a><br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">enum
<br/></span><span style="color: #007700">{
<br/>    </span><span style="color: #0000BB">DIALOG_UNUSED
<br/></span><span style="color: #007700">}; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>First off the bat, you'll want to make sure this Enumerator is placed at the top of your script, below your Includes,Defines, beside any custom Global Variables you've created already.<br />
<br />
What is DIALOG_UNUSED? This is basically DIALOG ID 0, we are using this as a placeholder and I will explain why.<br />
<br />
Say you have your Help Command, which just shows all the available CMD's on your server, but it doesn't do anything else when you click the Menu Buttons on the Dialog? That mean's we wont need to use OnDialogResponse Callback's features for that Dialog, and if there is any more Dialogs you have, that have no functions with the buttons, you also wont need OnDialogResponse's Features, therefore you're able to use the same Dialog ID, so we can just use DIALOG_UNUSED like this<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 66px;
		text-align: left;
		overflow: auto">ShowPlayerDialog(playerid, DIALOG_UNUSED, DIALOG_STYLE_MSGBOX, "Messagebox Title 1", "This is Information inside the first Messagebox", "Ok", "");

ShowPlayerDialog(playerid, DIALOG_UNUSED, DIALOG_STYLE_MSGBOX, "Messagebox Title 2", "This is Information inside the second Messagebox", "Okay", "");</pre>
</div><u>DIALOG_STYLE_MSGBOX</u><br />
<img alt="" border="0" src="https://sampwiki.blast.hk/wroot/images2/a/a1/Dialog_style_msgbox.png"/><br />
This is a MessageBox, You can fit a lot of text into these, It's useful for Help Commands such as /ahelp or /help<br />
or even /stats or whatever feature you want, like maybe even Text Messages in a Roleplay Gamemode?<br />
Literally your Imagination will be the limit of this Dialog's Usage.<br />
<br />
So lets create one!<br />
First we should have another look at that Enumerator <br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">enum
<br/></span><span style="color: #007700">{
<br/>    </span><span style="color: #0000BB">DIALOG_UNUSED
<br/></span><span style="color: #007700">}; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>We can add more DialogID's we are actually going to use with response functions, so for now lets just show a Helpful MessageBox with information.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 114px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">enum
<br/></span><span style="color: #007700">{
<br/>    </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">,
<br/>    </span><span style="color: #0000BB">DIALOG_HELP</span><span style="color: #007700">,
<br/>    </span><span style="color: #0000BB">DIALOG_HELP2
<br/></span><span style="color: #007700">}; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>So now we have the DialogID DIALOG_HELP and DIALOG_HELP2 defined and now ready to be used, so lets use them in a Command.<br />
<br />
NOTE: I am not creating a tutorial on CMDS and Processors, this is ZCMD Format, if you can't understand it then I suggest you go study it a little.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">help</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">params</span><span style="color: #007700">[])
<br/>{
<br/>    </span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_HELP</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_MSGBOX</span><span style="color: #007700">, </span><span style="color: #DD0000">"Help Page 1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"This is Page 1 of the Help Messagebox"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Page 2"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Exit"</span><span style="color: #007700">);
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Now that we have that Command created, if you were to test it, you'd notice typing /help will show a Messagebox, with what we wrote in it, furthermore youll notice the Page 2 Button does not actually do anything, so lets change that and make it do something.<br />
<br />
First I would like to mention, using Switches is the best method here, youll have less confusion with your code and switch brings some great benefits and in some cases less code to actually write.<br />
<br />
And theres been mention if youre running filterscripts with dialogs in them, that when youre coding your dialog response  you should be returning 0, ill quote something here for you guys.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>l0gic</strong><br />
<a href="showthreadf524.html?pid=4153136#pid4153136" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">OnDialogResponse<br />
"Returning 0 in this callback will pass the dialog to another script in case no matching code were found in your gamemode's callback.<br />
It is always called first in filterscripts so returning 1 there blocks other filterscripts from seeing it."</div>
</td>
</tr>
</table>
</div>In my opinion all dialogs should be together and in one place however thats not always the case, so return however you need, thanks l0gic for this information, but lets pretend all our dialogs are just in the gamemode for this Tutorial.<br />
<br />
So lets do our response for our help command we created.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 466px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public </span><span style="color: #0000BB">OnDialogResponse</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">dialogid</span><span style="color: #007700">, </span><span style="color: #0000BB">response</span><span style="color: #007700">, </span><span style="color: #0000BB">listitem</span><span style="color: #007700">, </span><span style="color: #0000BB">inputtext</span><span style="color: #007700">[])
<br/>{
<br/>    switch(</span><span style="color: #0000BB">dialogid</span><span style="color: #007700">)
<br/>    {
<br/>        case </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">: return </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">//This is the Empty Dialog that isn't used as I previously mentioned.
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">DIALOG_HELP</span><span style="color: #007700">:</span><span style="color: #FF8000">//This is our Help Dialog called from CMD:help
<br/>        </span><span style="color: #007700">{
<br/>            if(!</span><span style="color: #0000BB">response</span><span style="color: #007700">) return </span><span style="color: #0000BB">1</span><span style="color: #007700">;</span><span style="color: #FF8000">//This is the Exit Button we made, the right side Button
<br/>            </span><span style="color: #007700">else if(</span><span style="color: #0000BB">response</span><span style="color: #007700">)</span><span style="color: #FF8000">//This is the Page 2 Button we made, the left side Button
<br/>            </span><span style="color: #007700">{
<br/>                </span><span style="color: #FF8000">//We want to show the Page 2 Dialog now that they have pressed the Help Page 2 Button
<br/>                </span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_HELP2</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_MSGBOX</span><span style="color: #007700">, </span><span style="color: #DD0000">"Help Page 2"</span><span style="color: #007700">, </span><span style="color: #DD0000">"This is Page 2 of the Help Messagebox"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Page 1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Exit"</span><span style="color: #007700">);
<br/>                return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>            }
<br/>        }
<br/>        case </span><span style="color: #0000BB">DIALOG_HELP2</span><span style="color: #007700">:</span><span style="color: #FF8000">//This is our Page 2 Dialog Response, called from DIALOG_HELP Button
<br/>        </span><span style="color: #007700">{
<br/>            if(!</span><span style="color: #0000BB">response</span><span style="color: #007700">) return </span><span style="color: #0000BB">1</span><span style="color: #007700">;</span><span style="color: #FF8000">//This is the Exit Button we made, the right side Button
<br/>            </span><span style="color: #007700">else if(</span><span style="color: #0000BB">response</span><span style="color: #007700">)</span><span style="color: #FF8000">//This is the Page 1 Button we made, the left side Button, to take us back to the Page 1 Dialog
<br/>            </span><span style="color: #007700">{
<br/>                </span><span style="color: #FF8000">//We want to show the Page 1 Dialog now that they have pressed the Help Page 1 Button
<br/>                </span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_HELP</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_MSGBOX</span><span style="color: #007700">, </span><span style="color: #DD0000">"Help Page 1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"This is Page 1 of the Help Messagebox"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Page 2"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Exit"</span><span style="color: #007700">);
<br/>                return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>            }
<br/>        }
<br/>    }
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Now if you go ingame and test that, you'll see that /help still works the same, but the button "Page 2" Actually displays the Page 2 Dialog now.<br />
and if we click the "Page 1" Button, you'll be directed back to the 1st Page of Help.<br />
Things to note: You can add new lines in a Messagebox by writing "\n" within the Text for the Messagebox Content, See Below as an Example.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_MSGBOX</span><span style="color: #007700">, </span><span style="color: #DD0000">"Line Testing"</span><span style="color: #007700">, </span><span style="color: #DD0000">"This is Line 1\nThis is Line 2\nThis is Line 3"</span><span style="color: #007700">, </span><span style="color: #DD0000">"Ok"</span><span style="color: #007700">, </span><span style="color: #DD0000">""</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>
<br />
<br />
<u>DIALOG_STYLE_INPUT</u><br />
<img alt="" border="0" src="https://sampwiki.blast.hk/wroot/images2/d/d5/Dialog_style_input.png"/><br />
This is an Input Box, This can be used for many different things, Setting a Skin ID, by typing it into the Dialog Input, anything to do with Numbers really, or even Strings!, changing a players name can be done here aswell!<br />
<br />
SOoOoO let's create a Name Change Input Box! <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/><br />
<br />
First off, we will add a new DialogID into our Enum, name it DIALOG_CHANGENAME<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">enum
<br/></span><span style="color: #007700">{
<br/>    </span><span style="color: #0000BB">DIALOG_CHANGENAME
<br/></span><span style="color: #007700">}; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Now we have a Dialog ID for Change Name Dialog, we can make the Command to show the Dialog itself.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">changename</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">params</span><span style="color: #007700">[])
<br/>{
<br/>    </span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_CHANGENAME</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_INPUT</span><span style="color: #007700">, </span><span style="color: #DD0000">"Change Name"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Enter your new desired Name you wish to use:"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Change"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Exit"</span><span style="color: #007700">);
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>There we go, if you go ingame, you'll see when you type /changename, a dialog will show up, with an input field, to change your name, however it won't do anything, because again, we have not setup the response in OnDialogResponse.<br />
<br />
So let's do that now!<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 338px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public </span><span style="color: #0000BB">OnDialogResponse</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">dialogid</span><span style="color: #007700">, </span><span style="color: #0000BB">response</span><span style="color: #007700">, </span><span style="color: #0000BB">listitem</span><span style="color: #007700">, </span><span style="color: #0000BB">inputtext</span><span style="color: #007700">[])
<br/>{
<br/>    switch(</span><span style="color: #0000BB">dialogid</span><span style="color: #007700">)
<br/>    {
<br/>        case </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">: return </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">//This is the Empty Dialog that isn't used as I previously mentioned.
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">DIALOG_CHANGENAME</span><span style="color: #007700">:</span><span style="color: #FF8000">//This is our Changename Dialog called from CMD:changename
<br/>        </span><span style="color: #007700">{
<br/>            if(!</span><span style="color: #0000BB">response</span><span style="color: #007700">) return </span><span style="color: #0000BB">1</span><span style="color: #007700">;</span><span style="color: #FF8000">//This is the Exit Button we made, the right side Button
<br/>            </span><span style="color: #007700">else if(</span><span style="color: #0000BB">response</span><span style="color: #007700">)</span><span style="color: #FF8000">//This is the Change Button we made, the left side Button
<br/>            </span><span style="color: #007700">{
<br/>                if(!</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">inputtext</span><span style="color: #007700">) || </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">inputtext</span><span style="color: #007700">) &gt; </span><span style="color: #0000BB">24</span><span style="color: #007700">) return </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"Name Changing requires the name to be of a length between 1-24"</span><span style="color: #007700">);</span><span style="color: #FF8000">//This checks if they typed nothing or too much.
<br/>                //We want to Change the Players Username based on what they typed in the Box earlier since we now know its between 1-24, so we use "inputtext" for that again.
<br/>                </span><span style="color: #0000BB">SetPlayerName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">inputtext</span><span style="color: #007700">);</span><span style="color: #FF8000">//This will change the players name based on what they wrote in the Input Dialog.
<br/>                </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"You have successfully changed your name, enjoy!"</span><span style="color: #007700">);
<br/>                return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>            }
<br/>        }
<br/>    }
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Now when you go ingame, typing /changename and enter a name in the Input Box, you'll notice your name will be changed!, quite a small basic feature but you can imagine how complicated it would get, if you want to check if another player has that name, but this is for the sake of a Tutorial and learning to use the Dialog's themselves, not feature packed Functions within them.<br />
<br />
<u>DIALOG_STYLE_LIST</u><br />
<img alt="" border="0" src="https://sampwiki.blast.hk/wroot/images2/b/b1/Dialog_style_list.png"/><br />
This is a ListBox, personally my favorite of them all, because of how Dynamic this can be, and its functions, so much use within this 1 Dialog type that it's hard for me to pick a Feature to use for the Tutorial, Teleport List? Yeah lets do it.<br />
<br />
So again, we need that Enum to have our new Dialog ID, name it DIALOG_TELEPORTS.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">enum
<br/></span><span style="color: #007700">{
<br/>    </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">,
<br/>    </span><span style="color: #0000BB">DIALOG_TELEPORTS
<br/></span><span style="color: #007700">}; 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>Now we have a Dialog ID for Teleport List, we can make the Command to show the Dialog itself.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 98px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">teleport</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">params</span><span style="color: #007700">[])
<br/>{
<br/>    </span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_TELEPORTS</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_LIST</span><span style="color: #007700">, </span><span style="color: #DD0000">"Teleport"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Los Santos\nSan Fierro\nLas Venturas"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Teleport"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Exit"</span><span style="color: #007700">);
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>See how we are using that "\n" in the string there, thats because again we are making a new line, like how I exampled earlier, but this time, it does a little more than adding a new "line", let me explain this here.<br />
"Los Santos" will be now on its own line, and when we click only that line, its response would be different than "San Fierro" or "Las Venturas"<br />
they basically get split up into a ***LIST*** <img alt="" border="0" class="inlineimg" src="images/smilies/biggrin.png" title="Cheesy"/> Simple right? sure is!<br />
<br />
So if we go ingame, yet again we can use the Command associated with our new Dialog Type, /teleport, we can click all 3 but nothing will happen because again OnDialogResponse needs to be coded for it, so lets get going with our response code.<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public </span><span style="color: #0000BB">OnDialogResponse</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">dialogid</span><span style="color: #007700">, </span><span style="color: #0000BB">response</span><span style="color: #007700">, </span><span style="color: #0000BB">listitem</span><span style="color: #007700">, </span><span style="color: #0000BB">inputtext</span><span style="color: #007700">[])
<br/>{
<br/>    switch(</span><span style="color: #0000BB">dialogid</span><span style="color: #007700">)
<br/>    {
<br/>        case </span><span style="color: #0000BB">DIALOG_UNUSED</span><span style="color: #007700">: return </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">//This is the Empty Dialog that isn't used as I previously mentioned.
<br/>        </span><span style="color: #007700">case </span><span style="color: #0000BB">DIALOG_TELEPORTS</span><span style="color: #007700">:</span><span style="color: #FF8000">//This is our Teleports Dialog called from CMD:teleport
<br/>        </span><span style="color: #007700">{
<br/>            if(!</span><span style="color: #0000BB">response</span><span style="color: #007700">) return </span><span style="color: #0000BB">1</span><span style="color: #007700">;</span><span style="color: #FF8000">//This is the Exit Button we made, the right side Button
<br/>            </span><span style="color: #007700">else if(</span><span style="color: #0000BB">response</span><span style="color: #007700">)</span><span style="color: #FF8000">//This is the Teleport Button we made, the left side Button
<br/>            </span><span style="color: #007700">{
<br/>                switch(</span><span style="color: #0000BB">listitem</span><span style="color: #007700">)</span><span style="color: #FF8000">//This is switching ListItems, self explanatory BUT this is smart, them "\n" we added play the role on determining how many List Items we have.
<br/>                </span><span style="color: #007700">{
<br/>                    </span><span style="color: #FF8000">//We always start with "0" which is essentially the First List Item from the top.
<br/>                    </span><span style="color: #007700">case </span><span style="color: #0000BB">0</span><span style="color: #007700">:</span><span style="color: #FF8000">//Los Santos Teleport
<br/>                    </span><span style="color: #007700">{
<br/>                        </span><span style="color: #0000BB">SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">1532.0996</span><span style="color: #007700">,-</span><span style="color: #0000BB">1675.6741</span><span style="color: #007700">,</span><span style="color: #0000BB">13.3828</span><span style="color: #007700">);
<br/>                        </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"You've teleported to Los Santos"</span><span style="color: #007700">);
<br/>                        return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>                    }
<br/>                    case </span><span style="color: #0000BB">1</span><span style="color: #007700">:</span><span style="color: #FF8000">//San Fierro Teleport
<br/>                    </span><span style="color: #007700">{
<br/>                        </span><span style="color: #0000BB">SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">2649.0630</span><span style="color: #007700">,</span><span style="color: #0000BB">21.0362</span><span style="color: #007700">,</span><span style="color: #0000BB">6.1328</span><span style="color: #007700">,</span><span style="color: #0000BB">357.6369</span><span style="color: #007700">); </span><span style="color: #FF8000">// San Fierro
<br/>                        </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"You've teleported to San Fierro"</span><span style="color: #007700">);
<br/>                        return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>                    }
<br/>                    case </span><span style="color: #0000BB">2</span><span style="color: #007700">:</span><span style="color: #FF8000">//Las Venturas Teleport
<br/>                    </span><span style="color: #007700">{
<br/>                        </span><span style="color: #0000BB">SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">1687.0597</span><span style="color: #007700">,</span><span style="color: #0000BB">1446.8789</span><span style="color: #007700">,</span><span style="color: #0000BB">10.7688</span><span style="color: #007700">,</span><span style="color: #0000BB">275.8561</span><span style="color: #007700">); </span><span style="color: #FF8000">// Las Venturas
<br/>                        </span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, -</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"You've teleported to Las Venturas"</span><span style="color: #007700">);
<br/>                        return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>                    }
<br/>                }
<br/>            }
<br/>        }
<br/>    }
<br/>    return </span><span style="color: #0000BB">1</span><span style="color: #007700">;
<br/>} 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>That should be perfect, going ingame, typing /teleport should bring us to our Teleport Menu with our 3 Options, selecting one and pressing "Teleport" Button should teleport us to the desired Location now, you can easily add onto this list and create more teleports and modify the existing ones.<br />
<br />
<u>DIALOG_STYLE_PASSWORD</u><br />
<img alt="" border="0" src="https://sampwiki.blast.hk/wroot/images2/f/f8/Dialog_style_password.png"/><br />
This is a Password Input, exactly the same type of Input Dialog as the standard Input one we used to change our name, but this one simply covers the password with the<br />
hidden character, during input... using this is exactly the same as DIALOG_STYLE_INPUT.<br />
Create one and see for yourself, you'd use this specifically for a password screen.<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px solid #C2C2C2;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --><code><span style="color: #000000">
<span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">, </span><span style="color: #0000BB">PUTDIALOGIDHERE</span><span style="color: #007700">, </span><span style="color: #0000BB">DIALOG_STYLE_PASSWORD</span><span style="color: #007700">, </span><span style="color: #DD0000">"Password"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Things you type here will be shown as a password:"</span><span style="color: #007700">,</span><span style="color: #DD0000">"Ok"</span><span style="color: #007700">,</span><span style="color: #DD0000">""</span><span style="color: #007700">); 
<br/></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->
</code>
</div>
</div>
<br />
And that concludes the Tutorial, I seen a few different Tutorials for Dialogs, I even created one myself a few years ago, however that was in 2012 and I wasn't as smart as I am now, so reiterating on it, with switches and decent examples of usage, hopefully this helps someone, it's good to know how to use these, even with all the Textdraws nowadays I still personally prefer Dialogs, feel free to comment any ideas for another Tutorial if you guys need help with something else.<br />
</font></font></b></div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Creating Menus/Dialog Box's - <a href="member688b.html?action=profile&amp;uid=348262">LaKhWaN</a> -  26.06.2020
<br />
<br />
Good work, helpful for beginners keep it up!!<br />
<br />
+Rep
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Creating Menus/Dialog Box's - <a href="memberbdb6.html?action=profile&amp;uid=317673">GameOvr</a> -  26.06.2020
<br />
<br />
Perfect!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Creating Menus/Dialog Box's - <a href="member4be0.html?action=profile&amp;uid=255802">SkyFlare</a> -  26.06.2020
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>LaKhWaN</strong><br />
<a href="showthread6b3c.html?pid=4153105#pid4153105" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Good work, helpful for beginners keep it up!!<br />
<br />
+Rep</div>
</td>
</tr>
</table>
</div><div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>GameOvr</strong><br />
<a href="showthread8872.html?pid=4153107#pid4153107" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">Perfect!</div>
</td>
</tr>
</table>
</div>Thanks guys <img alt="" border="0" class="inlineimg" src="images/smilies/smile.png" title="Smiley"/> Glad this will be of use.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Creating Menus/Dialog Box's - <a href="membereafe.html?action=profile&amp;uid=336308">l0gic</a> -  26.06.2020
<br />
<br />
OnDialogResponse<br />
"Returning 0 in this callback will pass the dialog to another script in case no matching code were found in your gamemode's callback.<br />
It is always called first in filterscripts so returning 1 there blocks other filterscripts from seeing it."
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
Re: Creating Menus/Dialog Box's - <a href="member4be0.html?action=profile&amp;uid=255802">SkyFlare</a> -  27.06.2020
<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table border="0" cellpadding="6" cellspacing="0" width="100%">
<tr>
<td class="alt2" style="border: 1px solid #C2C2C2; font-size: 8pt;">
<div>
					Originally Posted by <strong>l0gic</strong><br />
<a href="showthreadf524.html?pid=4153136#pid4153136" rel="nofollow"><img alt="View Post" border="0" class="inlineimg" src="images/buttons/viewpost.gif"/></a><br />
</div>
<div style="font-style:italic">OnDialogResponse<br />
"Returning 0 in this callback will pass the dialog to another script in case no matching code were found in your gamemode's callback.<br />
It is always called first in filterscripts so returning 1 there blocks other filterscripts from seeing it."</div>
</td>
</tr>
</table>
</div>Thanks man, forgot about return 0, ill make a note of that in the tutorial incase people are using dialogs in filterscripts, but its worth saying its not really a good idea to be wasting a filterscript on dialogs when mappings or features sometimes need to be loaded or unloaded, usually dialogs dont need to be unloaded, regardless the people should know that this is a possibility so itll be noted. 👍🏽😊
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></div>

</div>
</body>
</html>
<!-- end: printthread -->